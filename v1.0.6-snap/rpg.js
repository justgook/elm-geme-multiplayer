var xi="https://peer-js-server.glitch.me";function Ui(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function Ji(e){let r;function t(){e(),window.removeEventListener("scroll",n,!1)}function n(){window.clearTimeout(r),r=window.setTimeout(t,66)}window.addEventListener("scroll",n,!1)}function Gi(){function e(){console.log("checkSwipe"),window.innerHeight===(window.innerHeight>window.innerWidth?window.screen.height:window.screen.width)?(console.log("checkSwipe::disableSwipe"),t()):(console.log("checkSwipe::enableSwipe"),r())}function r(){window.scrollTo(0,0),document.documentElement.classList.add("swipe"),document.body.classList.add("swipe"),Ji(t)}function t(){window.scrollTo(0,0),console.log("disableSwipe"),window.innerHeight===(window.innerHeight>window.innerWidth?window.screen.height:window.screen.width)?(document.documentElement.classList.remove("swipe"),document.body.classList.remove("swipe")):requestAnimationFrame(()=>Ji(t))}e(),window.addEventListener("resize",e)}document.addEventListener("gesturestart",e=>e.preventDefault(),!1);function zi(){"serviceWorker"in navigator&&window.addEventListener("load",async()=>{try{let e=await navigator.serviceWorker.register("/service-worker.js");console.log("ServiceWorker registration successful with scope: ",e.scope)}catch(e){console.log("ServiceWorker registration failed: ",e)}})}var ve;(function(e){e[e.send=0]="send",e[e.join=1]="join",e[e.receive=2]="receive",e[e.error=3]="error",e[e.leave=4]="leave"})(ve||(ve={}));var Wi=(e,r)=>{let t=[],n={...Tf,...r},{connection:a,tick:o,gameChannel:i}=n;a.on(ve.join,f=>t.push([Jr.networkJoin,f])),a.on(ve.receive,(f,d)=>t.push([Jr.networkReceive,f,d])),a.on(ve.error,f=>t.push([Jr.networkError,f])),a.on(ve.leave,f=>t.push([Jr.networkLeave,f])),e.ports.output.subscribe(a.send),a.connect(i);let c=()=>{t.push([Jr.tick,performance.now()]),e.ports.input.send(t),t.length=0,o(c)};c()},Jr;(function(e){e[e.tick=100]="tick",e[e.networkJoin=201]="networkJoin",e[e.networkLeave=202]="networkLeave",e[e.networkReceive=203]="networkReceive",e[e.networkError=204]="networkError"})(Jr||(Jr={}));var Tf={gameChannel:"gameChannel-server",tick:window.requestAnimationFrame};function yr(e,r,t){return t.a=e,t.f=r,t}function T(e){return yr(2,e,function(r){return function(t){return e(r,t)}})}function L(e){return yr(3,e,function(r){return function(t){return function(n){return e(r,t,n)}}})}function ae(e){return yr(4,e,function(r){return function(t){return function(n){return function(a){return e(r,t,n,a)}}}})}function Ee(e){return yr(5,e,function(r){return function(t){return function(n){return function(a){return function(o){return e(r,t,n,a,o)}}}}})}function De(e){return yr(6,e,function(r){return function(t){return function(n){return function(a){return function(o){return function(i){return e(r,t,n,a,o,i)}}}}}})}function Sr(e){return yr(7,e,function(r){return function(t){return function(n){return function(a){return function(o){return function(i){return function(c){return e(r,t,n,a,o,i,c)}}}}}}})}function Zr(e){return yr(8,e,function(r){return function(t){return function(n){return function(a){return function(o){return function(i){return function(c){return function(f){return e(r,t,n,a,o,i,c,f)}}}}}}}})}function yt(e){return yr(9,e,function(r){return function(t){return function(n){return function(a){return function(o){return function(i){return function(c){return function(f){return function(d){return e(r,t,n,a,o,i,c,f,d)}}}}}}}}})}function C(e,r,t){return e.a===2?e.f(r,t):e(r)(t)}function M(e,r,t,n){return e.a===3?e.f(r,t,n):e(r)(t)(n)}function Q(e,r,t,n,a){return e.a===4?e.f(r,t,n,a):e(r)(t)(n)(a)}function G(e,r,t,n,a,o){return e.a===5?e.f(r,t,n,a,o):e(r)(t)(n)(a)(o)}function fr(e,r,t,n,a,o,i){return e.a===6?e.f(r,t,n,a,o,i):e(r)(t)(n)(a)(o)(i)}function x(e,r,t,n,a,o,i,c){return e.a===7?e.f(r,t,n,a,o,i,c):e(r)(t)(n)(a)(o)(i)(c)}function et(e,r,t,n,a,o,i,c,f){return e.a===8?e.f(r,t,n,a,o,i,c,f):e(r)(t)(n)(a)(o)(i)(c)(f)}var Af=[];function Pf(e){return e.length}var Ef=L(function(e,r,t){for(var n=new Array(e),a=0;a<e;a++)n[a]=t(r+a);return n}),Df=T(function(e,r){for(var t=new Array(e),n=0;n<e&&r.b;n++)t[n]=r.a,r=r.b;return t.length=n,U(t,r)}),Bf=T(function(e,r){return r[e]}),Rf=L(function(e,r,t){for(var n=t.length,a=new Array(n),o=0;o<n;o++)a[o]=t[o];return a[e]=r,a}),ky=T(function(e,r){for(var t=r.length,n=new Array(t+1),a=0;a<t;a++)n[a]=r[a];return n[t]=e,n}),My=L(function(e,r,t){for(var n=t.length,a=0;a<n;a++)r=C(e,t[a],r);return r}),jf=L(function(e,r,t){for(var n=t.length-1;n>=0;n--)r=C(e,t[n],r);return r}),Oy=T(function(e,r){for(var t=r.length,n=new Array(t),a=0;a<t;a++)n[a]=e(r[a]);return n}),Ly=L(function(e,r,t){for(var n=t.length,a=new Array(n),o=0;o<n;o++)a[o]=C(e,r+o,t[o]);return a}),Iy=L(function(e,r,t){return t.slice(e,r)}),Fy=L(function(e,r,t){var n=r.length,a=e-n;a>t.length&&(a=t.length);for(var o=n+a,i=new Array(o),c=0;c<n;c++)i[c]=r[c];for(var c=0;c<a;c++)i[c+n]=t[c];return i}),xy=T(function(e,r){return r}),Uy=T(function(e,r){return console.log(e+": "+kf(r)),r});function kf(e){return"<internals>"}function rt(e){throw new Error("https://github.com/elm/core/blob/1.0.0/hints/"+e+".md")}function tt(e,r){for(var t,n=[],a=vo(e,r,0,n);a&&(t=n.pop());a=vo(t.a,t.b,0,n));return a}function vo(e,r,t,n){if(e===r)return!0;if(typeof e!="object"||e===null||r===null)return typeof e=="function"&&rt(5),!1;if(t>100)return n.push(U(e,r)),!0;e.$<0&&(e=Vi(e),r=Vi(r));for(var a in e)if(!vo(e[a],r[a],t+1,n))return!1;return!0}var Jy=T(tt),Gy=T(function(e,r){return!tt(e,r)});function fe(e,r,t){if(typeof e!="object")return e===r?0:e<r?-1:1;if(typeof e.$=="undefined")return(t=fe(e.a,r.a))||(t=fe(e.b,r.b))?t:fe(e.c,r.c);for(;e.b&&r.b&&!(t=fe(e.a,r.a));e=e.b,r=r.b);return t||(e.b?1:r.b?-1:0)}var zy=T(function(e,r){return fe(e,r)<0}),Wy=T(function(e,r){return fe(e,r)<1}),Vy=T(function(e,r){return fe(e,r)>0}),Hy=T(function(e,r){return fe(e,r)>=0}),Of=T(function(e,r){var t=fe(e,r);return t<0?Ni:t?Mf:Hi}),nt=0;function U(e,r){return{a:e,b:r}}function po(e,r,t){return{a:e,b:r,c:t}}function Ze(e){return e}function X(e,r){var t={};for(var n in e)t[n]=e[n];for(var n in r)t[n]=r[n];return t}var Ny=T(St);function St(e,r){if(typeof e=="string")return e+r;if(!e.b)return r;var t=er(e.a,r);e=e.b;for(var n=t;e.b;e=e.b)n=n.b=er(e.a,r);return t}var te={$:0};function er(e,r){return{$:1,a:e,b:r}}var Lf=T(er);function J(e){for(var r=te,t=e.length;t--;)r=er(e[t],r);return r}function $o(e){for(var r=[];e.b;e=e.b)r.push(e.a);return r}var If=L(function(e,r,t){for(var n=[];r.b&&t.b;r=r.b,t=t.b)n.push(C(e,r.a,t.a));return J(n)}),qy=ae(function(e,r,t,n){for(var a=[];r.b&&t.b&&n.b;r=r.b,t=t.b,n=n.b)a.push(M(e,r.a,t.a,n.a));return J(a)}),Qy=Ee(function(e,r,t,n,a){for(var o=[];r.b&&t.b&&n.b&&a.b;r=r.b,t=t.b,n=n.b,a=a.b)o.push(Q(e,r.a,t.a,n.a,a.a));return J(o)}),Ky=De(function(e,r,t,n,a,o){for(var i=[];r.b&&t.b&&n.b&&a.b&&o.b;r=r.b,t=t.b,n=n.b,a=a.b,o=o.b)i.push(G(e,r.a,t.a,n.a,a.a,o.a));return J(i)}),Yy=T(function(e,r){return J($o(r).sort(function(t,n){return fe(e(t),e(n))}))}),Xy=T(function(e,r){return J($o(r).sort(function(t,n){var a=C(e,t,n);return a===Hi?0:a===Ni?-1:1}))}),Zy=T(function(e,r){return e+r}),e1=T(function(e,r){return e-r}),r1=T(function(e,r){return e*r}),t1=T(function(e,r){return e/r}),n1=T(function(e,r){return e/r|0}),a1=T(Math.pow),o1=T(function(e,r){return r%e}),i1=T(function(e,r){var t=r%e;return e===0?rt(11):t>0&&e<0||t<0&&e>0?t+e:t}),Ff=Math.PI;var xf=Math.cos,Uf=Math.sin;var c1=T(Math.atan2);function Jf(e){return e}var Gf=Math.ceil,zf=Math.floor,Wf=Math.round,Vf=Math.sqrt,qi=Math.log,u1=isNaN;var s1=T(function(e,r){return e&&r}),f1=T(function(e,r){return e||r}),l1=T(function(e,r){return e!==r}),Hf=T(function(e,r){return e+r});function Nf(e){var r=e.charCodeAt(0);return isNaN(r)?oe:K(55296<=r&&r<=56319?U(Ze(e[0]+e[1]),e.slice(2)):U(Ze(e[0]),e.slice(1)))}var v1=T(function(e,r){return e+r});function qf(e){return e.length}var p1=T(function(e,r){for(var t=r.length,n=new Array(t),a=0;a<t;){var o=r.charCodeAt(a);if(55296<=o&&o<=56319){n[a]=e(Ze(r[a]+r[a+1])),a+=2;continue}n[a]=e(Ze(r[a])),a++}return n.join("")}),$1=T(function(e,r){for(var t=[],n=r.length,a=0;a<n;){var o=r[a],i=r.charCodeAt(a);a++,55296<=i&&i<=56319&&(o+=r[a],a++),e(Ze(o))&&t.push(o)}return t.join("")});var Qf=L(function(e,r,t){for(var n=t.length,a=0;a<n;){var o=t[a],i=t.charCodeAt(a);a++,55296<=i&&i<=56319&&(o+=t[a],a++),r=C(e,Ze(o),r)}return r}),Kf=L(function(e,r,t){for(var n=t.length;n--;){var a=t[n],o=t.charCodeAt(n);56320<=o&&o<=57343&&(n--,a=t[n]+a),r=C(e,Ze(a),r)}return r}),Yf=T(function(e,r){return r.split(e)}),Xf=T(function(e,r){return r.join(e)}),Zf=L(function(e,r,t){return t.slice(e,r)});var d1=T(function(e,r){for(var t=r.length;t--;){var n=r[t],a=r.charCodeAt(t);if(56320<=a&&a<=57343&&(t--,n=r[t]+n),e(Ze(n)))return!0}return!1}),el=T(function(e,r){for(var t=r.length;t--;){var n=r[t],a=r.charCodeAt(t);if(56320<=a&&a<=57343&&(t--,n=r[t]+n),!e(Ze(n)))return!1}return!0}),rl=T(function(e,r){return r.indexOf(e)>-1}),tl=T(function(e,r){return r.indexOf(e)===0}),h1=T(function(e,r){return r.length>=e.length&&r.lastIndexOf(e)===r.length-e.length}),nl=T(function(e,r){var t=e.length;if(t<1)return te;for(var n=0,a=[];(n=r.indexOf(e,n))>-1;)a.push(n),n=n+t;return J(a)});function Qi(e){return e+""}function al(e){for(var r=0,t=e.charCodeAt(0),n=t==43||t==45?1:0,a=n;a<e.length;++a){var o=e.charCodeAt(a);if(o<48||57<o)return oe;r=10*r+o-48}return a==n?oe:K(t==45?-r:r)}function ol(e){var r=e.charCodeAt(0);return 55296<=r&&r<=56319?(r-55296)*1024+e.charCodeAt(1)-56320+65536:r}function il(e){return Ze(e<0||1114111<e?"\uFFFD":e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(Math.floor(e/1024)+55296,e%1024+56320)))}function cl(e){return{$:0,a:e}}function ul(e){return{$:1,a:e}}function Ct(e){return{$:2,b:e}}var sl=Ct(function(e){return typeof e!="number"?ke("an INT",e):-2147483647<e&&e<2147483647&&(e|0)===e||isFinite(e)&&!(e%1)?Be(e):ke("an INT",e)}),fl=Ct(function(e){return typeof e=="boolean"?Be(e):ke("a BOOL",e)}),ll=Ct(function(e){return typeof e=="number"?Be(e):ke("a FLOAT",e)}),vl=Ct(function(e){return Be(Cr(e))}),pl=Ct(function(e){return typeof e=="string"?Be(e):e instanceof String?Be(e+""):ke("a STRING",e)});function $l(e){return{$:3,b:e}}var dl=T(function(e,r){return{$:6,d:e,b:r}}),hl=T(function(e,r){return{$:7,e,b:r}});function wr(e,r){return{$:9,f:e,g:r}}var ml=T(function(e,r){return{$:10,b:r,h:e}});var _l=T(function(e,r){return wr(e,[r])}),bl=L(function(e,r,t){return wr(e,[r,t])}),gl=ae(function(e,r,t,n){return wr(e,[r,t,n])}),yl=Ee(function(e,r,t,n,a){return wr(e,[r,t,n,a])}),m1=De(function(e,r,t,n,a,o){return wr(e,[r,t,n,a,o])}),_1=Sr(function(e,r,t,n,a,o,i){return wr(e,[r,t,n,a,o,i])}),b1=Zr(function(e,r,t,n,a,o,i,c){return wr(e,[r,t,n,a,o,i,c])}),g1=yt(function(e,r,t,n,a,o,i,c,f){return wr(e,[r,t,n,a,o,i,c,f])}),y1=T(function(e,r){try{var t=JSON.parse(r);return Me(e,t)}catch(n){return lr(C(ho,"This is not valid JSON! "+n.message,Cr(r)))}}),mo=T(function(e,r){return Me(e,at(r))});function Me(e,r){switch(e.$){case 2:return e.b(r);case 5:return r===null?Be(e.c):ke("null",r);case 3:return pa(r)?Ki(e.b,r,J):ke("a LIST",r);case 4:return pa(r)?Ki(e.b,r,Sl):ke("an ARRAY",r);case 6:var t=e.d;if(typeof r!="object"||r===null||!(t in r))return ke("an OBJECT with a field named `"+t+"`",r);var n=Me(e.b,r[t]);return Ve(n)?n:lr(C(Yi,t,n.a));case 7:var a=e.e;if(!pa(r))return ke("an ARRAY",r);if(a>=r.length)return ke("a LONGER array. Need index "+a+" but only see "+r.length+" entries",r);var n=Me(e.b,r[a]);return Ve(n)?n:lr(C(Xi,a,n.a));case 8:if(typeof r!="object"||r===null||pa(r))return ke("an OBJECT",r);var o=te;for(var i in r)if(r.hasOwnProperty(i)){var n=Me(e.b,r[i]);if(!Ve(n))return lr(C(Yi,i,n.a));o=er(U(i,n.a),o)}return Be(rr(o));case 9:for(var c=e.f,f=e.g,d=0;d<f.length;d++){var n=Me(f[d],r);if(!Ve(n))return n;c=c(n.a)}return Be(c);case 10:var n=Me(e.b,r);return Ve(n)?Me(e.h(n.a),r):n;case 11:for(var p=te,y=e.g;y.b;y=y.b){var n=Me(y.a,r);if(Ve(n))return n;p=er(n.a,p)}return lr(Cl(rr(p)));case 1:return lr(C(ho,e.a,Cr(r)));case 0:return Be(e.a)}}function Ki(e,r,t){for(var n=r.length,a=new Array(n),o=0;o<n;o++){var i=Me(e,r[o]);if(!Ve(i))return lr(C(Xi,o,i.a));a[o]=i.a}return Be(t(a))}function pa(e){return Array.isArray(e)||typeof FileList!="undefined"&&e instanceof FileList}function Sl(e){return C(Zi,e.length,function(r){return e[r]})}function ke(e,r){return lr(C(ho,"Expecting "+e,Cr(r)))}function ot(e,r){if(e===r)return!0;if(e.$!==r.$)return!1;switch(e.$){case 0:case 1:return e.a===r.a;case 2:return e.b===r.b;case 5:return e.c===r.c;case 3:case 4:case 8:return ot(e.b,r.b);case 6:return e.d===r.d&&ot(e.b,r.b);case 7:return e.e===r.e&&ot(e.b,r.b);case 9:return e.f===r.f&&ec(e.g,r.g);case 10:return e.h===r.h&&ot(e.b,r.b);case 11:return ec(e.g,r.g)}}function ec(e,r){var t=e.length;if(t!==r.length)return!1;for(var n=0;n<t;n++)if(!ot(e[n],r[n]))return!1;return!0}var wl=T(function(e,r){return JSON.stringify(at(r),null,e)+""});function Cr(e){return e}function at(e){return e}var S1=L(function(e,r,t){return t[e]=at(r),t});var C1=Cr(null);function tr(e){return{$:0,a:e}}function _o(e){return{$:1,a:e}}function Oe(e){return{$:2,b:e,c:null}}var bo=T(function(e,r){return{$:3,b:e,d:r}}),Tl=T(function(e,r){return{$:4,b:e,d:r}});function Al(e){return{$:5,b:e}}var Pl=0;function yo(e){var r={$:0,e:Pl++,f:e,g:null,h:[]};return go(r),r}function rc(e){return Oe(function(r){r(tr(yo(e)))})}function tc(e,r){e.h.push(r),go(e)}var El=T(function(e,r){return Oe(function(t){tc(e,r),t(tr(nt))})});var So=!1,nc=[];function go(e){if(nc.push(e),!So){for(So=!0;e=nc.shift();)Dl(e);So=!1}}function Dl(e){for(;e.f;){var r=e.f.$;if(r===0||r===1){for(;e.g&&e.g.$!==r;)e.g=e.g.i;if(!e.g)return;e.f=e.g.b(e.f.a),e.g=e.g.i}else if(r===2){e.f.c=e.f.b(function(t){e.f=t,go(e)});return}else if(r===5){if(e.h.length===0)return;e.f=e.f.b(e.h.shift())}else e.g={$:r===3?0:1,b:e.f.b,i:e.g},e.f=e.f.d}}function Bl(e){return Oe(function(r){var t=setTimeout(function(){r(tr(nt))},e);return function(){clearTimeout(t)}})}var w1=ae(function(e,r,t,n){return Co(r,n,e.b5,e.df,e.eH,function(){return function(){}})});function Co(e,r,t,n,a,o){var i=C(mo,e,Cr(r?r.flags:void 0));Ve(i)||rt(2);var c={},f=t(i.a),d=f.a,p=o(s,d),y=Rl(c,s);function s($,h){var S=C(n,$,d);p(d=S.a,h),ac(c,S.b,a(d))}return ac(c,f.b,a(d)),y?{ports:y}:{}}var we={};function Rl(e,r){var t;for(var n in we){var a=we[n];a.a&&(t=t||{},t[n]=a.a(n,r)),e[n]=jl(a,r)}return t}function kl(e,r,t,n,a){return{b:e,c:r,d:t,e:n,f:a}}function jl(e,r){var t={g:r,h:void 0},n=e.c,a=e.d,o=e.e,i=e.f;function c(f){return C(bo,c,Al(function(d){var p=d.a;return d.$===0?M(a,t,p,f):o&&i?Q(n,t,p.i,p.j,f):M(n,t,o?p.i:p.j,f)}))}return t.h=yo(C(bo,c,e.b))}var Ml=T(function(e,r){return Oe(function(t){e.g(r),t(tr(nt))})}),T1=T(function(e,r){return C(El,e.h,{$:0,a:r})});function wo(e){return function(r){return{$:1,k:e,l:r}}}function Ol(e){return{$:2,m:e}}var A1=T(function(e,r){return{$:3,n:e,o:r}}),oc=[],To=!1;function ac(e,r,t){if(oc.push({p:e,q:r,r:t}),!To){To=!0;for(var n;n=oc.shift();)Ll(n.p,n.q,n.r);To=!1}}function Ll(e,r,t){var n={};$a(!0,r,n,null),$a(!1,t,n,null);for(var a in e)tc(e[a],{$:"fx",a:n[a]||{i:te,j:te}})}function $a(e,r,t,n){switch(r.$){case 1:var a=r.k,o=Il(e,a,n,r.l);t[a]=Fl(e,o,t[a]);return;case 2:for(var i=r.m;i.b;i=i.b)$a(e,i.a,t,n);return;case 3:$a(e,r.o,t,{s:r.n,t:n});return}}function Il(e,r,t,n){function a(i){for(var c=t;c;c=c.t)i=c.s(i);return i}var o=e?we[r].e:we[r].f;return C(o,a,n)}function Fl(e,r,t){return t=t||{i:te,j:te},e?t.i=er(r,t.i):t.j=er(r,t.j),t}function ic(e){we[e]&&rt(3,e)}function da(e,r){return ic(e),we[e]={e:xl,u:r,a:Ul},wo(e)}var xl=T(function(e,r){return r});function Ul(e){var r=[],t=we[e].u,n=Bl(0);we[e].b=n,we[e].c=L(function(i,c,f){for(;c.b;c=c.b)for(var d=r,p=at(t(c.a)),y=0;y<d.length;y++)d[y](p);return n});function a(i){r.push(i)}function o(i){r=r.slice();var c=r.indexOf(i);c>=0&&r.splice(c,1)}return{subscribe:a,unsubscribe:o}}function zl(e,r){return ic(e),we[e]={f:Jl,u:r,a:Gl},wo(e)}var Jl=T(function(e,r){return function(t){return e(r(t))}});function Gl(e,r){var t=te,n=we[e].u,a=tr(null);we[e].b=a,we[e].c=L(function(i,c,f){return t=c,a});function o(i){var c=C(mo,n,Cr(i));Ve(c)||rt(4,e,c.a);for(var f=c.a,d=t;d.b;d=d.b)r(d.a(f))}return{send:o}}var Hl=De(function(e,r,t,n,a,o){var i=r!==9728&&r!==9729;return Oe(function(c){var f=new Image;function d(p){var y=p.createTexture();return p.bindTexture(p.TEXTURE_2D,y),p.pixelStorei(p.UNPACK_FLIP_Y_WEBGL,a),p.texImage2D(p.TEXTURE_2D,0,p.RGBA,p.RGBA,p.UNSIGNED_BYTE,f),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,e),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,r),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,t),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,n),i&&p.generateMipmap(p.TEXTURE_2D),p.bindTexture(p.TEXTURE_2D,null),y}f.onload=function(){var p=f.width,y=f.height,s=(p&p-1)==0,$=(y&y-1)==0,h=s&&$||!i&&t===33071&&n===33071;c(h?tr({$:0,dz:d,a:p,b:y}):_o(C(Vl,p,y)))},f.onerror=function(){c(_o(Wl))},o.slice(0,5)!=="data:"&&(f.crossOrigin="Anonymous"),f.src=o})}),Nl=function(e){return U(e.a,e.b)},ha,vr=typeof document!="undefined"?document:{};function Ao(e,r){e.appendChild(r)}var P1=ae(function(e,r,t,n){var a=n.node;return a.parentNode.replaceChild(Tr(e,function(){}),a),{}});function cc(e){return{$:0,a:e}}var ql=T(function(e,r){return T(function(t,n){for(var a=[],o=0;n.b;n=n.b){var i=n.a;o+=i.b||0,a.push(i)}return o+=a.length,{$:1,c:r,d:Po(t),e:a,f:e,b:o}})}),uc=ql(void 0),Ql=T(function(e,r){return T(function(t,n){for(var a=[],o=0;n.b;n=n.b){var i=n.a;o+=i.b.b||0,a.push(i)}return o+=a.length,{$:2,c:r,d:Po(t),e:a,f:e,b:o}})}),E1=Ql(void 0);function Kl(e,r,t,n){return{$:3,d:Po(e),g:r,h:t,i:n}}var D1=T(function(e,r){return{$:4,j:e,k:r,b:1+(r.b||0)}});function Ar(e,r){return{$:5,l:e,m:r,k:void 0}}var B1=T(function(e,r){return Ar([e,r],function(){return e(r)})}),R1=L(function(e,r,t){return Ar([e,r,t],function(){return C(e,r,t)})}),Yl=ae(function(e,r,t,n){return Ar([e,r,t,n],function(){return M(e,r,t,n)})}),j1=Ee(function(e,r,t,n,a){return Ar([e,r,t,n,a],function(){return Q(e,r,t,n,a)})}),k1=De(function(e,r,t,n,a,o){return Ar([e,r,t,n,a,o],function(){return G(e,r,t,n,a,o)})}),M1=Sr(function(e,r,t,n,a,o,i){return Ar([e,r,t,n,a,o,i],function(){return fr(e,r,t,n,a,o,i)})}),O1=Zr(function(e,r,t,n,a,o,i,c){return Ar([e,r,t,n,a,o,i,c],function(){return x(e,r,t,n,a,o,i,c)})}),L1=yt(function(e,r,t,n,a,o,i,c,f){return Ar([e,r,t,n,a,o,i,c,f],function(){return et(e,r,t,n,a,o,i,c,f)})}),Xl=T(function(e,r){return{$:"a0",n:e,o:r}}),I1=T(function(e,r){return{$:"a1",n:e,o:r}}),F1=T(function(e,r){return{$:"a2",n:e,o:r}}),Eo=T(function(e,r){return{$:"a3",n:e,o:r}}),x1=L(function(e,r,t){return{$:"a4",n:r,o:{f:e,o:t}}});var U1=T(function(e,r){return r.$==="a0"?C(Xl,r.n,Zl(e,r.o)):r});function Zl(e,r){var t=Do(r);return{$:r.$,a:t?M(wt,t<3?ev:rv,z(e),r.a):C(Gr,e,r.a)}}var ev=T(function(e,r){return U(e(r.a),r.b)}),rv=T(function(e,r){return{U:e(r.U),br:r.br,bj:r.bj}});function Po(e){for(var r={};e.b;e=e.b){var t=e.a,n=t.$,a=t.n,o=t.o;if(n==="a2"){a==="className"?sc(r,a,at(o)):r[a]=at(o);continue}var i=r[n]||(r[n]={});n==="a3"&&a==="class"?sc(i,a,o):i[a]=o}return r}function sc(e,r,t){var n=e[r];e[r]=n?n+" "+t:t}function Tr(e,r){var t=e.$;if(t===5)return Tr(e.k||(e.k=e.m()),r);if(t===0)return vr.createTextNode(e.a);if(t===4){for(var n=e.k,a=e.j;n.$===4;)typeof a!="object"?a=[a,n.j]:a.push(n.j),n=n.k;var o={j:a,p:r},i=Tr(n,o);return i.elm_event_node_ref=o,i}if(t===3){var i=e.h(e.g);return Bo(i,r,e.d),i}var i=e.f?vr.createElementNS(e.f,e.c):vr.createElement(e.c);ha&&e.c=="a"&&i.addEventListener("click",ha(i)),Bo(i,r,e.d);for(var c=e.e,f=0;f<c.length;f++)Ao(i,Tr(t===1?c[f]:c[f].b,r));return i}function Bo(e,r,t){for(var n in t){var a=t[n];n==="a1"?tv(e,a):n==="a0"?ov(e,r,a):n==="a3"?nv(e,a):n==="a4"?av(e,a):(n!=="value"&&n!=="checked"||e[n]!==a)&&(e[n]=a)}}function tv(e,r){var t=e.style;for(var n in r)t[n]=r[n]}function nv(e,r){for(var t in r){var n=r[t];typeof n!="undefined"?e.setAttribute(t,n):e.removeAttribute(t)}}function av(e,r){for(var t in r){var n=r[t],a=n.f,o=n.o;typeof o!="undefined"?e.setAttributeNS(a,t,o):e.removeAttributeNS(a,t)}}function ov(e,r,t){var n=e.elmFs||(e.elmFs={});for(var a in t){var o=t[a],i=n[a];if(!o){e.removeEventListener(a,i),n[a]=void 0;continue}if(i){var c=i.q;if(c.$===o.$){i.q=o;continue}e.removeEventListener(a,i)}i=iv(r,o),e.addEventListener(a,i,Ro&&{passive:Do(o)<2}),n[a]=i}}var Ro;try{window.addEventListener("t",null,Object.defineProperty({},"passive",{get:function(){Ro=!0}}))}catch(e){}function iv(e,r){function t(n){var a=t.q,o=Me(a.a,n);if(!!Ve(o)){for(var i=Do(a),c=o.a,f=i?i<3?c.a:c.U:c,d=i==1?c.b:i==3&&c.br,p=(d&&n.stopPropagation(),(i==2?c.b:i==3&&c.bj)&&n.preventDefault(),e),y,s;y=p.j;){if(typeof y=="function")f=y(f);else for(var s=y.length;s--;)f=y[s](f);p=p.p}p(f,d)}}return t.q=r,t}function cv(e,r){return e.$==r.$&&ot(e.a,r.a)}function fc(e,r){var t=[];return He(e,r,t,0),t}function Se(e,r,t,n){var a={$:r,r:t,s:n,t:void 0,u:void 0};return e.push(a),a}function He(e,r,t,n){if(e!==r){var a=e.$,o=r.$;if(a!==o)if(a===1&&o===2)r=lv(r),o=1;else{Se(t,0,n,r);return}switch(o){case 5:for(var i=e.l,c=r.l,f=i.length,d=f===c.length;d&&f--;)d=i[f]===c[f];if(d){r.k=e.k;return}r.k=r.m();var p=[];He(e.k,r.k,p,0),p.length>0&&Se(t,1,n,p);return;case 4:for(var y=e.j,s=r.j,$=!1,h=e.k;h.$===4;)$=!0,typeof y!="object"?y=[y,h.j]:y.push(h.j),h=h.k;for(var S=r.k;S.$===4;)$=!0,typeof s!="object"?s=[s,S.j]:s.push(S.j),S=S.k;if($&&y.length!==s.length){Se(t,0,n,r);return}($?!uv(y,s):y!==s)&&Se(t,2,n,s),He(h,S,t,n+1);return;case 0:e.a!==r.a&&Se(t,3,n,r.a);return;case 1:lc(e,r,t,n,sv);return;case 2:lc(e,r,t,n,fv);return;case 3:if(e.h!==r.h){Se(t,0,n,r);return}var _=jo(e.d,r.d);_&&Se(t,4,n,_);var m=r.i(e.g,r.g);m&&Se(t,5,n,m);return}}}function uv(e,r){for(var t=0;t<e.length;t++)if(e[t]!==r[t])return!1;return!0}function lc(e,r,t,n,a){if(e.c!==r.c||e.f!==r.f){Se(t,0,n,r);return}var o=jo(e.d,r.d);o&&Se(t,4,n,o),a(e,r,t,n)}function jo(e,r,t){var n;for(var a in e){if(a==="a1"||a==="a0"||a==="a3"||a==="a4"){var o=jo(e[a],r[a]||{},a);o&&(n=n||{},n[a]=o);continue}if(!(a in r)){n=n||{},n[a]=t?t==="a1"?"":t==="a0"||t==="a3"?void 0:{f:e[a].f,o:void 0}:typeof e[a]=="string"?"":null;continue}var i=e[a],c=r[a];i===c&&a!=="value"&&a!=="checked"||t==="a0"&&cv(i,c)||(n=n||{},n[a]=c)}for(var f in r)f in e||(n=n||{},n[f]=r[f]);return n}function sv(e,r,t,n){var a=e.e,o=r.e,i=a.length,c=o.length;i>c?Se(t,6,n,{v:c,i:i-c}):i<c&&Se(t,7,n,{v:i,e:o});for(var f=i<c?i:c,d=0;d<f;d++){var p=a[d];He(p,o[d],t,++n),n+=p.b||0}}function fv(e,r,t,n){for(var a=[],o={},i=[],c=e.e,f=r.e,d=c.length,p=f.length,y=0,s=0,$=n;y<d&&s<p;){var h=c[y],S=f[s],_=h.a,m=S.a,b=h.b,l=S.b,v=void 0,u=void 0;if(_===m){$++,He(b,l,a,$),$+=b.b||0,y++,s++;continue}var g=c[y+1],w=f[s+1];if(g){var A=g.a,P=g.b;u=m===A}if(w){var E=w.a,R=w.b;v=_===E}if(v&&u){$++,He(b,R,a,$),Tt(o,a,_,l,s,i),$+=b.b||0,$++,At(o,a,_,P,$),$+=P.b||0,y+=2,s+=2;continue}if(v){$++,Tt(o,a,m,l,s,i),He(b,R,a,$),$+=b.b||0,y+=1,s+=2;continue}if(u){$++,At(o,a,_,b,$),$+=b.b||0,$++,He(P,l,a,$),$+=P.b||0,y+=2,s+=1;continue}if(g&&A===E){$++,At(o,a,_,b,$),Tt(o,a,m,l,s,i),$+=b.b||0,$++,He(P,R,a,$),$+=P.b||0,y+=2,s+=2;continue}break}for(;y<d;){$++;var h=c[y],b=h.b;At(o,a,h.a,b,$),$+=b.b||0,y++}for(;s<p;){var B=B||[],S=f[s];Tt(o,a,S.a,S.b,void 0,B),s++}(a.length>0||i.length>0||B)&&Se(t,8,n,{w:a,x:i,y:B})}var vc="_elmW6BL";function Tt(e,r,t,n,a,o){var i=e[t];if(!i){i={c:0,z:n,r:a,s:void 0},o.push({r:a,A:i}),e[t]=i;return}if(i.c===1){o.push({r:a,A:i}),i.c=2;var c=[];He(i.z,n,c,i.r),i.r=a,i.s.s={w:c,A:i};return}Tt(e,r,t+vc,n,a,o)}function At(e,r,t,n,a){var o=e[t];if(!o){var i=Se(r,9,a,void 0);e[t]={c:1,z:n,r:a,s:i};return}if(o.c===0){o.c=2;var c=[];He(n,o.z,c,a),Se(r,9,a,{w:c,A:o});return}At(e,r,t+vc,n,a)}function pc(e,r,t,n){Pt(e,r,t,0,0,r.b,n)}function Pt(e,r,t,n,a,o,i){for(var c=t[n],f=c.r;f===a;){var d=c.$;if(d===1)pc(e,r.k,c.s,i);else if(d===8){c.t=e,c.u=i;var p=c.s.w;p.length>0&&Pt(e,r,p,0,a,o,i)}else if(d===9){c.t=e,c.u=i;var y=c.s;if(y){y.A.s=e;var p=y.w;p.length>0&&Pt(e,r,p,0,a,o,i)}}else c.t=e,c.u=i;if(n++,!(c=t[n])||(f=c.r)>o)return n}var s=r.$;if(s===4){for(var $=r.k;$.$===4;)$=$.k;return Pt(e,$,t,n,a+1,o,e.elm_event_node_ref)}for(var h=r.e,S=e.childNodes,_=0;_<h.length;_++){a++;var m=s===1?h[_]:h[_].b,b=a+(m.b||0);if(a<=f&&f<=b&&(n=Pt(S[_],m,t,n,a,b,i),!(c=t[n])||(f=c.r)>o))return n;a=b}return n}function $c(e,r,t,n){return t.length===0?e:(pc(e,r,t,n),ma(e,t))}function ma(e,r){for(var t=0;t<r.length;t++){var n=r[t],a=n.t,o=vv(a,n);a===e&&(e=o)}return e}function vv(e,r){switch(r.$){case 0:return pv(e,r.s,r.u);case 4:return Bo(e,r.u,r.s),e;case 3:return e.replaceData(0,e.length,r.s),e;case 1:return ma(e,r.s);case 2:return e.elm_event_node_ref?e.elm_event_node_ref.j=r.s:e.elm_event_node_ref={j:r.s,p:r.u},e;case 6:for(var t=r.s,a=0;a<t.i;a++)e.removeChild(e.childNodes[t.v]);return e;case 7:for(var t=r.s,n=t.e,a=t.v,o=e.childNodes[a];a<n.length;a++)e.insertBefore(Tr(n[a],r.u),o);return e;case 9:var t=r.s;if(!t)return e.parentNode.removeChild(e),e;var i=t.A;return typeof i.r!="undefined"&&e.parentNode.removeChild(e),i.s=ma(e,t.w),e;case 8:return $v(e,r);case 5:return r.s(e);default:rt(10)}}function pv(e,r,t){var n=e.parentNode,a=Tr(r,t);return a.elm_event_node_ref||(a.elm_event_node_ref=e.elm_event_node_ref),n&&a!==e&&n.replaceChild(a,e),a}function $v(e,r){var t=r.s,n=dv(t.y,r);e=ma(e,t.w);for(var a=t.x,o=0;o<a.length;o++){var i=a[o],c=i.A,f=c.c===2?c.s:Tr(c.z,r.u);e.insertBefore(f,e.childNodes[i.r])}return n&&Ao(e,n),e}function dv(e,r){if(!!e){for(var t=vr.createDocumentFragment(),n=0;n<e.length;n++){var a=e[n],o=a.A;Ao(t,o.c===2?o.s:Tr(o.z,r.u))}return t}}function ko(e){if(e.nodeType===3)return cc(e.textContent);if(e.nodeType!==1)return cc("");for(var r=te,t=e.attributes,n=t.length;n--;){var a=t[n],o=a.name,i=a.value;r=er(C(Eo,o,i),r)}for(var c=e.tagName.toLowerCase(),f=te,d=e.childNodes,n=d.length;n--;)f=er(ko(d[n]),f);return M(uc,c,r,f)}function lv(e){for(var r=e.e,t=r.length,n=new Array(t),a=0;a<t;a++)n[a]=r[a].b;return{$:1,c:e.c,d:e.d,e:n,f:e.f,b:e.b}}var hv,mv=hv||ae(function(e,r,t,n){return Co(r,n,e.b5,e.df,e.eH,function(a,o){var i=e.e$,c=n.node,f=ko(c);return dc(o,function(d){var p=i(d),y=fc(f,p);c=$c(c,f,y,a),f=p})})}),_v,J1=_v||ae(function(e,r,t,n){return Co(r,n,e.b5,e.df,e.eH,function(a,o){var i=e.bp&&e.bp(a),c=e.e$,f=vr.title,d=vr.body,p=ko(d);return dc(o,function(y){ha=i;var s=c(y),$=uc("body")(te)(s.a0),h=fc(p,$);d=$c(d,p,h,a),p=$,ha=0,f!==s.bv&&(vr.title=f=s.bv)})})}),G1=typeof cancelAnimationFrame!="undefined"?cancelAnimationFrame:function(e){clearTimeout(e)},_a=typeof requestAnimationFrame!="undefined"?requestAnimationFrame:function(e){return setTimeout(e,1e3/60)};function dc(e,r){r(e);var t=0;function n(){t=t===1?0:(_a(n),r(e),1)}return function(a,o){e=a,o?(r(e),t===2&&(t=1)):(t===0&&_a(n),t=2)}}var z1=T(function(e,r){return C(Oo,Mo,Oe(function(){r&&history.go(r),e()}))}),W1=T(function(e,r){return C(Oo,Mo,Oe(function(){history.pushState({},"",r),e()}))}),V1=T(function(e,r){return C(Oo,Mo,Oe(function(){history.replaceState({},"",r),e()}))}),hc={addEventListener:function(){},removeEventListener:function(){}},H1=typeof document!="undefined"?document:hc,bv=typeof window!="undefined"?window:hc,N1=L(function(e,r,t){return rc(Oe(function(n){function a(o){yo(t(o))}return e.addEventListener(r,a,Ro&&{passive:!0}),function(){e.removeEventListener(r,a)}}))}),q1=T(function(e,r){var t=Me(e,r);return Ve(t)?K(t.a):oe});function mc(e,r){return Oe(function(t){_a(function(){var n=document.getElementById(e);t(n?tr(r(n)):_o(gv(e)))})})}function yv(e){return Oe(function(r){_a(function(){r(tr(e()))})})}var Q1=T(function(e,r){return mc(r,function(t){return t[e](),nt})});var K1=T(function(e,r){return yv(function(){return bv.scroll(e,r),nt})});var Y1=L(function(e,r,t){return mc(e,function(n){return n.scrollLeft=r,n.scrollTop=t,nt})});var _c=0;function Et(e,r){for(;r.b;r=r.b)e(r.a)}function Lo(e){for(var r=0;e.b;e=e.b)r++;return r}var Sv=typeof requestAnimationFrame!="undefined"?requestAnimationFrame:function(e){setTimeout(e,1e3/60)},Cv=Ee(function(e,r,t,n,a){return{$:0,a:e,b:r,c:t,d:n,e:a}}),wv=T(function(e,r){var t=e.blend;t.toggle=e.toggle,t.enabled||(e.gl.enable(e.gl.BLEND),t.enabled=!0),(t.a!==r.a||t.d!==r.d)&&(e.gl.blendEquationSeparate(r.a,r.d),t.a=r.a,t.d=r.d),(t.b!==r.b||t.c!==r.c||t.e!==r.e||t.f!==r.f)&&(e.gl.blendFuncSeparate(r.b,r.c,r.e,r.f),t.b=r.b,t.c=r.c,t.e=r.e,t.f=r.f),(t.g!==r.g||t.h!==r.h||t.i!==r.i||t.j!==r.j)&&(e.gl.blendColor(r.g,r.h,r.i,r.j),t.g=r.g,t.h=r.h,t.i=r.i,t.j=r.j)}),Tv=T(function(e,r){var t=e.depthTest;t.toggle=e.toggle,t.enabled||(e.gl.enable(e.gl.DEPTH_TEST),t.enabled=!0),t.a!==r.a&&(e.gl.depthFunc(r.a),t.a=r.a),t.b!==r.b&&(e.gl.depthMask(r.b),t.b=r.b),(t.c!==r.c||t.d!==r.d)&&(e.gl.depthRange(r.c,r.d),t.c=r.c,t.d=r.d)}),Av=T(function(e,r){var t=e.stencilTest;t.toggle=e.toggle,t.enabled||(e.gl.enable(e.gl.STENCIL_TEST),t.enabled=!0),(t.d!==r.d||t.a!==r.a||t.b!==r.b)&&(e.gl.stencilFuncSeparate(e.gl.FRONT,r.d,r.a,r.b),t.d=r.d),(t.e!==r.e||t.f!==r.f||t.g!==r.g)&&(e.gl.stencilOpSeparate(e.gl.FRONT,r.e,r.f,r.g),t.e=r.e,t.f=r.f,t.g=r.g),t.c!==r.c&&(e.gl.stencilMask(r.c),t.c=r.c),(t.h!==r.h||t.a!==r.a||t.b!==r.b)&&(e.gl.stencilFuncSeparate(e.gl.BACK,r.h,r.a,r.b),t.h=r.h,t.a=r.a,t.b=r.b),(t.i!==r.i||t.j!==r.j||t.k!==r.k)&&(e.gl.stencilOpSeparate(e.gl.BACK,r.i,r.j,r.k),t.i=r.i,t.j=r.j,t.k=r.k)}),Pv=T(function(e,r){var t=e.scissor;t.toggle=e.toggle,t.enabled||(e.gl.enable(e.gl.SCISSOR_TEST),t.enabled=!0),(t.a!==r.a||t.b!==r.b||t.c!==r.c||t.d!==r.d)&&(e.gl.scissor(r.a,r.b,r.c,r.d),t.a=r.a,t.b=r.b,t.c=r.c,t.d=r.d)}),Ev=T(function(e,r){var t=e.colorMask;t.toggle=e.toggle,t.enabled=!0,(t.a!==r.a||t.b!==r.b||t.c!==r.c||t.d!==r.d)&&(e.gl.colorMask(r.a,r.b,r.c,r.d),t.a=r.a,t.b=r.b,t.c=r.c,t.d=r.d)}),Dv=T(function(e,r){var t=e.cullFace;t.toggle=e.toggle,t.enabled||(e.gl.enable(e.gl.CULL_FACE),t.enabled=!0),t.a!==r.a&&(e.gl.cullFace(r.a),t.a=r.a)}),Bv=T(function(e,r){var t=e.polygonOffset;t.toggle=e.toggle,t.enabled||(e.gl.enable(e.gl.POLYGON_OFFSET_FILL),t.enabled=!0),(t.a!==r.a||t.b!==r.b)&&(e.gl.polygonOffset(r.a,r.b),t.a=r.a,t.b=r.b)}),Rv=T(function(e,r){var t=e.sampleCoverage;t.toggle=e.toggle,t.enabled||(e.gl.enable(e.gl.SAMPLE_COVERAGE),t.enabled=!0),(t.a!==r.a||t.b!==r.b)&&(e.gl.sampleCoverage(r.a,r.b),t.a=r.a,t.b=r.b)}),jv=function(e){var r=e.sampleAlphaToCoverage;r.toggle=e.toggle,r.enabled||(e.gl.enable(e.gl.SAMPLE_ALPHA_TO_COVERAGE),r.enabled=!0)},kv=function(e){e.blend.enabled&&(e.gl.disable(e.gl.BLEND),e.blend.enabled=!1)},Mv=function(e){e.depthTest.enabled&&(e.gl.disable(e.gl.DEPTH_TEST),e.depthTest.enabled=!1)},Ov=function(e){e.stencilTest.enabled&&(e.gl.disable(e.gl.STENCIL_TEST),e.stencilTest.enabled=!1)},bc=function(e){e.scissor.enabled&&(e.gl.disable(e.gl.SCISSOR_TEST),e.scissor.enabled=!1)},gc=function(e){var r=e.colorMask;(!r.a||!r.b||!r.c||!r.d)&&(e.gl.colorMask(!0,!0,!0,!0),r.a=!0,r.b=!0,r.c=!0,r.d=!0)},Lv=function(e){e.gl.disable(e.gl.CULL_FACE)},Iv=function(e){e.gl.disable(e.gl.POLYGON_OFFSET_FILL)},Fv=function(e){e.gl.disable(e.gl.SAMPLE_COVERAGE)},xv=function(e){e.gl.disable(e.gl.SAMPLE_ALPHA_TO_COVERAGE)},yc=["blend","depthTest","stencilTest","scissor","colorMask","cullFace","polygonOffset","sampleCoverage","sampleAlphaToCoverage"],Uv=[kv,Mv,Ov,bc,gc,Lv,Iv,Fv,xv];function Sc(e,r,t){var n=e.createShader(t);return e.shaderSource(n,`#extension GL_OES_standard_derivatives : enable
`+r),e.compileShader(n),n}function Jv(e,r,t){var n=e.createProgram();if(e.attachShader(n,r),e.attachShader(n,t),e.linkProgram(n),!e.getProgramParameter(n,e.LINK_STATUS))throw"Link failed: "+e.getProgramInfoLog(n)+`
vs info-log: `+e.getShaderInfoLog(r)+`
fs info-log: `+e.getShaderInfoLog(t);return n}function Cc(e,r){switch(r){case e.FLOAT:return{size:1,arraySize:1,type:Float32Array,baseType:e.FLOAT};case e.FLOAT_VEC2:return{size:2,arraySize:1,type:Float32Array,baseType:e.FLOAT};case e.FLOAT_VEC3:return{size:3,arraySize:1,type:Float32Array,baseType:e.FLOAT};case e.FLOAT_VEC4:return{size:4,arraySize:1,type:Float32Array,baseType:e.FLOAT};case e.FLOAT_MAT4:return{size:4,arraySize:4,type:Float32Array,baseType:e.FLOAT};case e.INT:return{size:1,arraySize:1,type:Int32Array,baseType:e.INT}}}function Gv(e,r,t,n){for(var a=t.a.bQ,o=[],i=0;i<a;i++)o.push(String.fromCharCode(97+i));function c($,h,S,_,m){var b;if(a===1)for(b=0;b<h;b++)$[S++]=h===1?_[m]:_[m][b];else o.forEach(function(l){for(b=0;b<h;b++)$[S++]=h===1?_[l][m]:_[l][m][b]})}var f=Cc(e,r.type);if(f===void 0)throw new Error("No info available for: "+r.type);var d=0,p=f.size*f.arraySize*a,y=new f.type(Lo(t.b)*p);Et(function($){c(y,f.size*f.arraySize,d,$,n[r.name]||r.name),d+=p},t.b);var s=e.createBuffer();return e.bindBuffer(e.ARRAY_BUFFER,s),e.bufferData(e.ARRAY_BUFFER,y,e.STATIC_DRAW),s}function Wv(e,r){if(r.a.b4>0){var t=e.createBuffer(),n=zv(r.c,r.a.b4);return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t),e.bufferData(e.ELEMENT_ARRAY_BUFFER,n,e.STATIC_DRAW),{numIndices:n.length,indexBuffer:t,buffers:{}}}else return{numIndices:r.a.bQ*Lo(r.b),indexBuffer:null,buffers:{}}}function zv(e,r){var t=new Uint16Array(Lo(e)*r),n=0,a;return Et(function(o){if(r===1)t[n++]=o;else for(a=0;a<r;a++)t[n++]=o[String.fromCharCode(97+a)]},e),t}function wc(e,r){return e+"#"+r}var Tc=T(function(e,r){var t=e.f,n=t.gl;if(!n)return r;n.viewport(0,0,n.drawingBufferWidth,n.drawingBufferHeight),t.depthTest.b||(n.depthMask(!0),t.depthTest.b=!0),t.stencilTest.c!==t.STENCIL_WRITEMASK&&(n.stencilMask(t.STENCIL_WRITEMASK),t.stencilTest.c=t.STENCIL_WRITEMASK),bc(t),gc(t),n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT|n.STENCIL_BUFFER_BIT);function a(o){if(!!o.d.b.b){var i,c,f;if(o.b.id&&o.c.id&&(i=wc(o.b.id,o.c.id),c=t.programs[i]),!c){var d;o.b.id?d=t.shaders[o.b.id]:o.b.id=_c++,d||(d=Sc(n,o.b.src,n.VERTEX_SHADER),t.shaders[o.b.id]=d);var p;o.c.id?p=t.shaders[o.c.id]:o.c.id=_c++,p||(p=Sc(n,o.c.src,n.FRAGMENT_SHADER),t.shaders[o.c.id]=p);var y=Jv(n,d,p);c={glProgram:y,attributes:Object.assign({},o.b.attributes,o.c.attributes),currentUniforms:{},activeAttributes:[],activeAttributeLocations:[]},c.uniformSetters=Vv(n,e,c,Object.assign({},o.b.uniforms,o.c.uniforms));var s=n.getProgramParameter(y,n.ACTIVE_ATTRIBUTES);for(f=0;f<s;f++){var $=n.getActiveAttrib(y,f),h=n.getAttribLocation(y,$.name);c.activeAttributes.push($),c.activeAttributeLocations.push(h)}i=wc(o.b.id,o.c.id),t.programs[i]=c}t.lastProgId!==i&&(n.useProgram(c.glProgram),t.lastProgId=i),Hv(c.uniformSetters,o.e);var S=t.buffers.get(o.d);for(S||(S=Wv(n,o.d),t.buffers.set(o.d,S)),f=0;f<c.activeAttributes.length;f++){$=c.activeAttributes[f],h=c.activeAttributeLocations[f],S.buffers[$.name]===void 0&&(S.buffers[$.name]=Gv(n,$,o.d,c.attributes)),n.bindBuffer(n.ARRAY_BUFFER,S.buffers[$.name]);var _=Cc(n,$.type);if(_.arraySize===1)n.enableVertexAttribArray(h),n.vertexAttribPointer(h,_.size,_.baseType,!1,0,0);else for(var m=_.size*4,b=m*_.arraySize,l=0;l<_.arraySize;l++)n.enableVertexAttribArray(h+l),n.vertexAttribPointer(h+l,_.size,_.baseType,!1,b,m*l)}for(t.toggle=!t.toggle,Et(Nv(t),o.a),f=0;f<yc.length;f++){var v=t[yc[f]];v.toggle!==t.toggle&&v.enabled&&(Uv[f](t),v.enabled=!1,v.toggle=t.toggle)}S.indexBuffer?(n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,S.indexBuffer),n.drawElements(o.d.a.cz,S.numIndices,n.UNSIGNED_SHORT,0)):n.drawArrays(o.d.a.cz,0,S.numIndices)}}return Et(a,e.g),r});function Vv(e,r,t,n){var a=t.glProgram,o=t.currentUniforms,i=0,c=r.f;function f($,h){var S=h.name,_=e.getUniformLocation($,S);switch(h.type){case e.INT:return function(b){o[S]!==b&&(e.uniform1i(_,b),o[S]=b)};case e.FLOAT:return function(b){o[S]!==b&&(e.uniform1f(_,b),o[S]=b)};case e.FLOAT_VEC2:return function(b){o[S]!==b&&(e.uniform2f(_,b[0],b[1]),o[S]=b)};case e.FLOAT_VEC3:return function(b){o[S]!==b&&(e.uniform3f(_,b[0],b[1],b[2]),o[S]=b)};case e.FLOAT_VEC4:return function(b){o[S]!==b&&(e.uniform4f(_,b[0],b[1],b[2],b[3]),o[S]=b)};case e.FLOAT_MAT4:return function(b){o[S]!==b&&(e.uniformMatrix4fv(_,!1,new Float32Array(b)),o[S]=b)};case e.SAMPLER_2D:var m=i++;return function(b){e.activeTexture(e.TEXTURE0+m);var l=c.textures.get(b);l||(l=b.dz(e),c.textures.set(b,l)),e.bindTexture(e.TEXTURE_2D,l),o[S]!==b&&(e.uniform1i(_,m),o[S]=b)};case e.BOOL:return function(b){o[S]!==b&&(e.uniform1i(_,b),o[S]=b)};default:return function(){}}}for(var d={},p=e.getProgramParameter(a,e.ACTIVE_UNIFORMS),y=0;y<p;y++){var s=e.getActiveUniform(a,y);d[n[s.name]||s.name]=f(a,s)}return d}function Hv(e,r){Object.keys(r).forEach(function(t){var n=e[t];n&&n(r[t])})}var Kv=L(function(e,r,t){return Kl(r,{g:t,f:{},h:e},qv,Qv)}),Yv=T(function(e,r){e.contextAttributes.alpha=!0,e.contextAttributes.premultipliedAlpha=r.a}),Xv=T(function(e,r){e.contextAttributes.depth=!0,e.sceneSettings.push(function(t){t.clearDepth(r.a)})}),Zv=T(function(e,r){e.contextAttributes.stencil=!0,e.sceneSettings.push(function(t){t.clearStencil(r.a)})}),ep=T(function(e,r){e.contextAttributes.antialias=!0}),rp=T(function(e,r){e.sceneSettings.push(function(t){t.clearColor(r.a,r.b,r.c,r.d)})}),tp=T(function(e,r){e.contextAttributes.preserveDrawingBuffer=!0});function qv(e){var r={contextAttributes:{alpha:!1,depth:!1,stencil:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1},sceneSettings:[]};Et(function(a){return C(np,r,a)},e.h);var t=vr.createElement("canvas"),n=t.getContext&&(t.getContext("webgl",r.contextAttributes)||t.getContext("experimental-webgl",r.contextAttributes));return n&&typeof WeakMap!="undefined"?(r.sceneSettings.forEach(function(a){a(n)}),n.getExtension("OES_standard_derivatives"),e.f.gl=n,e.f.toggle=!1,e.f.blend={enabled:!1,toggle:!1},e.f.depthTest={enabled:!1,toggle:!1},e.f.stencilTest={enabled:!1,toggle:!1},e.f.scissor={enabled:!1,toggle:!1},e.f.colorMask={enabled:!1,toggle:!1},e.f.cullFace={enabled:!1,toggle:!1},e.f.polygonOffset={enabled:!1,toggle:!1},e.f.sampleCoverage={enabled:!1,toggle:!1},e.f.sampleAlphaToCoverage={enabled:!1,toggle:!1},e.f.shaders=[],e.f.programs={},e.f.lastProgId=null,e.f.buffers=new WeakMap,e.f.textures=new WeakMap,e.f.STENCIL_WRITEMASK=n.getParameter(n.STENCIL_WRITEMASK),Sv(function(){return C(Tc,e,t)})):(t=vr.createElement("div"),t.innerHTML='<a href="https://get.webgl.org/">Enable WebGL</a> to see this content!'),t}function Qv(e,r){return r.f=e.f,Tc(r)}function Ac(e){return e.byteLength}var X1=T(function(e,r){return Oe(function(t){t(tr(new Uint8Array(new Uint32Array([1]))[0]===1?e:r))})});function ap(e){var r=new DataView(new ArrayBuffer(Pc(e)));return Ec(e)(r)(0),r}var op=L(function(e,r,t){return e.setInt8(r,t),r+1}),ip=ae(function(e,r,t,n){return e.setInt16(r,t,n),r+2}),cp=ae(function(e,r,t,n){return e.setInt32(r,t,n),r+4}),up=L(function(e,r,t){return e.setUint8(r,t),r+1}),sp=ae(function(e,r,t,n){return e.setUint16(r,t,n),r+2}),fp=ae(function(e,r,t,n){return e.setUint32(r,t,n),r+4}),lp=ae(function(e,r,t,n){return e.setFloat32(r,t,n),r+4}),vp=ae(function(e,r,t,n){return e.setFloat64(r,t,n),r+8}),pp=L(function(e,r,t){for(var n=0,a=t.byteLength,o=a-4;n<=o;n+=4)e.setUint32(r+n,t.getUint32(n));for(;n<a;n++)e.setUint8(r+n,t.getUint8(n));return r+a});function Dc(e){for(var r=0,t=0;t<e.length;t++){var n=e.charCodeAt(t);r+=n<128?1:n<2048?2:n<55296||56319<n?3:(t++,4)}return r}var $p=L(function(e,r,t){for(var n=0;n<t.length;n++){var a=t.charCodeAt(n);r+=a<128?(e.setUint8(r,a),1):a<2048?(e.setUint16(r,49280|(a>>>6&31)<<8|a&63),2):a<55296||56319<a?(e.setUint16(r,57472|(a>>>12&15)<<8|a>>>6&63),e.setUint8(r+2,128|a&63),3):(a=(a-55296)*1024+t.charCodeAt(++n)-56320+65536,e.setUint32(r,4034953344|(a>>>18&7)<<24|(a>>>12&63)<<16|(a>>>6&63)<<8|a&63),4)}return r}),dp=T(function(e,r){try{return K(C(e,r,0).b)}catch(t){return oe}}),hp=T(function(e,r){return U(r+1,e.getInt8(r))}),Z1=L(function(e,r,t){return U(t+2,r.getInt16(t,e))}),eS=L(function(e,r,t){return U(t+4,r.getInt32(t,e))}),mp=T(function(e,r){return U(r+1,e.getUint8(r))}),_p=L(function(e,r,t){return U(t+2,r.getUint16(t,e))}),bp=L(function(e,r,t){return U(t+4,r.getUint32(t,e))}),rS=L(function(e,r,t){return U(t+4,r.getFloat32(t,e))}),tS=L(function(e,r,t){return U(t+8,r.getFloat64(t,e))}),nS=L(function(e,r,t){return U(t+e,new DataView(r.buffer,r.byteOffset+t,e))}),aS=L(function(e,r,t){for(var n="",a=t+e;t<a;){var o=r.getUint8(t++);n+=o<128?String.fromCharCode(o):(o&224)==192?String.fromCharCode((o&31)<<6|r.getUint8(t++)&63):(o&240)==224?String.fromCharCode((o&15)<<12|(r.getUint8(t++)&63)<<6|r.getUint8(t++)&63):(o=((o&7)<<18|(r.getUint8(t++)&63)<<12|(r.getUint8(t++)&63)<<6|r.getUint8(t++)&63)-65536,String.fromCharCode(Math.floor(o/1024)+55296,o%1024+56320))}return U(t,n)}),gp=T(function(){throw 0}),oS=T(function(e,r){return e&r}),iS=T(function(e,r){return e|r}),cS=T(function(e,r){return e^r});var uS=T(function(e,r){return r<<e}),sS=T(function(e,r){return r>>e}),fS=T(function(e,r){return r>>>e}),yp=T(function(e,r){return new Float64Array([e,r])});var lS=T(function(e,r){return new Float64Array([e,r[1]])}),vS=T(function(e,r){return new Float64Array([r[0],e])});var Sp=function(e){return new Float64Array([e.bz,e.bA])},pS=T(function(e,r){var t=new Float64Array(2);return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t}),$S=T(function(e,r){var t=new Float64Array(2);return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t});var dS=T(function(e,r){var t=new Float64Array(2);t[0]=e[0]-r[0],t[1]=e[1]-r[1];var n=1/Cp(t);return t[0]=t[0]*n,t[1]=t[1]*n,t});function Cp(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}var hS=T(function(e,r){var t=e[0]-r[0],n=e[1]-r[1];return Math.sqrt(t*t+n*n)}),mS=T(function(e,r){var t=e[0]-r[0],n=e[1]-r[1];return t*t+n*n});var _S=T(function(e,r){var t=new Float64Array(2);return t[0]=r[0]*e,t[1]=r[1]*e,t}),bS=T(function(e,r){return e[0]*r[0]+e[1]*r[1]}),Io=new Float64Array(3),Bc=new Float64Array(3),Rc=new Float64Array(3),wp=L(function(e,r,t){return new Float64Array([e,r,t])});var gS=T(function(e,r){return new Float64Array([e,r[1],r[2]])}),yS=T(function(e,r){return new Float64Array([r[0],e,r[2]])}),SS=T(function(e,r){return new Float64Array([r[0],r[1],e])}),Tp=function(e){return{bz:e[0],bA:e[1],di:e[2]}};var CS=T(function(e,r){var t=new Float64Array(3);return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t});function jc(e,r,t){return t===void 0&&(t=new Float64Array(3)),t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t}var wS=T(jc);function kc(e,r,t){return t===void 0&&(t=new Float64Array(3)),ba(jc(e,r,t),t)}var TS=T(kc);function Mc(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2])}var AS=T(function(e,r){var t=e[0]-r[0],n=e[1]-r[1],a=e[2]-r[2];return Math.sqrt(t*t+n*n+a*a)}),PS=T(function(e,r){var t=e[0]-r[0],n=e[1]-r[1],a=e[2]-r[2];return t*t+n*n+a*a});function ba(e,r){r===void 0&&(r=new Float64Array(3));var t=1/Mc(e);return r[0]=e[0]*t,r[1]=e[1]*t,r[2]=e[2]*t,r}var ES=T(function(e,r){return new Float64Array([r[0]*e,r[1]*e,r[2]*e])}),Dt=function(e,r){return e[0]*r[0]+e[1]*r[1]+e[2]*r[2]},DS=T(Dt);function Fo(e,r,t){return t===void 0&&(t=new Float64Array(3)),t[0]=e[1]*r[2]-e[2]*r[1],t[1]=e[2]*r[0]-e[0]*r[2],t[2]=e[0]*r[1]-e[1]*r[0],t}var BS=T(Fo),RS=T(function(e,r){var t,n=Io,a=new Float64Array(3);return n[0]=e[3],n[1]=e[7],n[2]=e[11],t=Dt(r,n)+e[15],n[0]=e[0],n[1]=e[4],n[2]=e[8],a[0]=(Dt(r,n)+e[12])/t,n[0]=e[1],n[1]=e[5],n[2]=e[9],a[1]=(Dt(r,n)+e[13])/t,n[0]=e[2],n[1]=e[6],n[2]=e[10],a[2]=(Dt(r,n)+e[14])/t,a}),Ap=ae(function(e,r,t,n){return new Float64Array([e,r,t,n])});var jS=T(function(e,r){return new Float64Array([e,r[1],r[2],r[3]])}),kS=T(function(e,r){return new Float64Array([r[0],e,r[2],r[3]])}),MS=T(function(e,r){return new Float64Array([r[0],r[1],e,r[3]])}),OS=T(function(e,r){return new Float64Array([r[0],r[1],r[2],e])});var Pp=function(e){return new Float64Array([e.bz,e.bA,e.di,e.dg])},LS=T(function(e,r){var t=new Float64Array(4);return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t}),IS=T(function(e,r){var t=new Float64Array(4);return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t});var FS=T(function(e,r){var t=new Float64Array(4);t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3];var n=1/Ep(t);return t[0]=t[0]*n,t[1]=t[1]*n,t[2]=t[2]*n,t[3]=t[3]*n,t});function Ep(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]+e[3]*e[3])}var xS=T(function(e,r){var t=e[0]-r[0],n=e[1]-r[1],a=e[2]-r[2],o=e[3]-r[3];return Math.sqrt(t*t+n*n+a*a+o*o)}),US=T(function(e,r){var t=e[0]-r[0],n=e[1]-r[1],a=e[2]-r[2],o=e[3]-r[3];return t*t+n*n+a*a+o*o});var JS=T(function(e,r){var t=new Float64Array(4);return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t[3]=r[3]*e,t}),GS=T(function(e,r){return e[0]*r[0]+e[1]*r[1]+e[2]*r[2]+e[3]*r[3]}),Dp=new Float64Array(16),Bp=new Float64Array(16),zS=new Float64Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);function Oc(e,r,t,n,a,o){var i=new Float64Array(16);return i[0]=2*a/(r-e),i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=2*a/(n-t),i[6]=0,i[7]=0,i[8]=(r+e)/(r-e),i[9]=(n+t)/(n-t),i[10]=-(o+a)/(o-a),i[11]=-1,i[12]=0,i[13]=0,i[14]=-2*o*a/(o-a),i[15]=0,i}var WS=De(Oc),VS=ae(function(e,r,t,n){var a=t*Math.tan(e*Math.PI/360),o=-a,i=o*r,c=a*r;return Oc(i,c,o,a,t,n)});function Lc(e,r,t,n,a,o){var i=new Float64Array(16);return i[0]=2/(r-e),i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=2/(n-t),i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=-2/(o-a),i[11]=0,i[12]=-(r+e)/(r-e),i[13]=-(n+t)/(n-t),i[14]=-(o+a)/(o-a),i[15]=1,i}var HS=De(Lc),NS=ae(function(e,r,t,n){return Lc(e,r,t,n,-1,1)});function Ic(e,r){var t=new Float64Array(16),n=e[0],a=e[1],o=e[2],i=e[3],c=e[4],f=e[5],d=e[6],p=e[7],y=e[8],s=e[9],$=e[10],h=e[11],S=e[12],_=e[13],m=e[14],b=e[15],l=r[0],v=r[1],u=r[2],g=r[3],w=r[4],A=r[5],P=r[6],E=r[7],R=r[8],B=r[9],D=r[10],O=r[11],I=r[12],F=r[13],W=r[14],re=r[15];return t[0]=n*l+c*v+y*u+S*g,t[1]=a*l+f*v+s*u+_*g,t[2]=o*l+d*v+$*u+m*g,t[3]=i*l+p*v+h*u+b*g,t[4]=n*w+c*A+y*P+S*E,t[5]=a*w+f*A+s*P+_*E,t[6]=o*w+d*A+$*P+m*E,t[7]=i*w+p*A+h*P+b*E,t[8]=n*R+c*B+y*D+S*O,t[9]=a*R+f*B+s*D+_*O,t[10]=o*R+d*B+$*D+m*O,t[11]=i*R+p*B+h*D+b*O,t[12]=n*I+c*F+y*W+S*re,t[13]=a*I+f*F+s*W+_*re,t[14]=o*I+d*F+$*W+m*re,t[15]=i*I+p*F+h*W+b*re,t}var qS=T(Ic),QS=T(function(e,r){var t=new Float64Array(16),n=e[0],a=e[1],o=e[2],i=e[4],c=e[5],f=e[6],d=e[8],p=e[9],y=e[10],s=e[12],$=e[13],h=e[14],S=r[0],_=r[1],m=r[2],b=r[4],l=r[5],v=r[6],u=r[8],g=r[9],w=r[10],A=r[12],P=r[13],E=r[14];return t[0]=n*S+i*_+d*m,t[1]=a*S+c*_+p*m,t[2]=o*S+f*_+y*m,t[3]=0,t[4]=n*b+i*l+d*v,t[5]=a*b+c*l+p*v,t[6]=o*b+f*l+y*v,t[7]=0,t[8]=n*u+i*g+d*w,t[9]=a*u+c*g+p*w,t[10]=o*u+f*g+y*w,t[11]=0,t[12]=n*A+i*P+d*E+s,t[13]=a*A+c*P+p*E+$,t[14]=o*A+f*P+y*E+h,t[15]=1,t}),KS=T(function(e,r){var t=new Float64Array(16);r=ba(r,Io);var n=r[0],a=r[1],o=r[2],i=Math.cos(e),c=1-i,f=Math.sin(e);return t[0]=n*n*c+i,t[1]=a*n*c+o*f,t[2]=o*n*c-a*f,t[3]=0,t[4]=n*a*c-o*f,t[5]=a*a*c+i,t[6]=a*o*c+n*f,t[7]=0,t[8]=n*o*c+a*f,t[9]=a*o*c-n*f,t[10]=o*o*c+i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}),YS=L(function(e,r,t){var n=new Float64Array(16),a=1/Mc(r),o=r[0]*a,i=r[1]*a,c=r[2]*a,f=Math.cos(e),d=1-f,p=Math.sin(e),y=o*p,s=i*p,$=c*p,h=o*i*d,S=o*c*d,_=i*c*d,m=o*o*d+f,b=h+$,l=S-s,v=h-$,u=i*i*d+f,g=_+y,w=S+s,A=_-y,P=c*c*d+f,E=t[0],R=t[1],B=t[2],D=t[3],O=t[4],I=t[5],F=t[6],W=t[7],re=t[8],ie=t[9],Ge=t[10],N=t[11],ur=t[12],je=t[13],Ye=t[14],pe=t[15];return n[0]=E*m+O*b+re*l,n[1]=R*m+I*b+ie*l,n[2]=B*m+F*b+Ge*l,n[3]=D*m+W*b+N*l,n[4]=E*v+O*u+re*g,n[5]=R*v+I*u+ie*g,n[6]=B*v+F*u+Ge*g,n[7]=D*v+W*u+N*g,n[8]=E*w+O*A+re*P,n[9]=R*w+I*A+ie*P,n[10]=B*w+F*A+Ge*P,n[11]=D*w+W*A+N*P,n[12]=ur,n[13]=je,n[14]=Ye,n[15]=pe,n});function Rp(e,r,t){var n=new Float64Array(16);return n[0]=e,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=r,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=t,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}var XS=L(Rp);var ZS=ae(function(e,r,t,n){var a=new Float64Array(16);return a[0]=n[0]*e,a[1]=n[1]*e,a[2]=n[2]*e,a[3]=n[3]*e,a[4]=n[4]*r,a[5]=n[5]*r,a[6]=n[6]*r,a[7]=n[7]*r,a[8]=n[8]*t,a[9]=n[9]*t,a[10]=n[10]*t,a[11]=n[11]*t,a[12]=n[12],a[13]=n[13],a[14]=n[14],a[15]=n[15],a}),eC=T(function(e,r){var t=new Float64Array(16),n=e[0],a=e[1],o=e[2];return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t[3]=r[3]*n,t[4]=r[4]*a,t[5]=r[5]*a,t[6]=r[6]*a,t[7]=r[7]*a,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=r[11]*o,t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t});function jp(e,r,t){var n=new Float64Array(16);return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=e,n[13]=r,n[14]=t,n[15]=1,n}var rC=L(jp);var tC=ae(function(e,r,t,n){var a=new Float64Array(16),o=n[0],i=n[1],c=n[2],f=n[3],d=n[4],p=n[5],y=n[6],s=n[7],$=n[8],h=n[9],S=n[10],_=n[11];return a[0]=o,a[1]=i,a[2]=c,a[3]=f,a[4]=d,a[5]=p,a[6]=y,a[7]=s,a[8]=$,a[9]=h,a[10]=S,a[11]=_,a[12]=o*e+d*r+$*t+n[12],a[13]=i*e+p*r+h*t+n[13],a[14]=c*e+y*r+S*t+n[14],a[15]=f*e+s*r+_*t+n[15],a}),nC=T(function(e,r){var t=new Float64Array(16),n=e[0],a=e[1],o=e[2],i=r[0],c=r[1],f=r[2],d=r[3],p=r[4],y=r[5],s=r[6],$=r[7],h=r[8],S=r[9],_=r[10],m=r[11];return t[0]=i,t[1]=c,t[2]=f,t[3]=d,t[4]=p,t[5]=y,t[6]=s,t[7]=$,t[8]=h,t[9]=S,t[10]=_,t[11]=m,t[12]=i*n+p*a+h*o+r[12],t[13]=c*n+y*a+S*o+r[13],t[14]=f*n+s*a+_*o+r[14],t[15]=d*n+$*a+m*o+r[15],t}),aC=L(function(e,r,t){var n=kc(e,r,Io),a=ba(Fo(t,n,Bc),Bc),o=ba(Fo(n,a,Rc),Rc),i=Dp,c=Bp;return i[0]=a[0],i[1]=o[0],i[2]=n[0],i[3]=0,i[4]=a[1],i[5]=o[1],i[6]=n[1],i[7]=0,i[8]=a[2],i[9]=o[2],i[10]=n[2],i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,c[0]=1,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=1,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=1,c[11]=0,c[12]=-e[0],c[13]=-e[1],c[14]=-e[2],c[15]=1,Ic(i,c)});var oC=L(function(e,r,t){var n=new Float64Array(16);return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=0,n[4]=r[0],n[5]=r[1],n[6]=r[2],n[7]=0,n[8]=t[0],n[9]=t[1],n[10]=t[2],n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}),ce=Lf,ga=jf,kp=L(function(e,r,t){var n=t.c,a=t.d,o=T(function(i,c){if(i.$){var d=i.a;return M(ga,e,c,d)}else{var f=i.a;return M(ga,o,c,f)}});return M(ga,o,M(ga,e,r,a),n)}),ya=function(e){return M(kp,ce,te,e)},Fc=L(function(e,r,t){e:for(;;){if(t.$===-2)return r;var n=t.b,a=t.c,o=t.d,i=t.e,c=e,f=M(e,n,a,M(Fc,e,r,i)),d=o;e=c,r=f,t=d;continue e}}),Vi=function(e){return M(Fc,L(function(r,t,n){return C(ce,U(r,t),n)}),te,e)};var Hi=1,Mf=2,Ni=0,Mp=function(e){return{$:1,a:e}},lr=function(e){return{$:1,a:e}},ho=T(function(e,r){return{$:3,a:e,b:r}}),Yi=T(function(e,r){return{$:0,a:e,b:r}}),Xi=T(function(e,r){return{$:1,a:e,b:r}}),Be=function(e){return{$:0,a:e}},Cl=function(e){return{$:2,a:e}};var K=function(e){return{$:0,a:e}},oe={$:1},Op=el;var Lp=wl,Bt=Qi,Rt=T(function(e,r){return C(Xf,e,$o(r))}),Ip=T(function(e,r){return J(C(Yf,e,r))}),xc=function(e){return C(Rt,`
    `,C(Ip,`
`,e))},Pr=L(function(e,r,t){e:for(;;)if(t.b){var n=t.a,a=t.b,o=e,i=C(e,n,r),c=a;e=o,r=i,t=c;continue e}else return r}),Uc=function(e){return M(Pr,T(function(r,t){return t+1}),0,e)},Fp=If;var xp=L(function(e,r,t){e:for(;;)if(fe(e,r)<1){var n=e,a=r-1,o=C(ce,r,t);e=n,r=a,t=o;continue e}else return t}),xo=T(function(e,r){return M(xp,e,r,te)}),jt=T(function(e,r){return M(Fp,e,C(xo,0,Uc(r)-1),r)}),kt=ol,Jc=function(e){var r=kt(e);return 97<=r&&r<=122},Gc=function(e){var r=kt(e);return r<=90&&65<=r};var Up=function(e){return Jc(e)||Gc(e)},Jp=function(e){var r=kt(e);return r<=57&&48<=r},zc=function(e){return Jc(e)||Gc(e)||Jp(e)},rr=function(e){return M(Pr,ce,te,e)},Gp=Nf,zp=T(function(e,r){return`

(`+(Bt(e+1)+(") "+xc(Wc(r))))}),Wc=function(e){return C(Wp,e,te)},Wp=T(function(e,r){e:for(;;)switch(e.$){case 0:var t=e.a,n=e.b,a=function(){var S=Gp(t);if(S.$===1)return!1;var _=S.a,m=_.a,b=_.b;return Up(m)&&C(Op,zc,b)}(),o=a?"."+t:"['"+(t+"']"),i=n,c=C(ce,o,r);e=i,r=c;continue e;case 1:var f=e.a,n=e.b,d="["+(Bt(f)+"]"),i=n,c=C(ce,d,r);e=i,r=c;continue e;case 2:var p=e.a;if(p.b)if(p.b.b){var y=function(){return r.b?"The Json.Decode.oneOf at json"+C(Rt,"",rr(r)):"Json.Decode.oneOf"}(),h=y+(" failed in the following "+(Bt(Uc(p))+" ways:"));return C(Rt,`

`,C(ce,h,C(jt,zp,p)))}else{var n=p.a,i=n,c=r;e=i,r=c;continue e}else return"Ran into a Json.Decode.oneOf with no possibilities"+function(){return r.b?" at json"+C(Rt,"",rr(r)):"!"}();default:var s=e.a,$=e.b,h=function(){return r.b?"Problem with the value at json"+(C(Rt,"",rr(r))+`:

    `):`Problem with the given value:

`}();return h+(xc(C(Lp,4,$))+(`

`+s))}}),Ne=32,Mt=ae(function(e,r,t,n){return{$:0,a:e,b:r,c:t,d:n}}),Uo=Af,Vc=Gf;var Hc=T(function(e,r){return qi(r)/qi(e)}),Sa=Jf,it=Vc(C(Hc,2,Ne)),Nc=Q(Mt,0,it,Uo,Uo),qc=Ef,Qc=function(e){return{$:1,a:e}},Vp=T(function(e,r){return e(r)}),iC=T(function(e,r){return r(e)});var Kc=zf,Yc=Pf;var Jo=T(function(e,r){return fe(e,r)>0?e:r});var Xc=function(e){return{$:0,a:e}},Zc=Df,Hp=T(function(e,r){e:for(;;){var t=C(Zc,Ne,e),n=t.a,a=t.b,o=C(ce,Xc(n),r);if(a.b){var i=a,c=o;e=i,r=c;continue e}else return rr(o)}});var Np=T(function(e,r){e:for(;;){var t=Vc(r/Ne);if(t===1)return C(Zc,Ne,e).a;var n=C(Hp,e,te),a=t;e=n,r=a;continue e}}),qp=T(function(e,r){if(r.f){var t=r.f*Ne,n=Kc(C(Hc,Ne,t-1)),a=e?rr(r.j):r.j,o=C(Np,a,r.f);return Q(Mt,Yc(r.i)+t,C(Jo,5,n*it),o,r.i)}else return Q(Mt,Yc(r.i),it,Uo,r.i)});var Qp=Ee(function(e,r,t,n,a){e:for(;;){if(r<0)return C(qp,!1,{j:n,f:t/Ne|0,i:a});var o=Qc(M(qc,Ne,r,e)),i=e,c=r-Ne,f=t,d=C(ce,o,n),p=a;e=i,r=c,t=f,n=d,a=p;continue e}});var Zi=T(function(e,r){if(e<=0)return Nc;var t=e%Ne,n=M(qc,t,e-t,r),a=e-t-Ne;return G(Qp,r,a,e,te,n)});var Ve=function(e){return!e.$},Kp=dl,eu=ae(function(e,r,t,n){if(n.b){var a=n.a,o=n.b;if(o.b){var i=o.a,c=o.b;if(c.b){var f=c.a,d=c.b;if(d.b){var p=d.a,y=d.b,s=t>500?M(Pr,e,r,rr(y)):Q(eu,e,r,t+1,y);return C(e,a,C(e,i,C(e,f,C(e,p,s))))}else return C(e,a,C(e,i,C(e,f,r)))}else return C(e,a,C(e,i,r))}else return C(e,a,r)}else return r}),zr=L(function(e,r,t){return Q(eu,e,r,0,t)}),Ca=T(function(e,r){return M(zr,Kp,r,e)}),Go=mo,ru=Nc,Yp=ru,Xp=function(e){switch(e){case 0:return 0;case 1:return 1;case 2:return 2;case 3:return 3;case 4:return 4;case 5:return 5;case 6:return 6;case 7:return 7;case 8:return 8;case 9:return 9;case 10:return 10;case 11:return 11;case 12:return 12;case 13:return 13;case 14:return 14;case 15:return 15;case 16:return 16;case 17:return 17;case 18:return 18;case 19:return 19;case 20:return 20;case 21:return 21;case 22:return 22;case 23:return 23;case 24:return 24;case 25:return 25;case 26:return 26;case 27:return 27;case 28:return 28;case 29:return 29;case 30:return 30;case 31:return 31;case 32:return 32;case 33:return 33;case 34:return 34;case 35:return 35;case 36:return 36;case 37:return 37;case 38:return 38;case 39:return 39;case 40:return 40;case 41:return 41;case 42:return 42;case 43:return 43;case 44:return 44;case 45:return 45;case 46:return 46;case 47:return 47;case 48:return 48;case 49:return 49;case 50:return 50;case 51:return 51;case 52:return 52;case 53:return 53;case 54:return 54;default:return 55}},zo=function(e){return e};var Ot=L(function(e,r,t){return e(r(t))});var pr={$:-2},wa=pr,Zp=function(e){return{b:wa,D:e}},e$=C(Ot,zo,Zp),r$=e$(Xp),t$={},n$={bz:0,bA:0},a$=ru,o$={bC:""},i$={bB:r$,bY:t$,bi:te,cI:Yp,ew:n$,c$:a$,dd:o$},wt=bl,Ta=Ol,c$=T(function(e,r){return{$:0,a:e,b:r}}),u$=function(e){return{$:1,a:e}};var Lt=bo,Wr=tr,s$=Wr(0),ct=T(function(e,r){return M(zr,T(function(t,n){return C(ce,e(t),n)}),te,r)}),Wo=T(function(e,r){return C(Lt,function(t){return Wr(e(t))},r)}),f$=L(function(e,r,t){return C(Lt,function(n){return C(Lt,function(a){return Wr(C(e,n,a))},t)},r)}),l$=function(e){return M(zr,f$(ce),Wr(te),e)},v$=Ml,p$=T(function(e,r){var t=r;return rc(C(Lt,v$(e),t))}),$$=L(function(e,r,t){return C(Wo,function(n){return 0},l$(C(ct,p$(e),r)))}),d$=L(function(e,r,t){return Wr(0)}),h$=T(function(e,r){var t=r;return C(Wo,e,t)});we.Task=kl(s$,$$,d$,h$);var tu=wo("Task"),m$=Tl,_$=T(function(e,r){return tu(C(m$,C(Ot,C(Ot,Wr,e),lr),C(Lt,C(Ot,C(Ot,Wr,e),Be),r)))}),Wl={$:0},Vl=T(function(e,r){return{$:1,a:e,b:r}}),b$=T(function(e,r){var t=e.d6,n=e.d9,a=e.dZ,o=e.e_,i=e.dR,c=ae(function(f,d,p,y){var s=f,$=d,h=p,S=y;return fr(Hl,s,$,h,S,i,r)});return Q(c,t,n,a,o)});var nu=33071;var au=9729,g$={dR:!0,dZ:nu,d6:au,d9:au,e_:nu},ou=T(function(e,r){return C(_$,function(t){if(t.$){var a=t.a;return u$(a)}else{var n=t.a;return C(c$,e,n)}},C(b$,g$,r))}),y$=ou;var Z=Ee(function(e,r,t,n,a){return{$:-1,a:e,b:r,c:t,d:n,e:a}});var ut=Ee(function(e,r,t,n,a){if(a.$===-1&&!a.a){var o=a.a,i=a.b,c=a.c,f=a.d,d=a.e;if(n.$===-1&&!n.a){var p=n.a,y=n.b,s=n.c,$=n.d,h=n.e;return G(Z,0,r,t,G(Z,1,y,s,$,h),G(Z,1,i,c,f,d))}else return G(Z,e,i,c,G(Z,0,r,t,n,f),d)}else if(n.$===-1&&!n.a&&n.d.$===-1&&!n.d.a){var S=n.a,y=n.b,s=n.c,_=n.d,m=_.a,b=_.b,l=_.c,v=_.d,u=_.e,h=n.e;return G(Z,0,y,s,G(Z,1,b,l,v,u),G(Z,1,r,t,h,a))}else return G(Z,e,r,t,n,a)}),iu=Of,Vo=L(function(e,r,t){if(t.$===-2)return G(Z,0,e,r,pr,pr);var n=t.a,a=t.b,o=t.c,i=t.d,c=t.e,f=C(iu,e,a);switch(f){case 0:return G(ut,n,a,o,M(Vo,e,r,i),c);case 1:return G(Z,n,a,r,i,c);default:return G(ut,n,a,o,i,M(Vo,e,r,c))}}),It=L(function(e,r,t){var n=M(Vo,e,r,t);if(n.$===-1&&!n.a){var a=n.a,o=n.b,i=n.c,c=n.d,f=n.e;return G(Z,1,o,i,c,f)}else{var d=n;return d}}),cu=T(function(e,r){var t=r;return M(It,e,0,t)}),Aa=T(function(e,r){var t=r.a,n=r.b;return U(t,e(n))}),S$=T(function(e,r){var t=J([U("c1","/asset/game/anim/base.png"),U("c2","/asset/game/anim/shadow.png")]);return C(Aa,Ta,M(Pr,T(function(n,a){var o=n.a,i=n.b,c=a.a,f=a.b;return U(X(c,{cc:C(cu,o,c.cc)}),C(ce,C(y$,o,i),f))}),U(e,te),t))}),Pa=pl,C$=T(function(e,r){var t=r(i$),n=t.bx,a=function(){var d=M(wt,T(function(p,y){return{d5:p,eu:y}}),C(Ca,J(["login"]),Pa),C(Ca,J(["password"]),Pa));return C(Go,d,e)}(),o=function(){if(a.$)return t.bx.bi;var d=a.a;return C(ce,Mp(d),t.bx.bi)}(),i=C(S$,t.c4,e),c=i.a,f=i.b;return U(X(t,{c4:c,bx:X(n,{bi:o})}),f)}),Gr=_l,z=cl,Do=function(e){switch(e.$){case 0:return 0;case 1:return 1;case 2:return 2;default:return 3}};var gv=zo;var uu=De(function(e,r,t,n,a,o){return{bU:o,b$:r,cJ:n,cL:t,cO:e,cP:a}}),w$=rl,T$=qf,su=Zf,st=T(function(e,r){return e<1?r:M(su,e,T$(r),r)}),Ea=nl,Da=function(e){return e===""},Ft=T(function(e,r){return e<1?"":M(su,0,e,r)}),fu=al,lu=Ee(function(e,r,t,n,a){if(Da(a)||C(w$,"@",a))return oe;var o=C(Ea,":",a);if(o.b){if(o.b.b)return oe;var i=o.a,c=fu(C(st,i+1,a));if(c.$===1)return oe;var f=c;return K(fr(uu,e,C(Ft,i,a),f,r,t,n))}else return K(fr(uu,e,a,oe,r,t,n))}),vu=ae(function(e,r,t,n){if(Da(n))return oe;var a=C(Ea,"/",n);if(a.b){var o=a.a;return G(lu,e,C(st,o,n),r,t,C(Ft,o,n))}else return G(lu,e,"/",r,t,n)}),pu=L(function(e,r,t){if(Da(t))return oe;var n=C(Ea,"?",t);if(n.b){var a=n.a;return Q(vu,e,K(C(st,a+1,t)),r,C(Ft,a,t))}else return Q(vu,e,oe,r,t)}),cC=T(function(e,r){if(Da(r))return oe;var t=C(Ea,"#",r);if(t.b){var n=t.a;return M(pu,e,K(C(st,n+1,r)),C(Ft,n,r))}else return M(pu,e,oe,r)}),A$=tl;var Mo=function(e){e:for(;;){var r=e,t=r;e=t;continue e}},Oo=T(function(e,r){return tu(C(Wo,e,r))}),P$=mv,Ba=Cr,E$=da("connect",Ba),D$=da("disconnect",Ba),$u=wa;var Ra=T(function(e,r){return{dp:-r*.5,dW:r,d4:-e*.5,eA:e*.5,eM:r*.5,e1:e}}),B$=function(e){return{dI:te,dJ:"",cX:C(Ra,2,2),c4:{bO:wa,cc:$u},c5:0,bx:e}},$r=ll,R$=da("open",Ba),du=da("output",Ba),j$=T(function(e,r){if(r.$)return e;var t=r.a;return t}),k$=T(function(e,r){var t=function(){var p=M(wt,Ra,C(Ca,J(["screen","width"]),$r),C(Ca,J(["screen","height"]),$r));return C(j$,C(Ra,100,100),C(Go,p,r))}(),n=C(e,r,function(p){return B$(p)}),a=n.a,o=n.b,i=du,c=R$,f=E$,d=D$;return U(X(a,{cX:t}),o)}),M$=function(e){return{$:2,a:e}},hu=vl,O$=zl("input",hu),L$=function(e){return O$(M$)},Le=Ta(te),I$=T(function(e,r){return{$:2,a:e,b:r}}),F$=function(e){return{$:3,a:e}},x$=function(e){return{$:4,a:e}},U$=ae(function(e,r,t,n){return{d1:t,d2:n,bz:e,bA:r}}),J$=function(e){return{$:7,a:e}},G$=function(e){return{$:8,a:e}},z$={$:5},W$={$:6},V$=function(e){return{$:1,a:e}},H$=function(e){return{$:0,a:e}},mu=ml,Ho=fl;var _u=ul,No=sl,N$=C(mu,function(e){switch(e){case 0:return z(0);case 1:return z(1);case 2:return z(2);case 3:return z(3);case 4:return z(4);case 5:return z(5);case 6:return z(6);case 7:return z(7);case 8:return z(8);case 9:return z(9);case 10:return z(10);case 11:return z(11);case 12:return z(12);case 13:return z(13);case 14:return z(14);case 15:return z(15);case 16:return z(16);case 17:return z(17);case 18:return z(18);case 19:return z(19);case 20:return z(20);case 21:return z(21);case 22:return z(22);case 23:return z(23);case 24:return z(24);case 25:return z(25);case 26:return z(26);case 27:return z(27);case 28:return z(28);case 29:return z(29);case 30:return z(30);case 31:return z(31);case 32:return z(32);case 33:return z(33);case 34:return z(34);case 35:return z(35);case 36:return z(36);case 37:return z(37);case 38:return z(38);case 39:return z(39);case 40:return z(40);case 41:return z(41);case 42:return z(42);case 43:return z(43);case 44:return z(44);case 45:return z(45);case 46:return z(46);case 47:return z(47);case 48:return z(48);case 49:return z(49);case 50:return z(50);case 51:return z(51);case 52:return z(52);case 53:return z(53);case 54:return z(54);case 55:return z(55);default:return _u("")}},No),$e=hl,bu=$l,q$=gl,Q$=yl,K$=C(mu,function(e){switch(e){case 100:return C(Gr,H$,C($e,1,$r));case 101:return C(Gr,V$,M(wt,Ra,C($e,1,$r),C($e,2,$r)));case 102:return M(wt,I$,C($e,1,Ho),C($e,2,N$));case 103:return C(Gr,F$,G(Q$,U$,C($e,1,$r),C($e,2,$r),C($e,3,Ho),C($e,4,Ho)));case 104:var r=Q(q$,L(function(t,n,a){return{b3:t,bz:n,bA:a}}),C($e,0,No),C($e,1,$r),C($e,2,$r));return C(Gr,x$,C($e,1,bu(r)));case 201:return z(z$);case 202:return z(W$);case 203:return C(Gr,J$,C($e,1,Pa));case 204:return C(Gr,G$,C($e,1,Pa));default:return _u("unknown message type")}},C($e,0,No)),Y$=Go(bu(K$)),X$=function(e){e:for(;;)if(e.$===-1&&e.d.$===-1){var r=e.d,t=r;e=t;continue e}else return e},gu=function(e){if(e.$===-1&&e.d.$===-1&&e.e.$===-1)if(e.e.d.$===-1&&!e.e.d.a){var r=e.a,t=e.b,n=e.c,a=e.d,o=a.a,i=a.b,c=a.c,f=a.d,d=a.e,p=e.e,y=p.a,s=p.b,$=p.c,h=p.d,S=h.a,_=h.b,m=h.c,b=h.d,l=h.e,v=p.e;return G(Z,0,_,m,G(Z,1,t,n,G(Z,0,i,c,f,d),b),G(Z,1,s,$,l,v))}else{var r=e.a,t=e.b,n=e.c,u=e.d,o=u.a,i=u.b,c=u.c,f=u.d,d=u.e,g=e.e,y=g.a,s=g.b,$=g.c,h=g.d,v=g.e;return G(Z,1,t,n,G(Z,0,i,c,f,d),G(Z,0,s,$,h,v))}else return e},yu=function(e){if(e.$===-1&&e.d.$===-1&&e.e.$===-1)if(e.d.d.$===-1&&!e.d.d.a){var r=e.a,t=e.b,n=e.c,a=e.d,o=a.a,i=a.b,c=a.c,f=a.d,d=f.a,p=f.b,y=f.c,s=f.d,$=f.e,h=a.e,S=e.e,_=S.a,m=S.b,b=S.c,l=S.d,v=S.e;return G(Z,0,i,c,G(Z,1,p,y,s,$),G(Z,1,t,n,h,G(Z,0,m,b,l,v)))}else{var r=e.a,t=e.b,n=e.c,u=e.d,o=u.a,i=u.b,c=u.c,g=u.d,h=u.e,w=e.e,_=w.a,m=w.b,b=w.c,l=w.d,v=w.e;return G(Z,1,t,n,G(Z,0,i,c,g,h),G(Z,0,m,b,l,v))}else return e},Z$=Sr(function(e,r,t,n,a,o,i){if(o.$===-1&&!o.a){var c=o.a,f=o.b,d=o.c,p=o.d,y=o.e;return G(Z,t,f,d,p,G(Z,0,n,a,y,i))}else{e:for(;;)if(i.$===-1&&i.a===1)if(i.d.$===-1)if(i.d.a===1){var s=i.a,$=i.d,h=$.a;return yu(r)}else break e;else{var S=i.a,_=i.d;return yu(r)}else break e;return r}}),ja=function(e){if(e.$===-1&&e.d.$===-1){var r=e.a,t=e.b,n=e.c,a=e.d,o=a.a,i=a.d,c=e.e;if(o===1)if(i.$===-1&&!i.a){var f=i.a;return G(Z,r,t,n,ja(a),c)}else{var d=gu(e);if(d.$===-1){var p=d.a,y=d.b,s=d.c,$=d.d,h=d.e;return G(ut,p,y,s,ja($),h)}else return pr}else return G(Z,r,t,n,ja(a),c)}else return pr},xt=T(function(e,r){if(r.$===-2)return pr;var t=r.a,n=r.b,a=r.c,o=r.d,i=r.e;if(fe(e,n)<0)if(o.$===-1&&o.a===1){var c=o.a,f=o.d;if(f.$===-1&&!f.a){var d=f.a;return G(Z,t,n,a,C(xt,e,o),i)}else{var p=gu(r);if(p.$===-1){var y=p.a,s=p.b,$=p.c,h=p.d,S=p.e;return G(ut,y,s,$,C(xt,e,h),S)}else return pr}}else return G(Z,t,n,a,C(xt,e,o),i);else return C(ed,e,x(Z$,e,r,t,n,a,o,i))}),ed=T(function(e,r){if(r.$===-1){var t=r.a,n=r.b,a=r.c,o=r.d,i=r.e;if(tt(e,n)){var c=X$(i);if(c.$===-1){var f=c.b,d=c.c;return G(ut,t,f,d,o,ja(i))}else return pr}else return G(ut,t,n,a,o,C(xt,e,i))}else return pr}),qo=T(function(e,r){var t=C(xt,e,r);if(t.$===-1&&!t.a){var n=t.a,a=t.b,o=t.c,i=t.d,c=t.e;return G(Z,1,a,o,i,c)}else{var f=t;return f}}),rd=T(function(e,r){var t=r;return C(qo,e,t)}),td=L(function(e,r,t){var n=t.c4;switch(r.$){case 2:var a=r.a,o=Y$(a);if(o.$){var c=o.a;return U(X(t,{dJ:Wc(c)}),Le)}else{var i=o.a;return C(Aa,Ta,M(Pr,T(function(p,y){var s=y.a,$=y.b;return C(Aa,function(h){return C(ce,h,$)},C(e,p,s))}),U(t,te),i))}case 0:var f=r.a,d=r.b;return U(X(t,{c4:X(n,{bO:M(It,f,d,n.bO),cc:C(rd,f,n.cc)})}),Le);default:return U(t,Le)}}),nd=function(e){return C(Eo,"height",Bt(e))},Ut=Wf,ad=function(e){return C(Eo,"width",Bt(e))},od=Yl,id=od,np=T(function(e,r){switch(r.$){case 0:return C(Yv,e,r);case 1:return C(Xv,e,r);case 2:return C(Zv,e,r);case 3:return C(ep,e,r);case 4:return C(rp,e,r);default:return C(tp,e,r)}}),Nv=T(function(e,r){switch(r.$){case 0:return C(wv,e,r);case 1:return C(Tv,e,r);case 2:return C(Av,e,r);case 3:return C(Pv,e,r);case 4:return C(Ev,e,r);case 5:return C(Dv,e,r);case 6:return C(Bv,e,r);case 7:return C(Rv,e,r);default:return jv(e)}}),cd=L(function(e,r,t){return M(Kv,e,r,t)}),ud=function(e){return{$:0,a:e}},sd=ud,fd=ae(function(e,r,t,n){return{$:4,a:e,b:r,c:t,d:n}}),ld=fd,vd=function(e){return{$:1,a:e}},pd=vd,$d=J([sd(!0),pd(1),Q(ld,1,1,1,1)]),dd=T(function(e,r){return Q(id,cd,$d,e,r)}),hd=function(e){var r=e.cX,t=e.dI,n=e.bx;return C(dd,J([ad(Ut(r.e1)),nd(Ut(r.dW))]),t)},md=function(e){return P$({b5:k$(e.b5),eH:L$,df:td(e.df),e$:hd})};var _d=De(function(e,r,t,n,a,o){return{a0:r,dE:o,d_:e,bz:t,bA:n,di:a}});var Su=L(function(e,r,t){var n=r,a=t;return T(function(o,i){var c=C(n,o,i),f=c.a,d=c.b,p=C(a,o,f),y=p.a,s=p.b;return U(y,C(e,d,s))})}),bd=L(function(e,r,t){var n=r,a=t;return M(Su,T(function(o,i){var c=o.a,f=o.b,d=i.a,p=i.b;return U(c+d,C(e,f,p))}),n,a)}),ft=T(function(e,r){return M(bd,Vp,r,e)}),gd=T(function(e,r){var t=r;return T(function(n,a){var o=C(t,n,a),i=o.a,c=o.b,f=e(c),d=f;return C(d,n,i)})}),nr=T(function(e,r){var t=r;return T(function(n,a){var o=C(t,n,a),i=o.a,c=o.b;return U(i,e(c))})}),yd=T(function(e,r){var t=r;return C(gd,function(n){var a=n.a,o=n.b,i=e(o),c=i;return C(nr,function(f){var d=f.a,p=f.b;return U(a+d,p)},c)},t)}),Sd=yd,ka=T(function(e,r){return U(e,r)}),Pc=function(e){switch(e.$){case 0:return 1;case 1:return 2;case 2:return 4;case 3:return 1;case 4:return 2;case 5:return 4;case 6:return 4;case 7:return 8;case 8:var r=e.a;return r;case 9:var r=e.a;return r;default:var t=e.a;return Ac(t)}};var Ec=L(function(e,r,t){switch(e.$){case 0:var n=e.a;return M(op,r,t,n);case 1:var a=e.a,n=e.b;return Q(ip,r,t,n,!a);case 2:var a=e.a,n=e.b;return Q(cp,r,t,n,!a);case 3:var n=e.a;return M(up,r,t,n);case 4:var a=e.a,n=e.b;return Q(sp,r,t,n,!a);case 5:var a=e.a,n=e.b;return Q(fp,r,t,n,!a);case 6:var a=e.a,n=e.b;return Q(lp,r,t,n,!a);case 7:var a=e.a,n=e.b;return Q(vp,r,t,n,!a);case 8:var o=e.b;return M(Cd,o,r,t);case 9:var i=e.b;return M($p,r,t,i);default:var o=e.a;return M(pp,r,t,o)}}),Cd=L(function(e,r,t){e:for(;;)if(e.b){var n=e.a,a=e.b,o=a,i=r,c=M(Ec,n,r,t);e=o,r=i,t=c;continue e}else return t}),Vr=mp,wd=C(nr,ka(1),Vr),Cu=wd,Td=gp,Ad=Td,Pd=Ad;var Ed=function(e){switch(e){case 0:return 0;case 1:return 1;case 2:return 2;case 3:return 3;case 4:return 4;case 5:return 5;case 6:return 6;case 7:return 7;default:return 7}},wu=T(function(e,r){var t=r;return C(nr,function(n){var a=n.a,o=n.b;return U(a,e(o))},t)}),Tu=wu,Dd=hp,Bd=C(nr,ka(1),Dd),Rd=Bd,Au=function(e){return T(function(r,t){return U(t,e)})},Pu=function(e){return Au(U(0,e))},jd=Pu;var Eu=function(e){return bp(!e)},kd=function(e){return C(nr,ka(4),Eu(e))},Md=kd(1),Du=function(e){return _p(!e)},Od=function(e){return C(nr,ka(2),Du(e))},Qo=Od(1),Ld=C(Sd,function(e){return e===27?C(Tu,zo,C(ft,C(Tu,Ed,Cu),C(ft,Rd,C(ft,Qo,C(ft,Qo,C(ft,Qo,C(ft,Md,jd(_d)))))))):Pd},Cu),Id=T(function(e,r){if(r.$)return oe;var t=r.a;return e(t)}),Bu=T(function(e,r){var t=e;return C(dp,t,r)}),Fd=T(function(e,r){var t=e;return C(Bu,C(nr,function(n){var a=n.b;return a},t),r)}),Jt=function(e){return{$:1,a:e}},Ma=function(e){return{$:0,a:e}},xd=ae(function(e,r,t,n){e:for(;;){var a=r(e),o=a,i=C(o,t,n),c=i.a,f=i.b;if(f.$){var h=f.a;return U(c,h)}else{var d=f.a,p=d,y=r,s=t,$=c;e=p,r=y,t=s,n=$;continue e}}}),Ru=T(function(e,r){return C(xd,e,r)}),Ud=T(function(e,r){return C(Ru,U(0,e),function(t){var n=t.a,a=t.b,o=C(r,n,a),i=o;return C(nr,function(c){var f=c.a,d=c.b;if(d.$){var y=d.a;return Jt(U(n+f,y))}else{var p=d.a;return Ma(U(n+f,p))}},i)})}),Jd=T(function(e,r){return C(Ud,te,T(function(t,n){return fe(e,t)<1?Pu(Jt(rr(n))):C(wu,function(a){return Ma(C(ce,a,n))},r)}))}),ju=ap,Hr=L(function(e,r,t){return r(e(t))}),Gt=function(e){if(zc(e))return!0;switch(e){case"+":return!0;case"/":return!0;default:return!1}};var Gd=T(function(e,r){return{$:8,a:e,b:r}}),zd=T(function(e,r){e:for(;;)if(r.b){var t=r.a,n=r.b,a=e+Pc(t),o=n;e=a,r=o;continue e}else return e}),zt=function(e){return C(Gd,C(zd,0,e),e)};var Wt=function(e){var r=kt(e);if(r>=65&&r<=90)return r-65;if(r>=97&&r<=122)return r-97+26;if(r>=48&&r<=57)return r-48+26+26;switch(e){case"+":return 62;case"/":return 63;default:return-1}},Wd=T(function(e,r){return{$:4,a:e,b:r}}),ku=Wd,Vd=function(e){return{$:3,a:e}},Ko=Vd,Yo=ae(function(e,r,t,n){if(Gt(e)&&Gt(r)){var a=Wt(r),o=Wt(e);if(n==="=")if(t==="="){var i=o<<18|a<<12,c=i>>16;return K(Ko(c))}else if(Gt(t)){var f=Wt(t),i=o<<18|a<<12|f<<6,d=i>>8;return K(C(ku,1,d))}else return oe;else if(Gt(t)&&Gt(n)){var p=Wt(n),f=Wt(t),i=o<<18|a<<12|(f<<6|p),d=i>>8,y=i;return K(zt(J([C(ku,1,d),Ko(y)])))}else return oe}else return oe}),Hd=Kf,Xo=function(e){return M(Hd,ce,te,e)},Nd=T(function(e,r){e:for(;;){var t=Xo(C(Ft,4,e));r:for(;;)if(t.b)if(t.b.b)if(t.b.b.b)if(t.b.b.b.b){if(t.b.b.b.b.b)break r;var n=t.a,a=t.b,o=a.a,i=a.b,c=i.a,f=i.b,d=f.a,p=Q(Yo,n,o,c,d);if(p.$)return oe;var y=p.a,s=C(st,4,e),$=C(ce,y,r);e=s,r=$;continue e}else{var n=t.a,h=t.b,o=h.a,S=h.b,c=S.a,_=Q(Yo,n,o,c,"=");if(_.$===1)return oe;var y=_.a;return K(C(ce,y,r))}else{var n=t.a,m=t.b,o=m.a,b=Q(Yo,n,o,"=","=");if(b.$===1)return oe;var y=b.a;return K(C(ce,y,r))}else break r;else return K(r);return oe}}),Zo=T(function(e,r){if(r.$)return oe;var t=r.a;return K(e(t))}),qd=function(e){return C(Zo,C(Hr,rr,zt),C(Nd,e,te))},Qd=function(e){return C(Zo,ju,qd(e))},Kd=Qd,Mu=Ac,ar=T(function(e,r){if(r.$)return e;var t=r.a;return t}),Yd=T(function(e,r){return C(ar,te,C(Id,function(t){return C(Fd,C(Jd,Mu(t),e),t)},Kd(r)))}),Xd=Yd(Ld),Zd=L(function(e,r,t){var n=t;return X(n,{b:M(It,n.D(e),U(e,r),n.b)})}),eh=T(function(e,r){var t=r;return M(Zd,e,0,t)}),rh=T(function(e,r){return C(eh,e,r)}),th=T(function(e,r){return{bV:e,cY:r}}),nh=C(th,function(e){return e.bB},T(function(e,r){return X(r,{bB:e})})),ah=T(function(e,r){var t=r;return X(t,{b:C(qo,t.D(e),t.b)})}),oh=T(function(e,r){var t=r;return C(ah,e,t)}),ih=T(function(e,r){return C(oh,e,r)}),ch=L(function(e,r,t){return C(e.cY,r(e.bV(t)),t)}),uh=T(function(e,r){return C(ch,nh,function(t){return C(e?rh:ih,r,t)})}),sh=T(function(e,r){return r}),Ou=function(e){return{$:2,a:e}};var qe=function(e){return{dj:0,dS:Ou(e),ep:1,eI:1,eJ:1,bz:0,bA:0,di:0}},fh=L(function(e,r,t){var n=t.a,a=t.b;return C(Aa,function(o){return qe(J([a,o]))},r(X(e,{bx:n})))}),Oa=L(function(e,r,t){e:for(;;){if(t.$===-2)return r;var n=t.b,a=t.c,o=t.d,i=t.e,c=e,f=M(e,n,a,M(Oa,e,r,o)),d=i;e=c,r=f,t=d;continue e}}),lh=T(function(e,r){return M(Oa,L(function(t,n,a){return C(qo,t,a)}),e,r)}),vh=T(function(e,r){var t=e,n=r;return C(lh,t,n)}),ph=L(function(e,r,t){var n=t;return M(Oa,L(function(a,o,i){return C(e,a,i)}),r,n)}),$h=function(e){return C(ou,e,e)},dh=T(function(e,r){var t=r.a,n=r.b;return U(e(t),n)}),Vt=Ko;var hh=T(function(e,r){return C(Zi,e,function(t){return r})}),ei=C(hh,16,0),Er=T(function(e,r){return 4294967295&e+r});var mh=T(function(e,r){return r<<e|r>>>32-e}),La=Zr(function(e,r,t,n,a,o,i,c){return C(Er,t,C(mh,i,C(Er,r,C(Er,c,C(Er,M(e,t,n,a),o)))))});var _h=L(function(e,r,t){return t^e&(r^t)}),de=Sr(function(e,r,t,n,a,o,i){return et(La,_h,e,r,t,n,a,o,i)}),bh=L(function(e,r,t){return r^t&(e^r)}),he=Sr(function(e,r,t,n,a,o,i){return et(La,bh,e,r,t,n,a,o,i)}),gh=L(function(e,r,t){return t^(e^r)}),me=Sr(function(e,r,t,n,a,o,i){return et(La,gh,e,r,t,n,a,o,i)});var yh=L(function(e,r,t){return r^(e|~t)}),_e=Sr(function(e,r,t,n,a,o,i){return et(La,yh,e,r,t,n,a,o,i)}),Ia=T(function(e,r){var t=r.dj,n=r.aJ,a=r.c,o=r.l;if(e.b&&e.b.b&&e.b.b.b&&e.b.b.b.b&&e.b.b.b.b.b&&e.b.b.b.b.b.b&&e.b.b.b.b.b.b.b&&e.b.b.b.b.b.b.b.b&&e.b.b.b.b.b.b.b.b.b&&e.b.b.b.b.b.b.b.b.b.b&&e.b.b.b.b.b.b.b.b.b.b.b&&e.b.b.b.b.b.b.b.b.b.b.b.b&&e.b.b.b.b.b.b.b.b.b.b.b.b.b&&e.b.b.b.b.b.b.b.b.b.b.b.b.b.b&&e.b.b.b.b.b.b.b.b.b.b.b.b.b.b.b&&e.b.b.b.b.b.b.b.b.b.b.b.b.b.b.b.b&&!e.b.b.b.b.b.b.b.b.b.b.b.b.b.b.b.b.b){var i=e.a,c=e.b,f=c.a,d=c.b,p=d.a,y=d.b,s=y.a,$=y.b,h=$.a,S=$.b,_=S.a,m=S.b,b=m.a,l=m.b,v=l.a,u=l.b,g=u.a,w=u.b,A=w.a,P=w.b,E=P.a,R=P.b,B=R.a,D=R.b,O=D.a,I=D.b,F=I.a,W=I.b,re=W.a,ie=W.b,Ge=ie.a,N=21,ur=15,je=10,Ye=6,pe=23,br=16,gr=11,Xe=4,Ce=20,Mr=14,Or=9,Lr=5,Ir=22,Fr=17,ze=12,We=7,xr=o,le=a,sr=n,gt=t,Ur=x(de,gt,sr,le,xr,i,We,3614090360),Xr=x(de,xr,Ur,sr,le,f,ze,3905402710),un=x(de,le,Xr,Ur,sr,p,Fr,606105819),sn=x(de,sr,un,Xr,Ur,s,Ir,3250441966),fn=x(de,Ur,sn,un,Xr,h,We,4118548399),ln=x(de,Xr,fn,sn,un,_,ze,1200080426),vn=x(de,un,ln,fn,sn,b,Fr,2821735955),pn=x(de,sn,vn,ln,fn,v,Ir,4249261313),$n=x(de,fn,pn,vn,ln,g,We,1770035416),dn=x(de,ln,$n,pn,vn,A,ze,2336552879),hn=x(de,vn,dn,$n,pn,E,Fr,4294925233),mn=x(de,pn,hn,dn,$n,B,Ir,2304563134),_n=x(de,$n,mn,hn,dn,O,We,1804603682),bn=x(de,dn,_n,mn,hn,F,ze,4254626195),gn=x(de,hn,bn,_n,mn,re,Fr,2792965006),yn=x(de,mn,gn,bn,_n,Ge,Ir,1236535329),Sn=x(he,_n,yn,gn,bn,f,Lr,4129170786),Cn=x(he,bn,Sn,yn,gn,b,Or,3225465664),wn=x(he,gn,Cn,Sn,yn,B,Mr,643717713),Tn=x(he,yn,wn,Cn,Sn,i,Ce,3921069994),An=x(he,Sn,Tn,wn,Cn,_,Lr,3593408605),Pn=x(he,Cn,An,Tn,wn,E,Or,38016083),En=x(he,wn,Pn,An,Tn,Ge,Mr,3634488961),Dn=x(he,Tn,En,Pn,An,h,Ce,3889429448),Bn=x(he,An,Dn,En,Pn,A,Lr,568446438),Rn=x(he,Pn,Bn,Dn,En,re,Or,3275163606),jn=x(he,En,Rn,Bn,Dn,s,Mr,4107603335),kn=x(he,Dn,jn,Rn,Bn,g,Ce,1163531501),Mn=x(he,Bn,kn,jn,Rn,F,Lr,2850285829),On=x(he,Rn,Mn,kn,jn,p,Or,4243563512),Ln=x(he,jn,On,Mn,kn,v,Mr,1735328473),In=x(he,kn,Ln,On,Mn,O,Ce,2368359562),Fn=x(me,Mn,In,Ln,On,_,Xe,4294588738),xn=x(me,On,Fn,In,Ln,g,gr,2272392833),Un=x(me,Ln,xn,Fn,In,B,br,1839030562),Jn=x(me,In,Un,xn,Fn,re,pe,4259657740),Gn=x(me,Fn,Jn,Un,xn,f,Xe,2763975236),zn=x(me,xn,Gn,Jn,Un,h,gr,1272893353),Wn=x(me,Un,zn,Gn,Jn,v,br,4139469664),Vn=x(me,Jn,Wn,zn,Gn,E,pe,3200236656),Hn=x(me,Gn,Vn,Wn,zn,F,Xe,681279174),Nn=x(me,zn,Hn,Vn,Wn,i,gr,3936430074),qn=x(me,Wn,Nn,Hn,Vn,s,br,3572445317),Qn=x(me,Vn,qn,Nn,Hn,b,pe,76029189),Kn=x(me,Hn,Qn,qn,Nn,A,Xe,3654602809),Yn=x(me,Nn,Kn,Qn,qn,O,gr,3873151461),Xn=x(me,qn,Yn,Kn,Qn,Ge,br,530742520),Zn=x(me,Qn,Xn,Yn,Kn,p,pe,3299628645),ea=x(_e,Kn,Zn,Xn,Yn,i,Ye,4096336452),ra=x(_e,Yn,ea,Zn,Xn,v,je,1126891415),ta=x(_e,Xn,ra,ea,Zn,re,ur,2878612391),na=x(_e,Zn,ta,ra,ea,_,N,4237533241),aa=x(_e,ea,na,ta,ra,O,Ye,1700485571),oa=x(_e,ra,aa,na,ta,s,je,2399980690),ia=x(_e,ta,oa,aa,na,E,ur,4293915773),ca=x(_e,na,ia,oa,aa,f,N,2240044497),ua=x(_e,aa,ca,ia,oa,g,Ye,1873313359),sa=x(_e,oa,ua,ca,ia,Ge,je,4264355552),fa=x(_e,ia,sa,ua,ca,b,ur,2734768916),la=x(_e,ca,fa,sa,ua,F,N,1309151649),va=x(_e,ua,la,fa,sa,h,Ye,4149444226),lo=x(_e,sa,va,la,fa,B,je,3174756917),Fi=x(_e,fa,lo,va,la,p,ur,718787259),gf=x(_e,la,Fi,lo,va,A,N,3951481745),yf=C(Er,sr,gf),Sf=C(Er,le,Fi),Cf=C(Er,xr,lo),wf=C(Er,gt,va);return{dj:wf,aJ:yf,c:Sf,l:Cf}}else return r}),lt=4294967295>>>32-it,Fa=Bf,Sh=L(function(e,r,t){e:for(;;){var n=lt&r>>>e,a=C(Fa,n,t);if(a.$){var d=a.a;return C(Fa,lt&r,d)}else{var o=a.a,i=e-it,c=r,f=o;e=i,r=c,t=f;continue e}}}),Lu=function(e){return e>>>5<<5},Ch=T(function(e,r){var t=r.a,n=r.b,a=r.c,o=r.d;return e<0||fe(e,t)>-1?oe:fe(e,Lu(t))>-1?K(C(Fa,lt&e,o)):K(M(Sh,n,e,a))}),Iu=T(function(e,r){return C(ar,0,C(Ch,e,r))}),xa=Rf,Fu=ae(function(e,r,t,n){var a=lt&r>>>e,o=C(Fa,a,n);if(o.$){var f=o.a,d=M(xa,lt&r,t,f);return M(xa,a,Qc(d),n)}else{var i=o.a,c=Q(Fu,e-it,r,t,i);return M(xa,a,Xc(c),n)}}),vt=L(function(e,r,t){var n=t.a,a=t.b,o=t.c,i=t.d;return e<0||fe(e,n)>-1?t:fe(e,Lu(n))>-1?Q(Mt,n,a,o,M(xa,lt&e,r,i)):Q(Mt,n,a,Q(Fu,a,e,r,o),i)}),wh=T(function(e,r){var t=r.a,n=r.b,a=n.a,o=n.b,i=r.c,c=a/4|0,f=C(Iu,c,o),d=8*(a%4),p=e<<d,y=f|p,s=M(vt,c,y,o);return a===63?po(C(Ia,ya(s),t),U(0,ei),i+1):po(t,U(a+1,s),i+1)}),Th=function(e){var r=e.a,t=e.b,n=t.a,a=t.b,o=e.c,i=n/4|0,c=C(Iu,i,a),f=8*(n%4),d=128<<f,p=c|d,y=M(vt,i,p,a);return i<14?function(s){return C(Ia,s,r)}(ya(M(vt,15,o>>>29,M(vt,14,o<<3,y)))):function(s){return C(Ia,s,C(Ia,ya(y),r))}(ya(M(vt,15,o>>>29,M(vt,14,o<<3,ei))))},xu=Qf,Ah=L(function(e,r,t){return r<128?C(e,r,t):r<2048?C(e,128|63&r,C(e,192|r>>>6,t)):r<65536?C(e,128|63&r,C(e,128|63&r>>>6,C(e,224|r>>>12,t))):C(e,128|63&r,C(e,128|63&r>>>6,C(e,128|63&r>>>12,C(e,240|r>>>18,t))))}),Ph=L(function(e,r,t){return M(xu,T(function(n,a){return M(Ah,e,kt(n),a)}),r,t)}),Eh=ae(function(e,r,t,n){return{dj:e,aJ:r,c:t,l:n}}),Dh=Q(Eh,1732584193,4023233417,2562383102,271733878),Bh=function(e){return Th(M(Ph,wh,po(Dh,U(0,ei),0),e))},Rh=function(e){var r=Bh(e),t=r.dj,n=r.aJ,a=r.c,o=r.l;return J([t&255,t>>>8&255,t>>>16&255,t>>>24&255,n&255,n>>>8&255,n>>>16&255,n>>>24&255,a&255,a>>>8&255,a>>>16&255,a>>>24&255,o&255,o>>>8&255,o>>>16&255,o>>>24&255])},ri=zt,jh=C(Hr,Rh,C(Hr,ct(Vt),ri)),kh=Dc,Mh=T(function(e,r){return{$:9,a:e,b:r}}),Oh=function(e){return C(Mh,Dc(e),e)},Lh=T(function(e,r){return{$:5,a:e,b:r}}),Uu=Lh,Ih=function(e){return zt(J([C(Uu,1,kh(e)),Oh(e)]))},Fh=function(e){switch(e){case 0:return 0;case 1:return 1;case 2:return 2;case 3:return 3;case 4:return 4;case 5:return 5;case 6:return 6;default:return 7}},xh=Uu(1),Uh=function(e){if(e.$){var a=e.a.d5,o=e.a.eu;return ri(J([Vt(128),Ih(a),jh(o)]))}else{var r=e.a,t=e.b,n=e.c;return ri(J([Vt(2),Vt(Fh(r)),Vt(t),xh(n)]))}},se=Hf,Ju=function(e){return C(se,e,"")},Ie=63,ti=il,be=function(e){if(e<=25)return ti(65+e);if(e<=51)return ti(97+(e-26));if(e<=61)return ti(48+(e-52));switch(e){case 62:return"+";case 63:return"/";default:return"\0"}},ni=T(function(e,r){var t=be(e&Ie),n=be(e>>>6&Ie),a=be(e>>>12&Ie),o=be(e>>>18);switch(r){case 0:return C(se,o,C(se,a,C(se,n,Ju(t))));case 1:return C(se,o,C(se,a,C(se,n,"=")));case 2:return C(se,o,C(se,a,"=="));default:return""}}),Gu=ae(function(e,r,t,n){var a=be(t>>>6&Ie),o=be(t>>>12&Ie),i=be(t>>>18),c=be(t&Ie),f=be(e&Ie),d=be(e>>>6&Ie),p=be(e>>>12&Ie),y=be(e>>>18),s=be(r&Ie),$=be(r>>>6&Ie),h=be(r>>>12&Ie),S=be(r>>>18);return C(se,i,C(se,o,C(se,a,C(se,c,C(se,S,C(se,h,C(se,$,C(se,s,C(se,y,C(se,p,C(se,d,C(se,f,n))))))))))))}),Jh=Ee(function(e,r,t,n,a){var o=(255&n)<<16|a,i=n>>>8,c=16777215&t,f=(65535&r)<<8|t>>>24,d=(255&e)<<16|r>>>16,p=e>>>8;return Q(Gu,f,d,p,Q(Gu,o,i,c,""))}),Gh=De(function(e,r,t,n,a,o){var i=r,c=t,f=n,d=a,p=o;return T(function(y,s){var $=C(i,y,s),h=$.a,S=$.b,_=C(c,y,h),m=_.a,b=_.b,l=C(f,y,m),v=l.a,u=l.b,g=C(d,y,v),w=g.a,A=g.b,P=C(p,y,w),E=P.a,R=P.b;return U(E,G(e,S,b,u,A,R))})}),zh=Du(1),Ua=Eu(1),Wh=fr(Gh,Jh,Ua,Ua,Ua,Ua,zh),Vh=ae(function(e,r,t,n){var a=r,o=t,i=n;return T(function(c,f){var d=C(a,c,f),p=d.a,y=d.b,s=C(o,c,p),$=s.a,h=s.b,S=C(i,c,$),_=S.a,m=S.b;return U(_,M(e,y,h,m))})}),Hh=function(e){var r=e.aT,t=e.aW;if(r>=18)return C(nr,function(a){return Ma({aT:r-18,aW:St(t,a)})},Wh);if(r>=3){var n=L(function(a,o,i){var c=a<<16|o<<8|i;return Ma({aT:r-3,aW:St(t,C(ni,c,0))})});return Q(Vh,n,Vr,Vr,Vr)}else if(r)if(r===2){var n=T(function(o,i){var c=o<<16|i<<8;return Jt(St(t,C(ni,c,1)))});return M(Su,n,Vr,Vr)}else return C(nr,function(a){return Jt(St(t,C(ni,a<<16,2)))},Vr);else return Au(Jt(t))},Nh=function(e){return C(Ru,{aT:e,aW:""},Hh)},qh=function(e){return C(Bu,Nh(Mu(e)),e)},Qh=qh,Kh=T(function(e,r){return C(ar,"",Qh(ju(zt(C(ct,e,r)))))}),Yh=function(e){return tt(e,te)?Le:du(C(Kh,Uh,e))},pt=function(e){switch(e){case"0":return K(0);case"1":return K(1);case"2":return K(2);case"3":return K(3);case"4":return K(4);case"5":return K(5);case"6":return K(6);case"7":return K(7);case"8":return K(8);case"9":return K(9);case"a":return K(10);case"b":return K(11);case"c":return K(12);case"d":return K(13);case"e":return K(14);case"f":return K(15);default:return oe}},Xh=Sr(function(e,r,t,n,a,o,i){if(r.$===1)return oe;var c=r.a;if(t.$===1)return oe;var f=t.a;if(n.$===1)return oe;var d=n.a;if(a.$===1)return oe;var p=a.a;if(o.$===1)return oe;var y=o.a;if(i.$===1)return oe;var s=i.a;return K(fr(e,c,f,d,p,y,s))}),$t=wp,Ja=function(e){var r=C(A$,"#",e)?C(st,1,e):e,t=Xo(r);if(t.b&&t.b.b&&t.b.b.b&&t.b.b.b.b&&t.b.b.b.b.b&&t.b.b.b.b.b.b&&!t.b.b.b.b.b.b.b){var n=t.a,a=t.b,o=a.a,i=a.b,c=i.a,f=i.b,d=f.a,p=f.b,y=p.a,s=p.b,$=s.a;return x(Xh,De(function(h,S,_,m,b,l){return M($t,(h*16+S)/255,(_*16+m)/255,(b*16+l)/255)}),pt(n),pt(o),pt(c),pt(d),pt(y),pt($))}else return oe},Zh=C(ar,M($t,0,0,0),Ja("#3465a4")),em=T(function(e,r){return r.b?M(zr,ce,r,e):e}),ai=function(e){return M(zr,em,te,e)},rm=T(function(e,r){return ai(C(ct,e,r))}),Ga={cu:5,cv:5,cx:-5,cy:-5},oi=T(function(e,r){var t=r;return X(t,{ep:e})}),Ht=40,ii=Vf,tm=function(e){return{bz:Ht*(3/2*e.P),bA:Ht*(ii(3)/2*e.P+ii(3)*e.W)}},zu=Qi,Nr=L(function(e,r,t){return{$:0,a:e,b:r,c:t}}),nm=function(e){return function(r){return function(t){return function(n){return function(a){return function(o){return function(i){return function(c){return function(f){return function(d){return{$:0,a:e,b:r,c:t,d:n,e:a,f:o,g:i,h:c,i:f,j:d}}}}}}}}}}},am=function(e){var r=e.W,t=e.aO,n=e.aJ,a=e.dj,o=e.ap,i=e.ag,c=T(function(f,d){var p=f.a,y=f.b,s=f.c,$=d.a,h=d.b,S=d.c;return nm(p)(y)(s)($)(h)(S)(r)(t)(n)(a)});return C(c,o,i)},om=L(function(e,r,t){return{$:0,a:e,b:r,c:t}}),Wu=T(function(e,r){var t=e,n=r;return M(om,32774,t,n)}),Vu=T(function(e,r){return am({dj:0,ag:C(Wu,e,r),aJ:0,ap:C(Wu,e,r),aO:0,W:0})}),im=ae(function(e,r,t,n){return{$:4,a:e,b:r,c:t,d:n}}),Hu=im,cm=ae(function(e,r,t,n){return{$:1,a:e,b:r,c:t,d:n}}),um=function(e){var r=e.e4,t=e.ef,n=e.dP;return Q(cm,515,r,t,n)};var Nu=771,qu=770,Nt=J([C(Vu,qu,Nu),Q(Hu,!0,!0,!0,!1),um({dP:1,ef:0,e4:!0})]),qr=Cv,sm={src:`
        precision highp float;
        uniform vec4 color;
        uniform float n;
        varying vec2 uv;
        void main () {
            float angle = 3.1415926535897932384626433832795 / n * 3.0;
            float a = atan(uv.x,uv.y) + angle;
            float b = 6.28319 / n;
            gl_FragColor = color;
            gl_FragColor.a -= smoothstep(0.5, 0.5001, cos(floor(.5 + a/b)*b-a)*length(uv));
            if(gl_FragColor.a <= 0.025) discard;
        }
    `,attributes:{},uniforms:{color:"ap",n:"ec"}},fm=T(function(e,r){return{$:0,a:e,b:r}}),za=fm({bQ:1,b4:0,cz:5}),ne=yp,Wa=za(J([{aI:C(ne,-1,-1)},{aI:C(ne,-1,1)},{aI:C(ne,1,-1)},{aI:C(ne,1,1)}])),Qu=Tp,Va=Ap,Ha=C(Hr,Qu,function(e){return M(Va,e.bz,e.bA,e.di)}),Ku={src:`
            precision highp float;
            attribute vec2 aP;
            uniform vec4 uT;
            uniform vec2 uP;
            uniform float z;
            varying vec2 uv;
            vec2 edgeFix = vec2(0.0000001, -0.0000001);
            void main () {
                uv = aP + edgeFix;
                gl_Position = vec4(aP * mat2(uT) + uP, z  * -1.19209304e-7, 1.0);
            }
        `,attributes:{aP:"aI"},uniforms:{uP:"db",uT:"dc",z:"di"}},lm=De(function(e,r,t,n,a,o){return G(qr,Nt,Ku,sm,Wa,{ap:C(Ha,r,o),ec:e,db:t,dc:n,di:a})}),vm=T(function(e,r){return{dj:0,dS:M(Nr,r*2,r*2,C(lm,6,e)),ep:1,eI:1.75,eJ:1.75,bz:0,bA:0,di:0}}),Na=L(function(e,r,t){var n=t,a=n.bz,o=n.bA,i=n.dj,c=n.eI,f=n.eJ,d=n.ep,p=n.dS;return X(n,{bz:a+e,bA:o+r})}),pm=Ff,$m=function(e){return e*pm/180},dm=T(function(e,r){var t=r,n=t.bz,a=t.bA,o=t.dj,i=t.eI,c=t.eJ,f=t.ep,d=t.dS;return X(t,{dj:o+$m(e)})}),hm=C(ar,M($t,0,0,0),Ja("#ffffff")),ci=T(function(e,r){return{$:1,a:e,b:r}}),mm={src:`
        precision highp float;
        varying vec2 uv;
        uniform vec2 uImgSize;
        uniform sampler2D uImg;
        uniform vec4 color;
        void main () {
            vec2 pixel = ((floor(uv * uImgSize) + 0.5) * 2.0 ) / uImgSize / 2.0;
            gl_FragColor = texture2D(uImg, pixel) * color;
            if(gl_FragColor.a <= 0.025) discard;
        }
    `,attributes:{},uniforms:{color:"ap",uImg:"c9",uImgSize:"da"}},_m={src:`
            precision highp float;
            attribute vec2 aP;
            uniform vec4 uT;
            uniform vec2 uP;
            uniform float z;
            uniform float index;
            uniform vec2 spriteSize;
            uniform vec2 uImgSize;
            varying vec2 uv;
            vec2 edgeFix = vec2(0.0000001, -0.0000001);
            void main () {
                vec2 ratio = spriteSize / uImgSize;
                float row = (uImgSize.y / spriteSize.y - 1.0) - floor((index + 0.5) * ratio.x);
                float column = floor(mod((index + 0.5), uImgSize.x / spriteSize.x));
                vec2 offset = vec2(column, row) * ratio;
                uv = (aP * 0.5 + 0.5) * ratio + offset + edgeFix;
                gl_Position = vec4(aP * mat2(uT) + uP, z  * -1.19209304e-7, 1.0);
            }
        `,attributes:{aP:"aI"},uniforms:{index:"d0",spriteSize:"eE",uImgSize:"da",uP:"db",uT:"dc",z:"di"}},bm=yt(function(e,r,t,n,a,o,i,c,f){return G(qr,Nt,_m,mm,Wa,{ap:C(Ha,n,f),d0:a,eE:r,c6:f,c9:e,da:t,db:o,dc:i,di:c})}),gm=Zr(function(e,r,t,n,a,o,i,c){return{dj:0,dS:M(Nr,n,a,G(bm,e,C(ne,n,a),r,t,c)),ep:1,eI:1,eJ:1,bz:o,bA:i,di:0}}),Yu=L(function(e,r,t){var n=t.a,a=t.b;return U(e(n),r(a))}),ym=De(function(e,r,t,n,a,o){var i=o.ao,c=o.bz,f=o.bA,d=o.e1;return a===`
`?{ao:i,e1:C(Jo,d,c),bz:t,bA:f-n}:{ao:C(ce,M(e,c,f,r(a)),i),e1:d,bz:c+t,bA:f}}),qa=Nl,Sm=L(function(e,r,t){var n=e.du,a=e.dt,o=e.eF,i=e.dU;return{dj:0,dS:C(ci,o,function(c){var f=M(Yu,Sa,Sa,qa(c)),d=f.a,p=f.b,y=C(ne,d,p),s=G(gm,c,y,r,n,a),$=M(Pr,Q(ym,s,i,n,a),{ao:te,e1:0,bz:n,bA:a},Xo(t));return{dj:0,dS:Ou($.ao),ep:1,eI:1,eJ:1,bz:C(Jo,$.bz,$.e1)*-.5,bA:$.bA*-.5+.5*-a,di:0}}),ep:1,eI:1,eJ:1,bz:0,bA:0,di:0}}),Cm="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAMAAABrrFhUAAAAAXNSR0IArs4c6QAAAAZQTFRFAAAA////pdmf3QAAAAJ0Uk5TAP9bkSK1AAAPR0lEQVR4nO2aiZKsOg5E7f//6RfxugEpM7UYqK1veaYvyJYl5fFSRMyM8eI2oRUOzy5J2cEkipGN62wqQwnocIq7eHIqxefj/P6hBFNBMbyzAKwl5rouLN/9sw7A9geCK7sQiO/WVwM4/j2Gj67JC/erQFd0RN/+ttR6R/AKSFOPOx2GsDFQFuFYAwAbogZgcozoSACOn+LChMUKlwAwoAbAC5QcmRLANhgdCTCHeUFeHQCH2iOGM34JVwB8PmOHB0DcAQUAaRsABOwGAL9680uQDIPPLlAJwIEEh8D/SQCgZlBxBYB94wmBHAvkyQDYigFsL1p9CwBuOZbnLsEJcS5fgiUAV90AiFy/ACALJwWQkDps/oMHjGPUFgChME6PC0l3ogJgXBSAAbOLgsg/TOfPGM7040V+P+h1/OyYoKYWANiAy0ByACvjuh6KMA69xzFqlGTFJelXgQTZHgNArnTm/9xWCmzp/7aHtxX2nfXCsfwIPbbJYqFTve994s6oCOBYZV9u7lcB3lSx0EcGPgHA7hiW4xNSAQSA/RO1OqF55xdZEH3q+WDHc/9tFZ9oUTm4pyqF0X7U8aGOdAEbBS0DUJsqlKPuDDGZCzgGyNP3c/3uy1B7UJLwDmAAQtF5ABPjYQemofyhKWoI9BcADqbDFpQAgeQ/9j5vG2e9k20EoMZd/ssAqOUAqCAG4AQjkKcA8LYgkALYitAJBABO4IGE9UZHQEYPBVf6Vy9BBHC4hzsA9Zd3gnMRczG6eYhLr9JLPYsATJgAAO2oND154Bi243IO6q30BwQgfQRArAQvqbi5KX3sUBHA2PCidxzNipg3ALBgFT3Ut6iwaLZK0bkcpeNb6K8BrBf4bd/2vIaX3c+G/VubFm9J86gBbAPhrz7M3lxCcxDeWy7JJAT/Bh5FTdfGoEvPOtphzqDzkb3hhQnnVPsk2VgbgORhJG5WmEDV4gHg/7ByBwC1LXV9HQADntPEFwDUinMF4H76SyiWmI8GAOgOoEhefwgAbK4gq4eQoHM8LiuQMbxvCgDzOWseEUxXLBd6UNAdAAr9i78CnFDQmNm2vQFA7B/ku3CEEADVvAs+3OsFyXqYLgqckD0F0NBf0bMZ7MqY+HbF8og3XII5XxUu9q3iSQC2xN8XD+DKDpjlz2BHf3A+GxPkGCk+ZlguOKGZz9s/AH/+jAPO7+pp6K83rHnYEg/Ljm/piy2AAMAhra/S5PyvfkKUAL7t277trRvdyeKSFnfyMS5sN6fhv2QP/bsvVCWClRz+lnef79EEZeOz8l+x9y7U0NSvvsydRuoYinC8CtEzi9WZvwKAJboeMj4NQBVT8iEkh+FjfAKAvMn9IJiwx1HInDGAOSGit+cMbT1dAMjiLeuvnVhOBoDrKRQ2BYXjHQATF+gEAFVIBCAK2bFV/JXxUs7JIxAWkr1nBT4SgFSYyssRSSFvDEDJId/uzyDlmqYpBxxX/ijkZn8FYAwM1jwwQTzqQvdjXOsZ4fgN/jBZiE0IyNQJr3+h/ev6v8216JL6V9qcSCCylr+E/++g8OpD0j6DS3PrmeBPnhivik8AKgHFeAlA2XcDEH7Jz64N3iD46Ce+BytLAj0pAJ7mfRCASMw9AI51bwGYDwBQCaoARPM7AA55XQAz1eNmBAFS4jIgFpQAAJcegGY8Zb8DgLDAOwAMWPFlAJFjF4AaBzssqA0gOQL0fASAVUAVsAiA9jsI9OIXAOzLXQAqINcAxDvojH8GYNo2oEOMaxsAYDwn2g/LfFV91TPSUwFABWU8BWCICRkAle8KgCQ+Xzzf9m3f9jdacrpXL7nqln7Iz6guIBLHN1p2v8lb1NjV+MsBsDgCgDzY/drz+No6LZC/RxBoKFmLs50E5F4A0Xt7frTA/PkkskUEyD0mcEX4LQBohQr9VIEiwPslJDBNiwq1FaF9CsB0/3M86s31sxRB4ByAUIBcoGBN5Hw8436+FBwL1HKZyQIAZcOKJYxzAHimGQDirK45IYXqC+VyawEwGRTRFAAIJAC0IaCmlrgGpBUAtqLfJ9oLAPwWV/EnKMD3ORColJEek0x/RMAFdh1yTbVAKucQPDCuqqnKxzn0eB+A6VcAeMsGpl+QgUZySZ0CMKJ6lN4Ooz7Dj2p9AN/2bf9Oyw5D96h0rp32vKQvuP8vHed0/mUAxZ3zNgBSAt0oWX813m0q3tUL3ROABaMFjO3w298VCVuCN4hcEOefAujXC9Fpvv7yO2OzEgnAVVgAcD74vlLfPgsSEumTT8pVzVPQ2E/H3N9n/n+IiHIQws5ENW7mPwQALN+9AEDAFQBSTBW/DWDy2G0AViZ2xxWBswDQ5SUAVp/dPE0Aof/VutwWnWTmt6q41Q9HXeAEm/e4cez4d4T7BBkB5R/b6pBKAAioBLDgXwGQl8hT23IBry74277t7dvrz8ezC4Arga2inLvLffYK4J0oAKT13F7vKwD0bSrOEYKfZerJxsnfJr/zib+DSwBoP8Ry1ZddOv4iAFISSfRyx37wD11+8uozKqA1f5r/fwAUJPOw/vKM8/IkX4arT78gNYC5P7Izpeez5EUAR4ZtbLiXrnCITiVFANS3OswXRjw+DEyVP3QA3Q6ATajsIVobQHLpqHEGjPpXfwWc7PIOCy+18wCKFf55oTRQYJi7B8CPifyhQErPK0hnTI5DYMqfPXW+SLAgltQfeW/9PM71eC89PtCILj1dIASsAUT6Q6Hd/sc3BbAx5YEVfdu/1fBM+t7BW/S4K9hX+auEV+J1/NWvciRIApDu4c+Yuq9CAqfiLfirXx1XDwZUANR7UgD5VwBW4634q3wEoJp0pVUAHt5gwwRHyPu7/k6AZ9ryMyi25/QB0C4BVAGebZ8BkD1bADK/VfvqczX3LQDcCly0VT4cz+wzANJ4FaFEz+ktHQBo2S8BoILf/eyKOwMgzRut0COfV/LdDsBUFAKJ7HnCvpJP1VvZNk4ElI1egnOXwPl8p+wOAFfPE9qz833bZ7Wf/RFu4Ucm7fvimXMRIFh+A+ifpRsByPkYLA0Od9gEmwFEd1x8B64KDBDLeNGl186GAqoVU8mivjBeIogBNOoDxbQc6AAA9n9qXNdbC7jYUNZv7g/lH29R7NjM339oQsuOhFx5ckJJcLfNQwPQgM1EM0GMl/Yjn/pGM31NAK5Z0c8W1BeOCwJdoYM2VcTPBIAdqwBArzwCdz+vAFZ7GAWZhxwHouT8UABqx60AG3797rgE6Q7Y/3kIgEWwKBD1S4FzUpcYpwVxAKIVuMPGZ+aPAsQ4OyfDBEAQ9hdF4b9qk4BqfrWCoHB7xYDjbZoQeHd4+xzA79tuaPP3Go3sT2i4K1bsn+0LR3CsbLPX78mL+t1vEdr7IY/stVvJ3GWuI7wkx7Elp3s9qZdsjMh2daufAmAvtzlwCVw8J1oTeGQ7CtT2YMBFvG1KEwBIJgK0InKD7l02cTQ+cbwAsNJQrwBAdEkwAJF7lPWvfLmtASAaFA98Yb3MQwHDUdEFRaj3ledWIxIE28tl/fvKIiDqYNEeD883nVjgPQBMvIOIlzekucc6AOAO2eJl+sMTT51c8N0A8hatcGzvPPcFNA8EUB8BFHAHAHdwEYgwf196AH6nbltgM71mL4D42I6HALA1NAFE+dWYXfISgBDsgEzbggL1cArC15A0BaDpb4EkAOjIO/2ZQhyXdgGiJcgnKCe4vOIOUDto+5f1v7wt6v+229t0f/Sf6f9+pvAWSy8t5ROWs3ikOv5Zbi////+6P0DQAjBV8iaA2RG06J+fLyTg/+QGSADwgc4FoPth6Oe0bcm/J788Aw8D4OY3AcwbACzq/4MA7rgDSIAZpwIbACS4BID1h4EawMU7QCZIVhTqJ38fRD2jORqQrsfmpr+1O0ATbgKgY7IAILCr+KreS3fA5wO4eAdIABPHiwIJ4AkAU8QP63Fzr90BZQIAUF1Sx6sGgOMSKJaWLNALvgOEIAJY+V8EAPVfugM+H8DFO+CtALD+ocdcxw13QHInVADIvwDA42eazUd/1+4AthsAlvxvBtATVAYoxleBqLl3jr8EAB4f9YxusWT8zPxJvk8B8Js1BTCds5kluyle1LL5bwdgVcAXwF0AJtZbCEzGaX5YsIUVA8AgEkBCIJ1fzF2IVfnD7tjGzVAHrqS94B4HeTQALDgDsFr7NfUnBf0pAH1Fi+7NI4D3xWrpV+V3cvCltuoPK775ILB9apPqmr8eahHI7I6/AsB1rf6s3fQz+AXwQgADCvq7AGAsiuEK1sPyQ6rrf6rdAQDfOwA641fj1Q4N/xW4nflxvGoLV/1i/l0AVo+TmUI1vxBAlSABYP3b83W+jwfQn/8F8HIA8OwBMPNWAey9Sb4g80MAdAMe48ofpzpbpR1AUORr1f9OAHBWlnoVQKj/CyAU1gRzAsAQ/jjV2lF5Rb60ihsBlIK3eel8CcROhMv2gFQVjkCfD6D1pVgBsPP9sw9A1/cF8B4A8Oh+MADjDcn70/kSzJ6YL4rnhTwWAP2MYd+V+SpeFfvpAL7tn26wj7KN1RlfzbdsX80Xj9svtucBqPJrmz5GG+k80Z+X0bi0IIJ9RuPBfFcUvjef07WxySB9Lr2sx0asElNEwx4LiufDlEUAzt18cOxagnoVgIETENBwbXew9cvVjApnDcdoKVzp8QB2uxvPiVgH4AlsFUWCJADT1VkxM94GEC5IACDaci8BYA81PEsAdnc/CICLfw7ATPwh4PsB8PolAC8RAQw3KPJukk4BwPo1AFMgFlwBmEdi4y8BQAQuShU4j4DREXAZovqj57EBOQCtTghAAmRxEgBMkPEAAI/LAGE8X9c+dgCAxSEA/hFkVGIhhCpYCsAzKqrqxmcAPDmJ/CHtD0j47Kb2c7VrP7uBvALAm4FQy8P3oJgjQhgb3+iHjWZfVBDbrekJACagJNiFdQCc27C7Rf9urtTMhrC7wWIAcsFxvAvAHgj55bRSsgtLBYH3cnjskgbnGwAAFMMukACqcisAYr2SiLQD7gXg+0UMBsD1pvkIgCp+BYBOWB8BZYc6mHcCQMRHi6b374QagBRcFJgAUPvHRcgA0HKHAOL4jXbiZxCHRSBz/ovs8RH4f2RNzZkdsNgyAL7xr2Annih3sboVAKv2kFs0+hkEHCfaxwMYZ1aRCj4590HNA0Bakdcd6d6koUzBAxb97SRca/GSRADepf0HLcFaUmZNR2YAAAAASUVORK5CYII=",Qa=T(function(e,r){e:for(;;){if(r.$===-2)return oe;var t=r.b,n=r.c,a=r.d,o=r.e,i=C(iu,e,t);switch(i){case 0:var c=e,f=a;e=c,r=f;continue e;case 1:return K(n);default:var c=e,f=o;e=c,r=f;continue e}}}),Xu=function(e){return M(Pr,T(function(r,t){var n=r.a,a=r.b;return M(It,n,a,t)}),wa,e)},wm=Xu(C(jt,T(function(e,r){return U(r,e)}),ai(J([J(["\0","\u263A","\u263B","\u2665","\u2666","\u2663","\u2660","\u2022","\u25D8","\u25CB","\u25D9","\u2642","\u2640","\u266A","\u266B","\u263C"]),J(["\u25BA","\u25C4","\u2195","\u203C","\xB6","\xA7","\u25AC","\u21A8","\u2191","\u2193","\u2192","\u2190","\u221F","\u2194","\u25B2","\u25BC"]),J([" ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/"]),J(["0","1","2","3","4","5","6","7","8","9",":",";","<","=",">","?"]),J(["@","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O"]),J(["P","Q","R","S","T","U","V","W","X","Y","Z","[","\\","]","^","_"]),J(["`","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o"]),J(["p","q","r","s","t","u","v","w","x","y","z","{","|","}","~","\u2302"]),J(["\xC7","\xFC","\xE9","\xE2","\xE4","\xE0","\xE5","\xE7","\xEA","\xEB","\xE8","\xEF","\xEE","\xEC","\xC4","\xC5"]),J(["\xC9","\xE6","\xC6","\xF4","\xF6","\xF2","\xFB","\xF9","\xFF","\xD6","\xDC","\xA2","\xA3","\xA5","\u20A7","\u0192"]),J(["\xE1","\xED","\xF3","\xFA","\xF1","\xD1","\xAA","\xBA","\xBF","\u2310","\xAC","\xBD","\xBC","\xA1","\xAB","\xBB"]),J(["\u2591","\u2592","\u2593","\u2502","\u2524","\u2561","\u2562","\u2556","\u2555","\u2563","\u2551","\u2557","\u255D","\u255C","\u255B","\u2510"]),J(["\u2514","\u2534","\u252C","\u251C","\u2500","\u253C","\u255E","\u255F","\u255A","\u2554","\u2569","\u2566","\u2560","\u2550","\u256C","\u2567"]),J(["\u2568","\u2564","\u2565","\u2559","\u2558","\u2552","\u2553","\u256B","\u256A","\u2518","\u250C","\u2588","\u2584","\u258C","\u2590","\u2580"]),J(["\u03B1","\xDF","\u0393","\u03C0","\u03A3","\u03C3","\xB5","\u03C4","\u03A6","\u0398","\u03A9","\u03B4","\u221E","\u03C6","\u03B5","\u2229"]),J(["\u2261","\xB1","\u2265","\u2264","\u2320","\u2321","\xF7","\u2248","\xB0","\u2219","\xB7","\u221A","\u207F","\xB2","\u25A0","\xA0"])])))),Tm=function(e){return C(ar,0,C(Qa,e,wm))},Am={dt:16,du:16,dU:Tm,eF:Cm},Pm=Sm(Am),Em=T(function(e,r){var t=tm(r),n=t.bz,a=t.bA;return M(Na,n,a,C(oi,.8,qe(J([C(dm,30,C(vm,e,Ht)),C(Pm,hm,zu(r.P)+(","+zu(r.W)))]))))}),Dm=function(e){return{P:Ut(e.P),W:Ut(e.W)}},Bm=function(e){return Dm({P:2/3*e.bz/Ht,W:(-1/3*e.bz+ii(3)/3*e.bA)/Ht})},ui=C(ar,M($t,0,0,0),Ja("#cc0000")),Rm=function(e){var r=Bm(e);return qe(C(rm,function(t){return C(ct,function(n){return C(Em,tt(r.P,t)&&tt(r.W,n)?ui:Zh,{P:t,W:n})},C(xo,Ga.cy,Ga.cv))},C(xo,Ga.cx,Ga.cu)))},jm=L(function(e,r,t){return{$:0,a:e,b:r,c:t}}),Ka=function(e){return e?1:0},Zu=T(function(e,r){var t=C(Qa,e,r);return!t.$}),km=T(function(e,r){var t=r.b,n=r.D;return C(Zu,n(e),t)}),qt=T(function(e,r){var t=r;return C(km,e,t)}),Mm=T(function(e,r){var t={a4:Ka(C(qt,e.a4,r)),d4:Ka(C(qt,e.d4,r)),eA:Ka(C(qt,e.eA,r)),de:Ka(C(qt,e.de,r))},n=t.eA-t.d4,a=t.de-t.a4;return{bz:n,bA:a}}),Om={a4:40,d4:22,eA:25,de:44},Lm=function(e){var r=e.bz,t=e.bA;return r>0?t>0?K(0):t<0?K(2):K(1):r<0?t>0?K(6):t<0?K(4):K(5):t>0?K(7):t<0?K(3):oe},Im=function(e){var r=e.bi,t=e.bB,n=Lm(C(Mm,Om,t));if(n.$)return e;var a=n.a;return X(e,{bi:C(ce,M(jm,a,18,4660),r)})},Fm=function(e){return function(r){var t=r.a,n=r.b;return C(ne,t,n)}(qa(e))},xm={src:`
        precision highp float;
        varying vec2 uv;
        uniform vec2 uImgSize;
        uniform sampler2D uImg;
        uniform float uA;
        void main () {
            vec2 pixel = (floor(uv * uImgSize) + 0.5) / uImgSize;
            gl_FragColor = texture2D(uImg, pixel);
            gl_FragColor.a *= uA;
            if(gl_FragColor.a <= 0.025) discard;
        }
    `,attributes:{},uniforms:{uA:"c6",uImg:"c9",uImgSize:"da"}},Um=za(J([{aI:C(ne,-1,-1)},{aI:C(ne,-1,1)},{aI:C(ne,1,-1)},{aI:C(ne,1,1)}])),Jm={src:`
            precision highp float;
            attribute vec2 aP;
            uniform vec4 uT;
            uniform vec2 uP;
            uniform float z;
            uniform float index;
            uniform vec2 spriteSize;
            uniform vec2 uImgSize;
            varying vec2 uv;
            vec2 edgeFix = vec2(0.0000001, -0.0000001);
            void main () {
                vec2 ratio = spriteSize / uImgSize;
                float row = (uImgSize.y / spriteSize.y - 1.0) - floor((index + 0.5) * ratio.x);
                float column = floor(mod((index + 0.5), uImgSize.x / spriteSize.x));
                vec2 offset = vec2(column, row) * ratio;
                uv = (aP * 0.5 + 0.5) * ratio + offset + edgeFix;
                gl_Position = vec4(aP * mat2(uT) + uP, z  * -1.19209304e-7, 1.0);
            }
        `,attributes:{aP:"aI"},uniforms:{index:"d0",spriteSize:"eE",uImgSize:"da",uP:"db",uT:"dc",z:"di"}},Gm=Zr(function(e,r,t,n,a,o,i,c){return G(qr,Nt,Jm,xm,Um,{d0:n,eE:r,c6:c,c9:e,da:t,db:a,dc:o,di:i})}),si=ae(function(e,r,t,n){return{dj:0,dS:C(ci,t,function(a){return{dj:0,dS:M(Nr,e,r,Q(Gm,a,C(ne,e,r),Fm(a),n)),ep:1,eI:1,eJ:1,bz:0,bA:0,di:0}}),ep:1,eI:1,eJ:1,bz:0,bA:0,di:0}}),zm=function(e){var r=C(Na,-100,200),t=12,n=Kc(e.c5*.001*t)%7,a=qe(J([Q(si,64,64,"c2",26+n),Q(si,64,64,"c1",26+n)]));return U(e.bx,qe(J([r(a)])))},Wm=J([J([82,88,70,83,85,90,86,74,80,81]),J([66,84,69,71,72,73,75,76,77,14]),J([-1,91,89,68,87,67,79,78,12,-1]),J([-1,-1,-1,-1,13,64])]),es=T(function(e,r){var t=r,n=t.bz,a=t.bA,o=t.dj,i=t.eI,c=t.eJ,f=t.ep,d=t.dS;return X(t,{bz:n+e})}),Vm=T(function(e,r){var t=r,n=t.bz,a=t.bA,o=t.dj,i=t.eI,c=t.eJ,f=t.ep,d=t.dS;return X(t,{bA:a+e})}),Hm={src:`
        precision highp float;
        uniform vec4 color;
        void main () {
            gl_FragColor = color;
            if(gl_FragColor.a <= 0.025) discard;
        }
    `,attributes:{},uniforms:{color:"ap"}},Nm={src:`
        precision highp float;
        attribute vec2 aP;
        uniform vec4 uT;
        uniform vec2 uP;
        uniform float z;
        void main () {
            gl_Position = vec4(aP * mat2(uT) + uP, z * -1.19209304e-7, 1.0);
        }
    `,attributes:{aP:"aI"},uniforms:{uP:"db",uT:"dc",z:"di"}},qm=Ee(function(e,r,t,n,a){return G(qr,Nt,Nm,Hm,Wa,{ap:C(Ha,e,a),db:r,dc:t,di:n})}),Qm=T(function(e,r){return{dj:0,dS:M(Nr,r,r,qm(e)),ep:1,eI:1,eJ:1,bz:0,bA:0,di:0}}),uC=C(ar,M($t,0,0,0),Ja("#edd400")),Km=function(e){var r=M(si,7,9,"/asset/font/charmap-oldschool_white.png"),t=C(qt,0,e);return C(es,-199,qe(C(jt,T(function(n,a){return C(Vm,n*-33,qe(C(jt,T(function(o,i){var c=ui;return C(es,o*33,qe(J([C(Qm,c,30),r(i)])))}),a)))}),Wm)))},Ym=L(function(e,r,t){return{dj:0,dS:M(Nr,e,r,t),ep:1,eI:1,eJ:1,bz:0,bA:0,di:0}}),rs=J([C(Vu,qu,Nu),Q(Hu,!0,!0,!0,!1)]),Xm={src:`
        precision highp float;
        varying vec2 uv;
        varying vec4 center;
        varying vec2 uv2;
        varying vec2 doRepeat;
        varying vec2 repeat;
        uniform float uA;
        uniform sampler2D uImg;
        uniform vec2 uImgSize;
        void main () {
        vec2 pixel2 = fract(fract(uv) * repeat);

        if (doRepeat.x < 1.0) {
            pixel2.x = fract(uv.x);
        }
        if (doRepeat.y < 1.0) {
            pixel2.y = fract(uv.y);
        }

        vec2 repeatPart = (pixel2 * center.zw + center.xy);

        if (doRepeat.x < 1.0) {
            repeatPart.x = (uv2.x);
        }
        if (doRepeat.y < 1.0) {
            repeatPart.y = (uv2.y);
        }

        gl_FragColor = texture2D(uImg, (floor(repeatPart) + 0.5) / uImgSize );
        gl_FragColor.a *= uA;
        }
    `,attributes:{},uniforms:{uA:"c6",uImg:"c9",uImgSize:"da"}},Zm=function(){var e=C(ne,-1,-1),r=C(ne,-3,-1),t=C(ne,3,1),n=C(ne,1,1),a=C(ne,-1,1),o=C(ne,-3,1),i=C(ne,3,3),c=C(ne,1,3),f=C(ne,3,-3),d=C(ne,1,-3),p=C(ne,-1,-3),y=C(ne,-3,-3),s=C(ne,3,-1),$=C(ne,1,-1),h=C(ne,-1,3),S=C(ne,-3,3);return za(C(ct,function(_){return{aI:_}},J([S,o,h,a,c,n,i,t,s,n,$,a,e,o,r,y,e,p,$,d,s,f])))}(),e_={src:`
precision highp float;
attribute vec2 aP;
uniform vec4 uT;
uniform vec2 uP;
uniform vec2 uSize;
uniform vec2 uImgSize;
uniform vec4 uSlice;
uniform vec4 uBounds;
uniform float z;
varying vec2 uv;
varying vec2 uv2;
varying vec4 center;
varying vec2 doRepeat;
varying vec2 repeat;
vec2 edgeFix = vec2(-0.25000001, -0.2500001);
void main () {
    doRepeat = vec2(0.0,0.0);
    center = vec4(
        uBounds.x + uSlice.x,
        uImgSize.y - (uBounds.y + uSlice.y + uSlice.w),
        uSlice.z,
        uSlice.w
    );
    repeat = vec2((uSize.x - (uBounds.z - uSlice.z)) / uSlice.z, (uSize.y - (uBounds.w - uSlice.w)) / uSlice.w);
    vec2 p = aP;
    uv2 = vec2(0.0, 0.0);

    if (aP.x == -1.0) {
        p.x = -1.0 + (uSlice.x / uSize.x * 2.0);
        uv.x = 1.0;
        doRepeat.x = 1.0;
        uv2.x = (uBounds.x + uSlice.x);
    }
    if (aP.x == 1.0) {
        p.x = 1.0 - (uBounds.z - uSlice.x - uSlice.z) / uSize.x * 2.0;
        uv.x = 2.0;
        doRepeat.x = 1.0;
        uv2.x = (uBounds.x + uSlice.x + uSlice.z);
    }
    if (aP.y == 1.0) {
        p.y = 1.0 - (uSlice.y / uSize.y * 2.0);
        uv.y = 2.0;
        doRepeat.y = 1.0;
        uv2.y = uImgSize.y - (uBounds.y + uSlice.y);
    }
    if (aP.y == -1.0) {
        p.y = -1.0 + (uBounds.w - uSlice.y - uSlice.w) / uSize.y * 2.0;
        uv.y = 1.0;
        doRepeat.y = 1.0;
        uv2.y = uImgSize.y - (uBounds.y + uSlice.y + uSlice.w);
    }
    if (aP.x == -3.0) {
        p.x = -1.0;
        uv.x = 0.0;
        uv2.x = uBounds.x;
    }
    if (aP.x == 3.0) {
        p.x = 1.0;
        uv.x = 3.0;
        uv2.x = (uBounds.x + uBounds.z);
    }
    if (aP.y == 3.0) {
        p.y = 1.0;
        uv.y = 3.0;
        uv2.y = uImgSize.y - uBounds.y;
    }
    if (aP.y == -3.0) {
        p.y = -1.0;
        uv.y = 0.0;
        uv2.y = uImgSize.y - (uBounds.y + uBounds.w);
    }

    uv += edgeFix;
    uv2 += edgeFix;

    gl_Position = vec4(p * mat2(uT) + uP, z * -1.19209304e-7, 1.0);

}
        `,attributes:{aP:"aI"},uniforms:{uBounds:"eP",uImgSize:"da",uP:"db",uSize:"eS",uSlice:"eT",uT:"dc",z:"di"}},r_=yt(function(e,r,t,n,a,o,i,c,f){return G(qr,rs,e_,Xm,Zm,{c6:f,eP:n,c9:e,da:r,db:o,eS:t,eT:a,dc:i,di:c})}),ts=T(function(e,r){return{dj:0,dS:C(ci,e,r),ep:1,eI:1,eJ:1,bz:0,bA:0,di:0}}),t_=ae(function(e,r,t,n){var a=r.bG,o=r.cZ;return C(ts,e,function(i){var c=qa(i),f=c.a,d=c.b,p=d,y=f;return M(Ym,t,n,G(r_,i,C(ne,y,p),C(ne,t,n),Q(Va,a.bz,a.bA,a.dg,a.b_),Q(Va,o.bz,o.bA,o.dg,o.b_)))})}),ns=t_,n_=C(ns,"asset/ui/1.png",{bG:{b_:39,dg:67,bz:1,bA:34},cZ:{b_:24,dg:50,bz:9,bA:9}}),a_=C(ns,"asset/ui/1.png",{bG:{b_:8,dg:8,bz:69,bA:34},cZ:{b_:1,dg:1,bz:4,bA:4}}),o_={src:`
        precision highp float;
        uniform vec4 color;
        varying vec2 uv;
        void main () {
            gl_FragColor = color;
            gl_FragColor.a *= smoothstep(0.01,0.04,1.-length(uv));
            if(gl_FragColor.a <= 0.025) discard;
        }
    `,attributes:{},uniforms:{color:"ap"}},i_=Ee(function(e,r,t,n,a){return G(qr,Nt,Ku,o_,Wa,{ap:C(Ha,e,a),db:r,dc:t,di:n})}),fi=T(function(e,r){return{dj:0,dS:M(Nr,r*2,r*2,i_(e)),ep:1,eI:1,eJ:1,bz:0,bA:0,di:0}}),c_=L(function(e,r,t){return fe(t,e)<0?e:fe(t,r)>0?r:t}),li=function(e){return M(c_,0,255,Ut(e))},Ya=L(function(e,r,t){return M($t,li(e)/255,li(r)/255,li(t)/255)}),u_=T(function(e,r){return C(oi,.5,qe(J([C(fi,M(Ya,53,53,53),40),C(fi,M(Ya,85,85,85),38),C(fi,M(Ya,218,218,218),30)])))}),s_=u_,f_=s_,l_={src:`
        precision mediump float;
        varying vec2 uv;
        uniform vec2 uImgSize;
        uniform sampler2D uImg;
        uniform vec4 color;
        void main () {
            vec2 pixel = ((floor(uv * uImgSize) + 0.5) * 2.0 ) / uImgSize / 2.0;
            gl_FragColor = texture2D(uImg, pixel) * color;
        }
    `,attributes:{},uniforms:{color:"ap",uImg:"c9",uImgSize:"da"}},v_=za(J([{aI:C(ne,-1,-1)},{aI:C(ne,-1,1)},{aI:C(ne,1,-1)},{aI:C(ne,1,1)}])),p_=C(Hr,Qu,function(e){return M(Va,e.bz,e.bA,e.di)}),$_={src:`
            precision mediump float;
            attribute vec2 aP;
            uniform vec4 uT;
            uniform vec2 uP;
            uniform float z;
            uniform float index;
            uniform vec2 spriteSize;
            uniform vec2 uImgSize;
            varying vec2 uv;
            vec2 edgeFix = vec2(0.0000001, -0.0000001);
            void main () {
                vec2 ratio = spriteSize / uImgSize;
                float row = (uImgSize.y / spriteSize.y - 1.0) - floor((index + 0.5) * ratio.x);
                float column = floor(mod((index + 0.5), uImgSize.x / spriteSize.x));
                vec2 offset = vec2(column, row) * ratio;
                uv = (aP * 0.5 + 0.5) * ratio + offset + edgeFix;
                gl_Position = vec4(aP * mat2(uT) + uP, z  * -1.19209304e-7, 1.0);
            }
        `,attributes:{aP:"aI"},uniforms:{index:"d0",spriteSize:"eE",uImgSize:"da",uP:"db",uT:"dc",z:"di"}},d_=yt(function(e,r,t,n,a,o,i,c,f){return G(qr,rs,$_,l_,v_,{ap:C(p_,n,f),d0:a,eE:r,c9:e,da:t,db:o,dc:i,di:c})}),h_=Zr(function(e,r,t,n,a,o,i,c){return{dj:0,dS:M(Nr,t,n,G(d_,e,C(ne,t,n),r,a,c)),ep:1,eI:1,eJ:1,bz:o,bA:i,di:0}}),as=9,vi=7,m_=Xu(C(jt,T(function(e,r){return U(r,e)}),ai(J([J(["\xA0","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/","0","1"]),J(["2","3","4","5","6","7","8","9",":",";","<","=",">","?","@","A","B","C"," "]),J(["D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U"]),J(["V","W","X","Y","Z","[","\\","]","^","_","`","a","b","c","d","e","f","g"]),J(["h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y"]),J(["z","{","|","}","~","\u25AF","\u25AE"])])))),__=function(e){return C(ar,96,C(Qa,e,m_))},os=function(e){return{$:1,a:e}},b_={$:0},Xa={$:2},g_=ae(function(e,r,t,n){return M(xu,T(function(a,o){var i=o.S,c=o.ak;switch(i.$){case 2:return a===""?X(o,{S:b_}):X(o,{ak:C(e,a,c)});case 0:return a==="["?X(o,{S:os(0)}):X(o,{S:Xa,ak:C(e,a,c)});default:var f=i.a;if(a==="m")return X(o,{S:Xa,ak:C(r,f,c)});var d=a;return C(ar,X(o,{S:Xa}),C(Zo,function(p){return X(o,{S:os(f*10+p)})},fu(Ju(d))))}}),{S:Xa,ak:t},n).ak}),y_=function(e){var r=M(Yu,Sa,Sa,qa(e)),t=r.a,n=r.b;return C(ne,t,n)},S_=L(function(e,r,t){var n={ap:r,az:te,bz:4.5,bA:-3.5},a=T(function(o,i){switch(o){case 0:return X(i,{ap:r});case 31:return X(i,{ap:ui});default:return i}});return C(ts,"/asset/font/charmap-oldschool_white.png",function(o){var i=T(function(c,f){switch(c){case`
`:return X(f,{bz:n.bz,bA:f.bA-as});case" ":return X(f,{bz:vi+f.bz});default:return X(f,{az:C(ce,et(h_,o,y_(o),vi,as,f.ap,f.bz,f.bA,__(c)),f.az),bz:vi+f.bz})}});return e(Q(g_,i,a,n,t))})}),C_=C(S_,C(Hr,function(e){return e.az},qe),M(Ya,18,147,216)),is=T(function(e,r){return{bz:e,bA:r}}),w_=function(e){var r=C(Na,-100,100),t=C(Na,100,100);return U(e.bx,C(oi,.6,qe(J([r(C(n_,100,100)),t(C(a_,200,200)),C_("Some text goes here"),C(f_,C(is,10,10),C(is,20,20)),Km(e.bx.bB)]))))},T_={s:1,t:0,G:0,u:0,v:1,H:0},A_=T(function(e,r){return{s:e.s*r.s+e.t*r.u,t:e.s*r.t+e.t*r.v,G:e.s*r.G+e.t*r.H+e.G,u:e.u*r.s+e.v*r.u,v:e.u*r.t+e.v*r.v,H:e.u*r.G+e.v*r.H+e.H}}),cs=xf,us=Uf,P_=Ee(function(e,r,t,n,a){return{s:cs(a)*t,t:us(a)*-n,G:e,u:us(a)*t,v:cs(a)*n,H:r}}),pi=De(function(e,r,t,n,a,o){return C(A_,o,G(P_,e,r,t,n,a))}),E_=T(function(e,r){var t=r;return C(Zu,e,t)}),D_=L(function(e,r,t){return{s:e*t.s,t:e*t.t,G:e*t.G,u:r*t.u,v:r*t.v,H:r*t.H}}),ss=L(function(e,r,t){var n=t;return X(n,{ep:e*n.ep,di:r+n.di})}),B_=Sp,R_=Pp,j_=function(e){var r=e.s,t=e.t,n=e.G,a=e.u,o=e.v,i=e.H;return U(R_({dg:o,bz:r,bA:t,di:a}),B_({bz:n,bA:i}))},fs=Ee(function(e,r,t,n,a){e:for(;;){var o=n.bz,i=n.bA,c=n.di,f=n.dj,d=n.eI,p=n.eJ,y=n.ep,s=n.dS,$=a.a,h=a.b;switch(s.$){case 0:var S=s.a,_=s.b,m=s.c,b=j_(M(D_,1/e.e1,1/e.dW,fr(pi,o*2,i*2,S*d,_*p,f,t))),l=b.a,v=b.b;return U(C(ce,Q(m,v,l,c,y),$),h);case 1:var u=s.a,m=s.b,g=C(Qa,u,r);if(g.$)return C(E_,u,h)?a:U($,C(cu,u,h));var w=g.a,A=m(w),P=e,E=r,R=fr(pi,o*2,i*2,d,p,f,t),B=M(ss,y,c,A),D=a;e=P,r=E,t=R,n=B,a=D;continue e;default:var O=s.a,m=function(I){return Q(fs,e,r,fr(pi,o*2,i*2,d,p,f,t),M(ss,y,c,I))};return M(zr,m,a,O)}}}),k_=L(function(e,r,t){return M(zr,M(fs,r,e,T_),U(te,$u),t)}),M_=T(function(e,r){return M(Oa,It,r,e)}),O_=T(function(e,r){var t=e,n=r;return C(M_,t,n)}),L_=T(function(e,r){var t=r.c4,n=r.cX,a=fh(r),o=C(dh,Im,C(a,w_,zm(r))),i=o.a,c=o.b,f=Yh(i.bi),d=M(k_,t.bO,n,J([c,Rm(i.ew)])),p=d.a,y=d.b;return U(X(r,{dI:p,c4:X(t,{cc:C(O_,y,t.cc)}),c5:e,bx:X(i,{bi:te})}),Ta(M(ph,C(Hr,$h,ce),J([f]),C(vh,y,t.cc))))}),I_=T(function(e,r){return X(r,{bx:e(r.bx)})}),F_=T(function(e,r){switch(e.$){case 0:var t=e.a;return C(L_,t,r);case 1:var n=e.a;return U(X(r,{cX:n}),Le);case 2:var a=e.a,o=e.b;return U(X(r,{bx:M(uh,a,o,r.bx)}),Le);case 3:var i=e.a;return U(C(I_,function(f){return X(f,{ew:{bz:r.cX.d4+i.bz,bA:r.cX.eM-i.bA}})},r),Le);case 4:return U(r,Le);case 7:var i=e.a;return function(f){return U(X(r,{bx:f}),Le)}(M(Pr,sh,r.bx,Xd(i)));case 5:return U(r,Le);case 6:return U(X(r,{dJ:"KickOut"}),Le);default:var c=e.a;return U(X(r,{dJ:c}),Le)}}),x_=md({b5:C$,df:F_}),U_={Rpg:{Client:{init:x_(hu)(0)}}},dt=U_;function Dr(e,r,t){return t.a=e,t.f=r,t}function k(e){return Dr(2,e,function(r){return function(t){return e(r,t)}})}function q(e){return Dr(3,e,function(r){return function(t){return function(n){return e(r,t,n)}}})}function Te(e){return Dr(4,e,function(r){return function(t){return function(n){return function(a){return e(r,t,n,a)}}}})}function Qt(e){return Dr(5,e,function(r){return function(t){return function(n){return function(a){return function(o){return e(r,t,n,a,o)}}}}})}function ls(e){return Dr(6,e,function(r){return function(t){return function(n){return function(a){return function(o){return function(i){return e(r,t,n,a,o,i)}}}}}})}function vs(e){return Dr(7,e,function(r){return function(t){return function(n){return function(a){return function(o){return function(i){return function(c){return e(r,t,n,a,o,i,c)}}}}}}})}function J_(e){return Dr(8,e,function(r){return function(t){return function(n){return function(a){return function(o){return function(i){return function(c){return function(f){return e(r,t,n,a,o,i,c,f)}}}}}}}})}function G_(e){return Dr(9,e,function(r){return function(t){return function(n){return function(a){return function(o){return function(i){return function(c){return function(f){return function(d){return e(r,t,n,a,o,i,c,f,d)}}}}}}}}})}function j(e,r,t){return e.a===2?e.f(r,t):e(r)(t)}function Y(e,r,t,n){return e.a===3?e.f(r,t,n):e(r)(t)(n)}function ge(e,r,t,n,a){return e.a===4?e.f(r,t,n,a):e(r)(t)(n)(a)}function H(e,r,t,n,a,o){return e.a===5?e.f(r,t,n,a,o):e(r)(t)(n)(a)(o)}function z_(e,r,t,n,a,o,i,c){return e.a===7?e.f(r,t,n,a,o,i,c):e(r)(t)(n)(a)(o)(i)(c)}var ue={$:0};function Br(e,r){return{$:1,a:e,b:r}}var W_=k(Br);function Fe(e){for(var r=ue,t=e.length;t--;)r=Br(e[t],r);return r}function Za(e){for(var r=[];e.b;e=e.b)r.push(e.a);return r}var V_=q(function(e,r,t){for(var n=[];r.b&&t.b;r=r.b,t=t.b)n.push(j(e,r.a,t.a));return Fe(n)}),fC=Te(function(e,r,t,n){for(var a=[];r.b&&t.b&&n.b;r=r.b,t=t.b,n=n.b)a.push(Y(e,r.a,t.a,n.a));return Fe(a)}),lC=Qt(function(e,r,t,n,a){for(var o=[];r.b&&t.b&&n.b&&a.b;r=r.b,t=t.b,n=n.b,a=a.b)o.push(ge(e,r.a,t.a,n.a,a.a));return Fe(o)}),vC=ls(function(e,r,t,n,a,o){for(var i=[];r.b&&t.b&&n.b&&a.b&&o.b;r=r.b,t=t.b,n=n.b,a=a.b,o=o.b)i.push(H(e,r.a,t.a,n.a,a.a,o.a));return Fe(i)}),pC=k(function(e,r){return Fe(Za(r).sort(function(t,n){return Ae(e(t),e(n))}))}),$C=k(function(e,r){return Fe(Za(r).sort(function(t,n){var a=j(e,t,n);return a===ps?0:a===$s?-1:1}))}),H_=[];function N_(e){return e.length}var q_=q(function(e,r,t){for(var n=new Array(e),a=0;a<e;a++)n[a]=t(r+a);return n}),Q_=k(function(e,r){for(var t=new Array(e),n=0;n<e&&r.b;n++)t[n]=r.a,r=r.b;return t.length=n,V(t,r)}),dC=k(function(e,r){return r[e]}),hC=q(function(e,r,t){for(var n=t.length,a=new Array(n),o=0;o<n;o++)a[o]=t[o];return a[e]=r,a}),mC=k(function(e,r){for(var t=r.length,n=new Array(t+1),a=0;a<t;a++)n[a]=r[a];return n[t]=e,n}),_C=q(function(e,r,t){for(var n=t.length,a=0;a<n;a++)r=j(e,t[a],r);return r}),K_=q(function(e,r,t){for(var n=t.length-1;n>=0;n--)r=j(e,t[n],r);return r}),bC=k(function(e,r){for(var t=r.length,n=new Array(t),a=0;a<t;a++)n[a]=e(r[a]);return n}),gC=q(function(e,r,t){for(var n=t.length,a=new Array(n),o=0;o<n;o++)a[o]=j(e,r+o,t[o]);return a}),yC=q(function(e,r,t){return t.slice(e,r)}),SC=q(function(e,r,t){var n=r.length,a=e-n;a>t.length&&(a=t.length);for(var o=n+a,i=new Array(o),c=0;c<n;c++)i[c]=r[c];for(var c=0;c<a;c++)i[c+n]=t[c];return i}),CC=k(function(e,r){return r}),wC=k(function(e,r){return console.log(e+": "+Y_(r)),r});function Y_(e){return"<internals>"}function Kt(e){throw new Error("https://github.com/elm/core/blob/1.0.0/hints/"+e+".md")}function di(e,r){for(var t,n=[],a=$i(e,r,0,n);a&&(t=n.pop());a=$i(t.a,t.b,0,n));return a}function $i(e,r,t,n){if(e===r)return!0;if(typeof e!="object"||e===null||r===null)return typeof e=="function"&&Kt(5),!1;if(t>100)return n.push(V(e,r)),!0;e.$<0&&(e=ds(e),r=ds(r));for(var a in e)if(!$i(e[a],r[a],t+1,n))return!1;return!0}var TC=k(di),AC=k(function(e,r){return!di(e,r)});function Ae(e,r,t){if(typeof e!="object")return e===r?0:e<r?-1:1;if(typeof e.$=="undefined")return(t=Ae(e.a,r.a))||(t=Ae(e.b,r.b))?t:Ae(e.c,r.c);for(;e.b&&r.b&&!(t=Ae(e.a,r.a));e=e.b,r=r.b);return t||(e.b?1:r.b?-1:0)}var PC=k(function(e,r){return Ae(e,r)<0}),EC=k(function(e,r){return Ae(e,r)<1}),DC=k(function(e,r){return Ae(e,r)>0}),BC=k(function(e,r){return Ae(e,r)>=0}),Z_=k(function(e,r){var t=Ae(e,r);return t<0?$s:t?X_:ps}),hi=0;function V(e,r){return{a:e,b:r}}function dr(e){return e}function Pe(e,r){var t={};for(var n in e)t[n]=e[n];for(var n in r)t[n]=r[n];return t}var RC=k(eb);function eb(e,r){if(typeof e=="string")return e+r;if(!e.b)return r;var t=Br(e.a,r);e=e.b;for(var n=t;e.b;e=e.b)n=n.b=Br(e.a,r);return t}var jC=k(function(e,r){return e+r}),kC=k(function(e,r){return e-r}),MC=k(function(e,r){return e*r}),OC=k(function(e,r){return e/r}),LC=k(function(e,r){return e/r|0}),IC=k(Math.pow),FC=k(function(e,r){return r%e}),xC=k(function(e,r){var t=r%e;return e===0?Kt(11):t>0&&e<0||t<0&&e>0?t+e:t});var UC=k(Math.atan2);var rb=Math.ceil,tb=Math.floor;var hs=Math.log,JC=isNaN;var GC=k(function(e,r){return e&&r}),zC=k(function(e,r){return e||r}),WC=k(function(e,r){return e!==r}),VC=k(function(e,r){return e&r}),HC=k(function(e,r){return e|r}),NC=k(function(e,r){return e^r});var qC=k(function(e,r){return r<<e}),QC=k(function(e,r){return r>>e}),KC=k(function(e,r){return r>>>e}),YC=k(function(e,r){return e+r});function nb(e){var r=e.charCodeAt(0);return isNaN(r)?xe:or(55296<=r&&r<=56319?V(dr(e[0]+e[1]),e.slice(2)):V(dr(e[0]),e.slice(1)))}var XC=k(function(e,r){return e+r});function ab(e){return e.length}var ZC=k(function(e,r){for(var t=r.length,n=new Array(t),a=0;a<t;){var o=r.charCodeAt(a);if(55296<=o&&o<=56319){n[a]=e(dr(r[a]+r[a+1])),a+=2;continue}n[a]=e(dr(r[a])),a++}return n.join("")}),ew=k(function(e,r){for(var t=[],n=r.length,a=0;a<n;){var o=r[a],i=r.charCodeAt(a);a++,55296<=i&&i<=56319&&(o+=r[a],a++),e(dr(o))&&t.push(o)}return t.join("")});var rw=q(function(e,r,t){for(var n=t.length,a=0;a<n;){var o=t[a],i=t.charCodeAt(a);a++,55296<=i&&i<=56319&&(o+=t[a],a++),r=j(e,dr(o),r)}return r}),ob=q(function(e,r,t){for(var n=t.length;n--;){var a=t[n],o=t.charCodeAt(n);56320<=o&&o<=57343&&(n--,a=t[n]+a),r=j(e,dr(a),r)}return r}),ib=k(function(e,r){return r.split(e)}),cb=k(function(e,r){return r.join(e)}),ub=q(function(e,r,t){return t.slice(e,r)});var tw=k(function(e,r){for(var t=r.length;t--;){var n=r[t],a=r.charCodeAt(t);if(56320<=a&&a<=57343&&(t--,n=r[t]+n),e(dr(n)))return!0}return!1}),sb=k(function(e,r){for(var t=r.length;t--;){var n=r[t],a=r.charCodeAt(t);if(56320<=a&&a<=57343&&(t--,n=r[t]+n),!e(dr(n)))return!1}return!0}),nw=k(function(e,r){return r.indexOf(e)>-1}),aw=k(function(e,r){return r.indexOf(e)===0}),ow=k(function(e,r){return r.length>=e.length&&r.lastIndexOf(e)===r.length-e.length}),iw=k(function(e,r){var t=e.length;if(t<1)return ue;for(var n=0,a=[];(n=r.indexOf(e,n))>-1;)a.push(n),n=n+t;return Fe(a)});function fb(e){return e+""}function lb(e){return Za(e).join("")}function vb(e){var r=e.charCodeAt(0);return 55296<=r&&r<=56319?(r-55296)*1024+e.charCodeAt(1)-56320+65536:r}function pb(e){return{$:1,a:e}}function Yt(e){return{$:2,b:e}}var $b=Yt(function(e){return typeof e!="number"?Ue("an INT",e):-2147483647<e&&e<2147483647&&(e|0)===e||isFinite(e)&&!(e%1)?Je(e):Ue("an INT",e)}),cw=Yt(function(e){return typeof e=="boolean"?Je(e):Ue("a BOOL",e)}),db=Yt(function(e){return typeof e=="number"?Je(e):Ue("a FLOAT",e)}),hb=Yt(function(e){return Je(hr(e))}),mb=Yt(function(e){return typeof e=="string"?Je(e):e instanceof String?Je(e+""):Ue("a STRING",e)});function _b(e){return{$:3,b:e}}var uw=k(function(e,r){return{$:6,d:e,b:r}}),bb=k(function(e,r){return{$:7,e,b:r}});function Rr(e,r){return{$:9,f:e,g:r}}var gb=k(function(e,r){return{$:10,b:r,h:e}});var yb=k(function(e,r){return Rr(e,[r])}),Sb=q(function(e,r,t){return Rr(e,[r,t])}),sw=Te(function(e,r,t,n){return Rr(e,[r,t,n])}),fw=Qt(function(e,r,t,n,a){return Rr(e,[r,t,n,a])}),lw=ls(function(e,r,t,n,a,o){return Rr(e,[r,t,n,a,o])}),vw=vs(function(e,r,t,n,a,o,i){return Rr(e,[r,t,n,a,o,i])}),pw=J_(function(e,r,t,n,a,o,i,c){return Rr(e,[r,t,n,a,o,i,c])}),$w=G_(function(e,r,t,n,a,o,i,c,f){return Rr(e,[r,t,n,a,o,i,c,f])}),dw=k(function(e,r){try{var t=JSON.parse(r);return ir(e,t)}catch(n){return jr(j(mi,"This is not valid JSON! "+n.message,hr(r)))}}),_i=k(function(e,r){return ir(e,Xt(r))});function ir(e,r){switch(e.$){case 2:return e.b(r);case 5:return r===null?Je(e.c):Ue("null",r);case 3:return eo(r)?ms(e.b,r,Fe):Ue("a LIST",r);case 4:return eo(r)?ms(e.b,r,Cb):Ue("an ARRAY",r);case 6:var t=e.d;if(typeof r!="object"||r===null||!(t in r))return Ue("an OBJECT with a field named `"+t+"`",r);var n=ir(e.b,r[t]);return mr(n)?n:jr(j(_s,t,n.a));case 7:var a=e.e;if(!eo(r))return Ue("an ARRAY",r);if(a>=r.length)return Ue("a LONGER array. Need index "+a+" but only see "+r.length+" entries",r);var n=ir(e.b,r[a]);return mr(n)?n:jr(j(bs,a,n.a));case 8:if(typeof r!="object"||r===null||eo(r))return Ue("an OBJECT",r);var o=ue;for(var i in r)if(r.hasOwnProperty(i)){var n=ir(e.b,r[i]);if(!mr(n))return jr(j(_s,i,n.a));o=Br(V(i,n.a),o)}return Je(cr(o));case 9:for(var c=e.f,f=e.g,d=0;d<f.length;d++){var n=ir(f[d],r);if(!mr(n))return n;c=c(n.a)}return Je(c);case 10:var n=ir(e.b,r);return mr(n)?ir(e.h(n.a),r):n;case 11:for(var p=ue,y=e.g;y.b;y=y.b){var n=ir(y.a,r);if(mr(n))return n;p=Br(n.a,p)}return jr(wb(cr(p)));case 1:return jr(j(mi,e.a,hr(r)));case 0:return Je(e.a)}}function ms(e,r,t){for(var n=r.length,a=new Array(n),o=0;o<n;o++){var i=ir(e,r[o]);if(!mr(i))return jr(j(bs,o,i.a));a[o]=i.a}return Je(t(a))}function eo(e){return Array.isArray(e)||typeof FileList!="undefined"&&e instanceof FileList}function Cb(e){return j(Tb,e.length,function(r){return e[r]})}function Ue(e,r){return jr(j(mi,"Expecting "+e,hr(r)))}var Ab=k(function(e,r){return JSON.stringify(Xt(r),null,e)+""});function hr(e){return e}function Xt(e){return e}function Pb(){return[]}var hw=q(function(e,r,t){return t[e]=Xt(r),t});function Eb(e){return k(function(r,t){return t.push(Xt(e(r))),t})}var mw=hr(null);function Zt(e){return{$:0,a:e}}function ro(e){return{$:2,b:e,c:null}}var gs=k(function(e,r){return{$:3,b:e,d:r}}),_w=k(function(e,r){return{$:4,b:e,d:r}});function Db(e){return{$:5,b:e}}var Bb=0;function Rb(e){var r={$:0,e:Bb++,f:e,g:null,h:[]};return bi(r),r}function ys(e,r){e.h.push(r),bi(e)}var jb=k(function(e,r){return ro(function(t){ys(e,r),t(Zt(hi))})});var gi=!1,Ss=[];function bi(e){if(Ss.push(e),!gi){for(gi=!0;e=Ss.shift();)kb(e);gi=!1}}function kb(e){for(;e.f;){var r=e.f.$;if(r===0||r===1){for(;e.g&&e.g.$!==r;)e.g=e.g.i;if(!e.g)return;e.f=e.g.b(e.f.a),e.g=e.g.i}else if(r===2){e.f.c=e.f.b(function(t){e.f=t,bi(e)});return}else if(r===5){if(e.h.length===0)return;e.f=e.f.b(e.h.shift())}else e.g={$:r===3?0:1,b:e.f.b,i:e.g},e.f=e.f.d}}function Mb(e){return ro(function(r){var t=setTimeout(function(){r(Zt(hi))},e);return function(){clearTimeout(t)}})}var Lb=Te(function(e,r,t,n){return Ob(r,n,e.cd,e.da,e.er,function(){return function(){}})});function Ob(e,r,t,n,a,o){var i=j(_i,e,hr(r?r.flags:void 0));mr(i)||Kt(2);var c={},f=t(i.a),d=f.a,p=o(s,d),y=Ib(c,s);function s($,h){var S=j(n,$,d);p(d=S.a,h),Cs(c,S.b,a(d))}return Cs(c,f.b,a(d)),y?{ports:y}:{}}var Re={};function Ib(e,r){var t;for(var n in Re){var a=Re[n];a.a&&(t=t||{},t[n]=a.a(n,r)),e[n]=Fb(a,r)}return t}function Fb(e,r){var t={g:r,h:void 0},n=e.c,a=e.d,o=e.e,i=e.f;function c(f){return j(gs,c,Db(function(d){var p=d.a;return d.$===0?Y(a,t,p,f):o&&i?ge(n,t,p.i,p.j,f):Y(n,t,o?p.i:p.j,f)}))}return t.h=Rb(j(gs,c,e.b))}var bw=k(function(e,r){return ro(function(t){e.g(r),t(Zt(hi))})}),gw=k(function(e,r){return j(jb,e.h,{$:0,a:r})});function ws(e){return function(r){return{$:1,k:e,l:r}}}function xb(e){return{$:2,m:e}}var yw=k(function(e,r){return{$:3,n:e,o:r}}),Ts=[],yi=!1;function Cs(e,r,t){if(Ts.push({p:e,q:r,r:t}),!yi){yi=!0;for(var n;n=Ts.shift();)Ub(n.p,n.q,n.r);yi=!1}}function Ub(e,r,t){var n={};to(!0,r,n,null),to(!1,t,n,null);for(var a in e)ys(e[a],{$:"fx",a:n[a]||{i:ue,j:ue}})}function to(e,r,t,n){switch(r.$){case 1:var a=r.k,o=Jb(e,a,n,r.l);t[a]=Gb(e,o,t[a]);return;case 2:for(var i=r.m;i.b;i=i.b)to(e,i.a,t,n);return;case 3:to(e,r.o,t,{s:r.n,t:n});return}}function Jb(e,r,t,n){function a(i){for(var c=t;c;c=c.t)i=c.s(i);return i}var o=e?Re[r].e:Re[r].f;return j(o,a,n)}function Gb(e,r,t){return t=t||{i:ue,j:ue},e?t.i=Br(r,t.i):t.j=Br(r,t.j),t}function As(e){Re[e]&&Kt(3,e)}function Vb(e,r){return As(e),Re[e]={e:zb,u:r,a:Wb},ws(e)}var zb=k(function(e,r){return r});function Wb(e){var r=[],t=Re[e].u,n=Mb(0);Re[e].b=n,Re[e].c=q(function(i,c,f){for(;c.b;c=c.b)for(var d=r,p=Xt(t(c.a)),y=0;y<d.length;y++)d[y](p);return n});function a(i){r.push(i)}function o(i){r=r.slice();var c=r.indexOf(i);c>=0&&r.splice(c,1)}return{subscribe:a,unsubscribe:o}}function qb(e,r){return As(e),Re[e]={f:Hb,u:r,a:Nb},ws(e)}var Hb=k(function(e,r){return function(t){return e(r(t))}});function Nb(e,r){var t=ue,n=Re[e].u,a=Zt(null);Re[e].b=a,Re[e].c=q(function(i,c,f){return t=c,a});function o(i){var c=j(_i,n,hr(i));mr(c)||Kt(4,e,c.a);for(var f=c.a,d=t;d.b;d=d.b)r(d.a(f))}return{send:o}}function Ps(e){return e.byteLength}var Sw=k(function(e,r){return ro(function(t){t(Zt(new Uint8Array(new Uint32Array([1]))[0]===1?e:r))})});function Qb(e){var r=new DataView(new ArrayBuffer(Es(e)));return Ds(e)(r)(0),r}var Kb=q(function(e,r,t){return e.setInt8(r,t),r+1}),Yb=Te(function(e,r,t,n){return e.setInt16(r,t,n),r+2}),Xb=Te(function(e,r,t,n){return e.setInt32(r,t,n),r+4}),Zb=q(function(e,r,t){return e.setUint8(r,t),r+1}),eg=Te(function(e,r,t,n){return e.setUint16(r,t,n),r+2}),rg=Te(function(e,r,t,n){return e.setUint32(r,t,n),r+4}),tg=Te(function(e,r,t,n){return e.setFloat32(r,t,n),r+4}),ng=Te(function(e,r,t,n){return e.setFloat64(r,t,n),r+8}),ag=q(function(e,r,t){for(var n=0,a=t.byteLength,o=a-4;n<=o;n+=4)e.setUint32(r+n,t.getUint32(n));for(;n<a;n++)e.setUint8(r+n,t.getUint8(n));return r+a});var og=q(function(e,r,t){for(var n=0;n<t.length;n++){var a=t.charCodeAt(n);r+=a<128?(e.setUint8(r,a),1):a<2048?(e.setUint16(r,49280|(a>>>6&31)<<8|a&63),2):a<55296||56319<a?(e.setUint16(r,57472|(a>>>12&15)<<8|a>>>6&63),e.setUint8(r+2,128|a&63),3):(a=(a-55296)*1024+t.charCodeAt(++n)-56320+65536,e.setUint32(r,4034953344|(a>>>18&7)<<24|(a>>>12&63)<<16|(a>>>6&63)<<8|a&63),4)}return r}),ig=k(function(e,r){try{return or(j(e,r,0).b)}catch(t){return xe}}),Cw=k(function(e,r){return V(r+1,e.getInt8(r))}),ww=q(function(e,r,t){return V(t+2,r.getInt16(t,e))}),Tw=q(function(e,r,t){return V(t+4,r.getInt32(t,e))}),cg=k(function(e,r){return V(r+1,e.getUint8(r))}),Aw=q(function(e,r,t){return V(t+2,r.getUint16(t,e))}),ug=q(function(e,r,t){return V(t+4,r.getUint32(t,e))}),Pw=q(function(e,r,t){return V(t+4,r.getFloat32(t,e))}),Ew=q(function(e,r,t){return V(t+8,r.getFloat64(t,e))}),Dw=q(function(e,r,t){return V(t+e,new DataView(r.buffer,r.byteOffset+t,e))}),sg=q(function(e,r,t){for(var n="",a=t+e;t<a;){var o=r.getUint8(t++);n+=o<128?String.fromCharCode(o):(o&224)==192?String.fromCharCode((o&31)<<6|r.getUint8(t++)&63):(o&240)==224?String.fromCharCode((o&15)<<12|(r.getUint8(t++)&63)<<6|r.getUint8(t++)&63):(o=((o&7)<<18|(r.getUint8(t++)&63)<<12|(r.getUint8(t++)&63)<<6|r.getUint8(t++)&63)-65536,String.fromCharCode(Math.floor(o/1024)+55296,o%1024+56320))}return V(t,n)}),fg=k(function(){throw 0}),ps=1,$s=0,ye=W_,no=K_,Bw=q(function(e,r,t){var n=t.c,a=t.d,o=k(function(i,c){if(i.$){var d=i.a;return Y(no,e,c,d)}else{var f=i.a;return Y(no,o,c,f)}});return Y(no,o,Y(no,e,r,a),n)});var Bs=q(function(e,r,t){e:for(;;){if(t.$===-2)return r;var n=t.b,a=t.c,o=t.d,i=t.e,c=e,f=Y(e,n,a,Y(Bs,e,r,i)),d=o;e=c,r=f,t=d;continue e}}),ds=function(e){return Y(Bs,q(function(r,t,n){return j(ye,V(r,t),n)}),ue,e)};var X_=2,lg=function(e){return{a_:e,ar:ue}},_r={$:-2},Rs=_r,vg={S:Rs,T:Rs},Si=Te(function(e,r,t,n){return{$:0,a:e,b:r,c:t,d:n}}),Ci=H_,Qe=32,js=rb;var ks=k(function(e,r){return hs(r)/hs(e)});var wi=js(j(ks,2,Qe)),Ms=ge(Si,0,wi,Ci,Ci),pg=Ms,Ti=k(function(e,r){return{$:0,a:e,b:r}});var Os=function(e){var r=e.a,t=e.b;return j(Ti,r*1664525+t>>>0,t)},$g=function(e){var r=Os(j(Ti,0,1013904223)),t=r.a,n=r.b,a=t+e>>>0;return Os(j(Ti,a,n))},dg={b9:lg(1),cL:pg,c_:$g(42),ab:vg},jr=function(e){return{$:1,a:e}},mi=k(function(e,r){return{$:3,a:e,b:r}}),_s=k(function(e,r){return{$:0,a:e,b:r}}),bs=k(function(e,r){return{$:1,a:e,b:r}}),Je=function(e){return{$:0,a:e}},wb=function(e){return{$:2,a:e}};var or=function(e){return{$:0,a:e}},xe={$:1},hg=sb;var mg=Ab,Ai=fb,ht=k(function(e,r){return j(cb,e,Za(r))}),_g=k(function(e,r){return Fe(j(ib,e,r))}),Ls=function(e){return j(ht,`
    `,j(_g,`
`,e))},en=q(function(e,r,t){e:for(;;)if(t.b){var n=t.a,a=t.b,o=e,i=j(e,n,r),c=a;e=o,r=i,t=c;continue e}else return r}),Is=function(e){return Y(en,k(function(r,t){return t+1}),0,e)},bg=V_;var gg=q(function(e,r,t){e:for(;;)if(Ae(e,r)<1){var n=e,a=r-1,o=j(ye,r,t);e=n,r=a,t=o;continue e}else return t}),yg=k(function(e,r){return Y(gg,e,r,ue)}),Sg=k(function(e,r){return Y(bg,e,j(yg,0,Is(r)-1),r)}),ao=vb,Fs=function(e){var r=ao(e);return 97<=r&&r<=122},xs=function(e){var r=ao(e);return r<=90&&65<=r};var Cg=function(e){return Fs(e)||xs(e)},wg=function(e){var r=ao(e);return r<=57&&48<=r},Us=function(e){return Fs(e)||xs(e)||wg(e)},cr=function(e){return Y(en,ye,ue,e)},Tg=nb,Ag=k(function(e,r){return`

(`+(Ai(e+1)+(") "+Ls(Js(r))))}),Js=function(e){return j(Pg,e,ue)},Pg=k(function(e,r){e:for(;;)switch(e.$){case 0:var t=e.a,n=e.b,a=function(){var S=Tg(t);if(S.$===1)return!1;var _=S.a,m=_.a,b=_.b;return Cg(m)&&j(hg,Us,b)}(),o=a?"."+t:"['"+(t+"']"),i=n,c=j(ye,o,r);e=i,r=c;continue e;case 1:var f=e.a,n=e.b,d="["+(Ai(f)+"]"),i=n,c=j(ye,d,r);e=i,r=c;continue e;case 2:var p=e.a;if(p.b)if(p.b.b){var y=function(){return r.b?"The Json.Decode.oneOf at json"+j(ht,"",cr(r)):"Json.Decode.oneOf"}(),h=y+(" failed in the following "+(Ai(Is(p))+" ways:"));return j(ht,`

`,j(ye,h,j(Sg,Ag,p)))}else{var n=p.a,i=n,c=r;e=i,r=c;continue e}else return"Ran into a Json.Decode.oneOf with no possibilities"+function(){return r.b?" at json"+j(ht,"",cr(r)):"!"}();default:var s=e.a,$=e.b,h=function(){return r.b?"Problem with the value at json"+(j(ht,"",cr(r))+`:

    `):`Problem with the given value:

`}();return h+(Ls(j(mg,4,$))+(`

`+s))}}),Gs=q_,Eg=function(e){return{$:1,a:e}},Rw=k(function(e,r){return e(r)}),jw=k(function(e,r){return r(e)});var Dg=tb,zs=N_;var Bg=k(function(e,r){return Ae(e,r)>0?e:r}),Rg=function(e){return{$:0,a:e}},Ws=Q_,jg=k(function(e,r){e:for(;;){var t=j(Ws,Qe,e),n=t.a,a=t.b,o=j(ye,Rg(n),r);if(a.b){var i=a,c=o;e=i,r=c;continue e}else return cr(o)}});var kg=k(function(e,r){e:for(;;){var t=js(r/Qe);if(t===1)return j(Ws,Qe,e).a;var n=j(jg,e,ue),a=t;e=n,r=a;continue e}}),Mg=k(function(e,r){if(r.k){var t=r.k*Qe,n=Dg(j(ks,Qe,t-1)),a=e?cr(r.o):r.o,o=j(kg,a,r.k);return ge(Si,zs(r.n)+t,j(Bg,5,n*wi),o,r.n)}else return ge(Si,zs(r.n),wi,Ci,r.n)});var Og=Qt(function(e,r,t,n,a){e:for(;;){if(r<0)return j(Mg,!1,{o:n,k:t/Qe|0,n:a});var o=Eg(Y(Gs,Qe,r,e)),i=e,c=r-Qe,f=t,d=j(ye,o,n),p=a;e=i,r=c,t=f,n=d,a=p;continue e}});var Tb=k(function(e,r){if(e<=0)return Ms;var t=e%Qe,n=Y(Gs,t,e-t,r),a=e-t-Qe;return H(Og,r,a,e,ue,n)});var mr=function(e){return!e.$},Vs=xb,Qr=Vs(ue),Lg=k(function(e,r){return V(r(dg),Qr)}),Ig=function(e){return{dB:"",b2:0,c5:0,bM:e}},Hs=function(e){return e},Fg=k(function(e,r){return hr(Y(en,Eb(e),Pb(0),r))}),Ns=hr,xg=Vb("output",function(e){var r=e.a,t=e.b;return j(Fg,Hs,Fe([Ns(r),Ns(t)]))}),Ug=k(function(e,r){var t=xg;return j(e,r,function(n){return Ig(n)})}),qs=hb,Jg=qb("input",qs),Gg=function(e){return Jg(Hs)},Qs=k(function(e,r){var t=r.a,n=r.b;return V(t,e(n))}),zg=_i,Wg=k(function(e,r){return{$:3,a:e,b:r}}),Vg=function(e){return{$:4,a:e}},Hg=function(e){return{$:1,a:e}},Ng=function(e){return{$:2,a:e}},qg=function(e){return{$:0,a:e}},Qg=gb,Kg=pb,Yg=db,Kr=bb,Xg=$b,oo=yb,Zg=Sb,rn=mb,e0=j(Qg,function(e){switch(e){case 100:return j(oo,qg,j(Kr,1,Yg));case 201:return j(oo,Hg,j(Kr,1,rn));case 202:return j(oo,Ng,j(Kr,1,rn));case 203:return Y(Zg,Wg,j(Kr,1,rn),j(Kr,2,rn));case 204:return j(oo,Vg,j(Kr,1,rn));default:return Kg("")}},j(Kr,0,Xg)),r0=_b,t0=zg(r0(e0)),n0=q(function(e,r,t){var n=t0(r);if(n.$){var o=n.a;return V(Pe(t,{dB:Js(o)}),Qr)}else{var a=n.a;return j(Qs,Vs,Y(en,k(function(i,c){var f=c.a,d=c.b;return j(Qs,function(p){return j(ye,p,d)},j(e,i,f))}),V(t,ue),a))}}),a0=Lb,o0=function(e){return a0({cd:Ug(e.cd),er:Gg,da:n0(e.da)})},i0=function(e){return{$:1,a:e}},c0=k(function(e,r){return{dU:e,eg:r}}),u0=q(function(e,r,t){return{$:0,a:e,b:r,c:t}});var s0=k(function(e,r){var t=r;return k(function(n,a){var o=j(t,n,a),i=o.a,c=o.b,f=e(c),d=f;return j(d,n,i)})}),kr=k(function(e,r){var t=r;return k(function(n,a){var o=j(t,n,a),i=o.a,c=o.b;return V(i,e(c))})}),Ks=k(function(e,r){var t=r;return j(s0,function(n){var a=n.a,o=n.b,i=e(o),c=i;return j(kr,function(f){var d=f.a,p=f.b;return V(a+d,p)},c)},t)}),f0=Ks,Pi=k(function(e,r){return V(e,r)}),Es=function(e){switch(e.$){case 0:return 1;case 1:return 2;case 2:return 4;case 3:return 1;case 4:return 2;case 5:return 4;case 6:return 4;case 7:return 8;case 8:var r=e.a;return r;case 9:var r=e.a;return r;default:var t=e.a;return Ps(t)}};var Ds=q(function(e,r,t){switch(e.$){case 0:var n=e.a;return Y(Kb,r,t,n);case 1:var a=e.a,n=e.b;return ge(Yb,r,t,n,!a);case 2:var a=e.a,n=e.b;return ge(Xb,r,t,n,!a);case 3:var n=e.a;return Y(Zb,r,t,n);case 4:var a=e.a,n=e.b;return ge(eg,r,t,n,!a);case 5:var a=e.a,n=e.b;return ge(rg,r,t,n,!a);case 6:var a=e.a,n=e.b;return ge(tg,r,t,n,!a);case 7:var a=e.a,n=e.b;return ge(ng,r,t,n,!a);case 8:var o=e.b;return Y(l0,o,r,t);case 9:var i=e.b;return Y(og,r,t,i);default:var o=e.a;return Y(ag,r,t,o)}}),l0=q(function(e,r,t){e:for(;;)if(e.b){var n=e.a,a=e.b,o=a,i=r,c=Y(Ds,n,r,t);e=o,r=i,t=c;continue e}else return t}),v0=cg,Ys=j(kr,Pi(1),v0),Ei=Ys,p0=fg,$0=p0,d0=$0;var h0=function(e){switch(e){case 0:return 0;case 1:return 1;case 2:return 2;case 3:return 3;case 4:return 4;case 5:return 5;case 6:return 6;case 7:return 7;default:return 7}},tn=k(function(e,r){var t=r;return j(kr,function(n){var a=n.a,o=n.b;return V(a,e(o))},t)}),Xs=tn,m0=q(function(e,r,t){var n=r,a=t;return k(function(o,i){var c=j(n,o,i),f=c.a,d=c.b,p=j(a,o,f),y=p.a,s=p.b;return V(y,j(e,d,s))})}),_0=q(function(e,r,t){var n=r,a=t;return Y(m0,k(function(o,i){var c=o.a,f=o.b,d=i.a,p=i.b;return V(c+d,j(e,f,p))}),n,a)}),b0=_0,g0=Te(function(e,r,t,n){var a=r,o=t,i=n;return k(function(c,f){var d=j(a,c,f),p=d.a,y=d.b,s=j(o,c,p),$=s.a,h=s.b,S=j(i,c,$),_=S.a,m=S.b;return V(_,Y(e,y,h,m))})}),y0=Te(function(e,r,t,n){var a=r,o=t,i=n;return ge(g0,q(function(c,f,d){var p=c.a,y=c.b,s=f.a,$=f.b,h=d.a,S=d.b;return V(p+s+h,Y(e,y,$,S))}),a,o,i)}),S0=y0,io=function(e){return{$:1,a:e}},co=function(e){return{$:0,a:e}};var mt=q(function(e,r,t){return r(e(t))}),C0=lb,w0=Te(function(e,r,t,n){e:for(;;){var a=r(e),o=a,i=j(o,t,n),c=i.a,f=i.b;if(f.$){var h=f.a;return V(c,h)}else{var d=f.a,p=d,y=r,s=t,$=c;e=p,r=y,t=s,n=$;continue e}}}),Zs=k(function(e,r){return j(w0,e,r)}),T0=k(function(e,r){return j(Zs,V(0,e),function(t){var n=t.a,a=t.b,o=r(a),i=o;return j(kr,function(c){var f=c.a,d=c.b;if(d.$){var y=d.a;return io(V(n+f,y))}else{var p=d.a;return co(V(n+f,p))}},i)})});var A0=function(e){return k(function(r,t){return V(t,e)})},ef=function(e){return A0(V(0,e))},rf=function(e){e:for(;;)switch(e){case 0:return"0";case 1:return"1";case 2:return"2";case 3:return"3";case 4:return"4";case 5:return"5";case 6:return"6";case 7:return"7";case 8:return"8";case 9:return"9";case 10:return"a";case 11:return"b";case 12:return"c";case 13:return"d";case 14:return"e";case 15:return"f";default:var r=e;e=r;continue e}},P0=function(){var e=k(function(t,n){var a=n.a,o=n.b;return a<=0?ef(io(o)):j(tn,function(i){return co(V(a-1,j(ye,i,o)))},t)}),r=j(tn,function(t){return C0(Fe([rf(t>>4),rf(t&15)]))},Ys);return j(tn,j(mt,cr,ht("")),j(T0,V(16,ue),e(r)))}();var E0=function(e){return sg(e)},D0=function(e){return j(kr,Pi(e),E0(e))},B0=function(e){return ug(!e)},tf=function(e){return j(kr,Pi(4),B0(e))},R0=j(Ks,D0,tf(1)),j0=tf(1),k0=j(f0,function(e){switch(e){case 2:return ge(S0,u0,j(Xs,h0,Ei),Ei,j0);case 128:return j(Xs,i0,Y(b0,c0,R0,P0));default:return d0}},Ei),M0=k(function(e,r){if(r.$)return xe;var t=r.a;return e(t)}),O0=k(function(e,r){var t=e;return j(ig,t,r)}),L0=k(function(e,r){var t=e;return j(O0,j(kr,function(n){var a=n.b;return a},t),r)}),I0=k(function(e,r){return j(Zs,V(0,e),function(t){var n=t.a,a=t.b,o=j(r,n,a),i=o;return j(kr,function(c){var f=c.a,d=c.b;if(d.$){var y=d.a;return io(V(n+f,y))}else{var p=d.a;return co(V(n+f,p))}},i)})}),F0=k(function(e,r){return j(I0,ue,k(function(t,n){return Ae(e,t)<1?ef(io(cr(n))):j(tn,function(a){return co(j(ye,a,n))},r)}))}),x0=Qb,U0=ab,nf=ub,J0=k(function(e,r){return e<1?r:Y(nf,e,U0(r),r)}),nn=function(e){if(Us(e))return!0;switch(e){case"+":return!0;case"/":return!0;default:return!1}};var G0=k(function(e,r){return{$:8,a:e,b:r}}),z0=k(function(e,r){e:for(;;)if(r.b){var t=r.a,n=r.b,a=e+Es(t),o=n;e=a,r=o;continue e}else return e}),af=function(e){return j(G0,j(z0,0,e),e)};var an=function(e){var r=ao(e);if(r>=65&&r<=90)return r-65;if(r>=97&&r<=122)return r-97+26;if(r>=48&&r<=57)return r-48+26+26;switch(e){case"+":return 62;case"/":return 63;default:return-1}},W0=k(function(e,r){return{$:4,a:e,b:r}}),of=W0,V0=function(e){return{$:3,a:e}},cf=V0,Di=Te(function(e,r,t,n){if(nn(e)&&nn(r)){var a=an(r),o=an(e);if(n==="=")if(t==="="){var i=o<<18|a<<12,c=i>>16;return or(cf(c))}else if(nn(t)){var f=an(t),i=o<<18|a<<12|f<<6,d=i>>8;return or(j(of,1,d))}else return xe;else if(nn(t)&&nn(n)){var p=an(n),f=an(t),i=o<<18|a<<12|(f<<6|p),d=i>>8,y=i;return or(af(Fe([j(of,1,d),cf(y)])))}else return xe}else return xe}),H0=k(function(e,r){return e<1?"":Y(nf,0,e,r)}),N0=ob,q0=function(e){return Y(N0,ye,ue,e)},Q0=k(function(e,r){e:for(;;){var t=q0(j(H0,4,e));r:for(;;)if(t.b)if(t.b.b)if(t.b.b.b)if(t.b.b.b.b){if(t.b.b.b.b.b)break r;var n=t.a,a=t.b,o=a.a,i=a.b,c=i.a,f=i.b,d=f.a,p=ge(Di,n,o,c,d);if(p.$)return xe;var y=p.a,s=j(J0,4,e),$=j(ye,y,r);e=s,r=$;continue e}else{var n=t.a,h=t.b,o=h.a,S=h.b,c=S.a,_=ge(Di,n,o,c,"=");if(_.$===1)return xe;var y=_.a;return or(j(ye,y,r))}else{var n=t.a,m=t.b,o=m.a,b=ge(Di,n,o,"=","=");if(b.$===1)return xe;var y=b.a;return or(j(ye,y,r))}else break r;else return or(r);return xe}}),uf=k(function(e,r){if(r.$)return xe;var t=r.a;return or(e(t))}),K0=function(e){return j(uf,j(mt,cr,af),j(Q0,e,ue))},Y0=function(e){return j(uf,x0,K0(e))},X0=Y0,Z0=Ps,sf=k(function(e,r){if(r.$)return e;var t=r.a;return t}),ey=k(function(e,r){return j(sf,ue,j(M0,function(t){return j(L0,j(F0,Z0(t),e),t)},X0(r)))}),ry=ey(k0),ff=k(function(e,r){return V(e,r)}),lf=function(e){return e.b9},Bi=k(function(e,r){return Pe(r,{b9:e})}),ty=function(e){var r=lf(e),t=r.a_,n=r.ar;if(n.b){var a=n.a,o=n.b;return j(ff,a,j(Bi,Pe(r,{ar:o}),e))}else return j(ff,t,j(Bi,Pe(r,{a_:t+1}),e))},vf=Z_,ny=k(function(e,r){e:for(;;){if(r.$===-2)return xe;var t=r.b,n=r.c,a=r.d,o=r.e,i=j(vf,e,t);switch(i){case 0:var c=e,f=a;e=c,r=f;continue e;case 1:return or(n);default:var c=e,f=o;e=c,r=f;continue e}}}),Ri=k(function(e,r){return j(sf,0,j(ny,e,r.ab.S))}),pf=function(e){var r=e.b;return r};var ee=Qt(function(e,r,t,n,a){return{$:-1,a:e,b:r,c:t,d:n,e:a}});var _t=Qt(function(e,r,t,n,a){if(a.$===-1&&!a.a){var o=a.a,i=a.b,c=a.c,f=a.d,d=a.e;if(n.$===-1&&!n.a){var p=n.a,y=n.b,s=n.c,$=n.d,h=n.e;return H(ee,0,r,t,H(ee,1,y,s,$,h),H(ee,1,i,c,f,d))}else return H(ee,e,i,c,H(ee,0,r,t,n,f),d)}else if(n.$===-1&&!n.a&&n.d.$===-1&&!n.d.a){var S=n.a,y=n.b,s=n.c,_=n.d,m=_.a,b=_.b,l=_.c,v=_.d,u=_.e,h=n.e;return H(ee,0,y,s,H(ee,1,b,l,v,u),H(ee,1,r,t,h,a))}else return H(ee,e,r,t,n,a)}),ji=q(function(e,r,t){if(t.$===-2)return H(ee,0,e,r,_r,_r);var n=t.a,a=t.b,o=t.c,i=t.d,c=t.e,f=j(vf,e,a);switch(f){case 0:return H(_t,n,a,o,Y(ji,e,r,i),c);case 1:return H(ee,n,a,r,i,c);default:return H(_t,n,a,o,i,Y(ji,e,r,c))}}),$f=q(function(e,r,t){var n=Y(ji,e,r,t);if(n.$===-1&&!n.a){var a=n.a,o=n.b,i=n.c,c=n.d,f=n.e;return H(ee,1,o,i,c,f)}else{var d=n;return d}}),ay=q(function(e,r,t){var n=t.ab;return Pe(t,{ab:Pe(n,{S:Y($f,r,e,n.S),T:Y($f,e,r,n.T)})})}),oy=k(function(e,r){return j(Ri,e,r)>0?r:Y(mt,ty,j(mt,function(t){var n=t.a,a=t.b;return V(n,Y(ay,n,e,a))},pf),r)}),iy=k(function(e,r){var t=lf(r);return V(e,j(Bi,Pe(t,{ar:j(ye,e,t.ar)}),r))}),cy=function(e){e:for(;;)if(e.$===-1&&e.d.$===-1){var r=e.d,t=r;e=t;continue e}else return e},df=function(e){if(e.$===-1&&e.d.$===-1&&e.e.$===-1)if(e.e.d.$===-1&&!e.e.d.a){var r=e.a,t=e.b,n=e.c,a=e.d,o=a.a,i=a.b,c=a.c,f=a.d,d=a.e,p=e.e,y=p.a,s=p.b,$=p.c,h=p.d,S=h.a,_=h.b,m=h.c,b=h.d,l=h.e,v=p.e;return H(ee,0,_,m,H(ee,1,t,n,H(ee,0,i,c,f,d),b),H(ee,1,s,$,l,v))}else{var r=e.a,t=e.b,n=e.c,u=e.d,o=u.a,i=u.b,c=u.c,f=u.d,d=u.e,g=e.e,y=g.a,s=g.b,$=g.c,h=g.d,v=g.e;return H(ee,1,t,n,H(ee,0,i,c,f,d),H(ee,0,s,$,h,v))}else return e},hf=function(e){if(e.$===-1&&e.d.$===-1&&e.e.$===-1)if(e.d.d.$===-1&&!e.d.d.a){var r=e.a,t=e.b,n=e.c,a=e.d,o=a.a,i=a.b,c=a.c,f=a.d,d=f.a,p=f.b,y=f.c,s=f.d,$=f.e,h=a.e,S=e.e,_=S.a,m=S.b,b=S.c,l=S.d,v=S.e;return H(ee,0,i,c,H(ee,1,p,y,s,$),H(ee,1,t,n,h,H(ee,0,m,b,l,v)))}else{var r=e.a,t=e.b,n=e.c,u=e.d,o=u.a,i=u.b,c=u.c,g=u.d,h=u.e,w=e.e,_=w.a,m=w.b,b=w.c,l=w.d,v=w.e;return H(ee,1,t,n,H(ee,0,i,c,g,h),H(ee,0,m,b,l,v))}else return e},uy=vs(function(e,r,t,n,a,o,i){if(o.$===-1&&!o.a){var c=o.a,f=o.b,d=o.c,p=o.d,y=o.e;return H(ee,t,f,d,p,H(ee,0,n,a,y,i))}else{e:for(;;)if(i.$===-1&&i.a===1)if(i.d.$===-1)if(i.d.a===1){var s=i.a,$=i.d,h=$.a;return hf(r)}else break e;else{var S=i.a,_=i.d;return hf(r)}else break e;return r}}),uo=function(e){if(e.$===-1&&e.d.$===-1){var r=e.a,t=e.b,n=e.c,a=e.d,o=a.a,i=a.d,c=e.e;if(o===1)if(i.$===-1&&!i.a){var f=i.a;return H(ee,r,t,n,uo(a),c)}else{var d=df(e);if(d.$===-1){var p=d.a,y=d.b,s=d.c,$=d.d,h=d.e;return H(_t,p,y,s,uo($),h)}else return _r}else return H(ee,r,t,n,uo(a),c)}else return _r},on=k(function(e,r){if(r.$===-2)return _r;var t=r.a,n=r.b,a=r.c,o=r.d,i=r.e;if(Ae(e,n)<0)if(o.$===-1&&o.a===1){var c=o.a,f=o.d;if(f.$===-1&&!f.a){var d=f.a;return H(ee,t,n,a,j(on,e,o),i)}else{var p=df(r);if(p.$===-1){var y=p.a,s=p.b,$=p.c,h=p.d,S=p.e;return H(_t,y,s,$,j(on,e,h),S)}else return _r}}else return H(ee,t,n,a,j(on,e,o),i);else return j(sy,e,z_(uy,e,r,t,n,a,o,i))}),sy=k(function(e,r){if(r.$===-1){var t=r.a,n=r.b,a=r.c,o=r.d,i=r.e;if(di(e,n)){var c=cy(i);if(c.$===-1){var f=c.b,d=c.c;return H(_t,t,f,d,o,uo(i))}else return _r}else return H(_t,t,n,a,o,j(on,e,i))}else return _r}),mf=k(function(e,r){var t=j(on,e,r);if(t.$===-1&&!t.a){var n=t.a,a=t.b,o=t.c,i=t.d,c=t.e;return H(ee,1,a,o,i,c)}else{var f=t;return f}}),fy=k(function(e,r){var t=r.ab;return V(j(Ri,e,r),Pe(r,{ab:Pe(t,{S:j(mf,e,t.S),T:j(mf,j(Ri,e,r),t.T)})}))}),ly=function(e){return j(mt,fy(e),j(mt,function(r){var t=r.a,n=r.b;return j(iy,t,n)},pf))},vy=q(function(e,r,t){if(r.$){var i=r.a;return t}else{var n=r.a,a=r.b,o=r.c;return t}}),py=k(function(e,r){return Pe(r,{c5:e})}),$y=k(function(e,r){switch(e.$){case 0:var t=e.a;return V(j(py,t,r),Qr);case 1:var n=e.a;return V(Pe(r,{bM:j(oy,n,r.bM)}),Qr);case 2:var n=e.a;return V(Pe(r,{bM:j(ly,n,r.bM)}),Qr);case 3:var n=e.a,a=e.b;return V(Y(en,k(function(i,c){return Pe(c,{bM:Y(vy,n,i,c.bM)})}),r,ry(a)),Qr);default:var o=e.a;return V(Pe(r,{dB:o}),Qr)}}),dy=o0({cd:Lg,da:$y}),hy={Rpg:{Server:{init:dy(qs)(0)}}},_f=hy;var ki=e=>r=>{e.addEventListener("keydown",t=>{t.preventDefault(),!t.repeat&&t.code in so&&r(!0,so[t.code])}),e.addEventListener("keyup",t=>{t.preventDefault(),t.code in so&&r(!1,so[t.code])})};function fo(e,r){let t={...my,...r},{tick:n,resize:a,keyboard:o,mouse:i,touch:c,transport:f,server:d}=t,p=[];a((s,$)=>p.push([Ke.resize,s,$])),o((s,$)=>p.push([Ke.inputKeyboard,s,$])),i((...s)=>p.push([Ke.inputMouse,...s])),c(s=>p.push([Ke.inputTouch,s])),f.on(ve.join,()=>p.push([Ke.networkJoin])),f.on(ve.receive,s=>p.push([Ke.networkReceive,s])),f.on(ve.error,s=>p.push([Ke.networkError,s])),f.on(ve.leave,()=>p.push([Ke.networkLeave])),e.ports.connect.subscribe(s=>{console.log("Client::connect",s),f.connect(s)}),e.ports.disconnect.subscribe(s=>{console.log("Client::disconnect",s)}),e.ports.open.subscribe(s=>{console.log("Client::StartServer",s),d(s),f.connect(s)}),e.ports.output.subscribe(f.send);let y=()=>{p.push([Ke.tick,performance.now()]),e.ports.input.send(p),p.length=0,n(y)};y()}var Ke;(function(e){e[e.tick=100]="tick",e[e.resize=101]="resize",e[e.inputKeyboard=102]="inputKeyboard",e[e.inputMouse=103]="inputMouse",e[e.inputTouch=104]="inputTouch",e[e.networkJoin=201]="networkJoin",e[e.networkLeave=202]="networkLeave",e[e.networkReceive=203]="networkReceive",e[e.networkError=204]="networkError"})(Ke||(Ke={}));var my={server:()=>({}),tick:window.requestAnimationFrame,resize:e=>{window.addEventListener("resize",()=>{e(window.innerWidth,window.innerHeight)})},mouse:e=>{let r=t=>{t.preventDefault(),e(t.offsetX,t.offsetY,t.buttons===1,t.buttons===2)};document.addEventListener("mousemove",r),document.addEventListener("mousedown",r),document.addEventListener("mouseup",r),document.addEventListener("contextmenu",r)},touch:e=>{let r=t=>{t.preventDefault();let{touches:n}=t,a=[];for(let o=0;o<n.length;o++){let{identifier:i,pageX:c,pageY:f}=n[o];a.push([i,c,f])}e(a)};document.addEventListener("touchstart",r,{passive:!1}),document.addEventListener("touchend",r,{passive:!1}),document.addEventListener("touchmove",r,{passive:!1}),document.addEventListener("touchcancel",r,{passive:!1})},keyboard:ki(window)},so={ArrowDown:0,ArrowLeft:1,ArrowRight:2,ArrowUp:3,Backslash:4,Backspace:5,BracketLeft:6,BracketRight:7,Comma:8,Digit0:9,Digit1:10,Digit2:11,Digit3:12,Digit4:13,Digit5:14,Digit6:15,Digit7:16,Digit8:17,Digit9:18,Enter:19,Equal:20,IntlBackslash:21,KeyA:22,KeyB:23,KeyC:24,KeyD:25,KeyE:26,KeyF:27,KeyG:28,KeyH:29,KeyI:30,KeyJ:31,KeyK:32,KeyL:33,KeyM:34,KeyN:35,KeyO:36,KeyP:37,KeyQ:38,KeyR:39,KeyS:40,KeyT:41,KeyU:42,KeyV:43,KeyW:44,KeyX:45,KeyY:46,KeyZ:47,Minus:48,Period:49,Quote:50,Semicolon:51,Slash:52,Space:53,Tab:54,Escape:55};function cn(e,r,t,n={}){let a=document.createElement("div");a.id=`${e}`,a.tabIndex=-1,a.appendChild(document.createElement("div")).append(document.createElement("canvas")),document.body.appendChild(a),a.addEventListener("mouseenter",()=>a.focus()),setTimeout(()=>{let{width:i,height:c}=a.getBoundingClientRect(),f=r({flags:{screen:{width:i,height:c},meta:{dataUrl:"dataURL",login:e,password:`${e}_password`}},node:a.firstChild}),d=y=>{window.addEventListener("resize",()=>{let{width:s,height:$}=a.getBoundingClientRect();y(s,$)})},p=y=>{let s=$=>{a===document.activeElement&&($.preventDefault(),y($.offsetX,$.offsetY,$.buttons===1,$.buttons===2))};a.addEventListener("mousemove",s),a.addEventListener("mousedown",s),a.addEventListener("mouseup",s),a.addEventListener("contextmenu",s)};fo(f,{...n,transport:t,resize:d,keyboard:ki(a),mouse:p})},0)}var bf=e=>{let r=0,t=1e3/e;return n=>{let a=Date.now(),o=Math.max(0,t-(a-r));setTimeout(()=>n(a+o),o),r=a+o}};function _y(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function by(e,r,t){return t={path:r,exports:{},require:function(n,a){return Mi(n,a??t.path)}},e(t,t.exports),t.exports}function Mi(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var gy=by(function(e,r){parcelRequire=function(t,n,a,o){var i,c=typeof parcelRequire=="function"&&parcelRequire,f=typeof Mi=="function"&&Mi;function d(s,$){if(!n[s]){if(!t[s]){var h=typeof parcelRequire=="function"&&parcelRequire;if(!$&&h)return h(s,!0);if(c)return c(s,!0);if(f&&typeof s=="string")return f(s);var S=new Error("Cannot find module '"+s+"'");throw S.code="MODULE_NOT_FOUND",S}m.resolve=function(b){return t[s][1][b]||b},m.cache={};var _=n[s]=new d.Module(s);t[s][0].call(_.exports,m,_,_.exports,this)}return n[s].exports;function m(b){return d(m.resolve(b))}}d.isParcelRequire=!0,d.Module=function(s){this.id=s,this.bundle=d,this.exports={}},d.modules=t,d.cache=n,d.parent=c,d.register=function(s,$){t[s]=[function(h,S){S.exports=$},{}]};for(var p=0;p<a.length;p++)try{d(a[p])}catch(s){i||(i=s)}if(a.length){var y=d(a[a.length-1]);e.exports=y}if(parcelRequire=d,i)throw i;return d}({EgBh:[function(t,n,a){var o={};o.useBlobBuilder=function(){try{return new Blob([]),!1}catch(f){return!0}}(),o.useArrayBufferView=!o.useBlobBuilder&&function(){try{return new Blob([new Uint8Array([])]).size===0}catch(f){return!0}}(),n.exports.binaryFeatures=o;var i=n.exports.BlobBuilder;function c(){this._pieces=[],this._parts=[]}typeof window!="undefined"&&(i=n.exports.BlobBuilder=window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder||window.BlobBuilder),c.prototype.append=function(f){typeof f=="number"?this._pieces.push(f):(this.flush(),this._parts.push(f))},c.prototype.flush=function(){if(this._pieces.length>0){var f=new Uint8Array(this._pieces);o.useArrayBufferView||(f=f.buffer),this._parts.push(f),this._pieces=[]}},c.prototype.getBuffer=function(){if(this.flush(),o.useBlobBuilder){for(var f=new i,d=0,p=this._parts.length;d<p;d++)f.append(this._parts[d]);return f.getBlob()}return new Blob(this._parts)},n.exports.BufferBuilder=c},{}],kdPp:[function(t,n,a){var o=t("./bufferbuilder").BufferBuilder,i=t("./bufferbuilder").binaryFeatures,c={unpack:function(s){return new f(s).unpack()},pack:function(s){var $=new d;return $.pack(s),$.getBuffer()}};function f(s){this.index=0,this.dataBuffer=s,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}function d(){this.bufferBuilder=new o}function p(s){var $=s.charCodeAt(0);return $<=2047?"00":$<=65535?"000":$<=2097151?"0000":$<=67108863?"00000":"000000"}function y(s){return s.length>600?new Blob([s]).size:s.replace(/[^\u0000-\u007F]/g,p).length}n.exports=c,f.prototype.unpack=function(){var s,$=this.unpack_uint8();if($<128)return $;if((224^$)<32)return(224^$)-32;if((s=160^$)<=15)return this.unpack_raw(s);if((s=176^$)<=15)return this.unpack_string(s);if((s=144^$)<=15)return this.unpack_array(s);if((s=128^$)<=15)return this.unpack_map(s);switch($){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:case 213:case 214:case 215:return;case 216:return s=this.unpack_uint16(),this.unpack_string(s);case 217:return s=this.unpack_uint32(),this.unpack_string(s);case 218:return s=this.unpack_uint16(),this.unpack_raw(s);case 219:return s=this.unpack_uint32(),this.unpack_raw(s);case 220:return s=this.unpack_uint16(),this.unpack_array(s);case 221:return s=this.unpack_uint32(),this.unpack_array(s);case 222:return s=this.unpack_uint16(),this.unpack_map(s);case 223:return s=this.unpack_uint32(),this.unpack_map(s)}},f.prototype.unpack_uint8=function(){var s=255&this.dataView[this.index];return this.index++,s},f.prototype.unpack_uint16=function(){var s=this.read(2),$=256*(255&s[0])+(255&s[1]);return this.index+=2,$},f.prototype.unpack_uint32=function(){var s=this.read(4),$=256*(256*(256*s[0]+s[1])+s[2])+s[3];return this.index+=4,$},f.prototype.unpack_uint64=function(){var s=this.read(8),$=256*(256*(256*(256*(256*(256*(256*s[0]+s[1])+s[2])+s[3])+s[4])+s[5])+s[6])+s[7];return this.index+=8,$},f.prototype.unpack_int8=function(){var s=this.unpack_uint8();return s<128?s:s-256},f.prototype.unpack_int16=function(){var s=this.unpack_uint16();return s<32768?s:s-65536},f.prototype.unpack_int32=function(){var s=this.unpack_uint32();return s<Math.pow(2,31)?s:s-Math.pow(2,32)},f.prototype.unpack_int64=function(){var s=this.unpack_uint64();return s<Math.pow(2,63)?s:s-Math.pow(2,64)},f.prototype.unpack_raw=function(s){if(this.length<this.index+s)throw new Error("BinaryPackFailure: index is out of range "+this.index+" "+s+" "+this.length);var $=this.dataBuffer.slice(this.index,this.index+s);return this.index+=s,$},f.prototype.unpack_string=function(s){for(var $,h,S=this.read(s),_=0,m="";_<s;)($=S[_])<128?(m+=String.fromCharCode($),_++):(192^$)<32?(h=(192^$)<<6|63&S[_+1],m+=String.fromCharCode(h),_+=2):(h=(15&$)<<12|(63&S[_+1])<<6|63&S[_+2],m+=String.fromCharCode(h),_+=3);return this.index+=s,m},f.prototype.unpack_array=function(s){for(var $=new Array(s),h=0;h<s;h++)$[h]=this.unpack();return $},f.prototype.unpack_map=function(s){for(var $={},h=0;h<s;h++){var S=this.unpack(),_=this.unpack();$[S]=_}return $},f.prototype.unpack_float=function(){var s=this.unpack_uint32(),$=(s>>23&255)-127;return(s>>31==0?1:-1)*(8388607&s|8388608)*Math.pow(2,$-23)},f.prototype.unpack_double=function(){var s=this.unpack_uint32(),$=this.unpack_uint32(),h=(s>>20&2047)-1023;return(s>>31==0?1:-1)*((1048575&s|1048576)*Math.pow(2,h-20)+$*Math.pow(2,h-52))},f.prototype.read=function(s){var $=this.index;if($+s<=this.length)return this.dataView.subarray($,$+s);throw new Error("BinaryPackFailure: read index out of range")},d.prototype.getBuffer=function(){return this.bufferBuilder.getBuffer()},d.prototype.pack=function(s){var $=typeof s;if($==="string")this.pack_string(s);else if($==="number")Math.floor(s)===s?this.pack_integer(s):this.pack_double(s);else if($==="boolean")s===!0?this.bufferBuilder.append(195):s===!1&&this.bufferBuilder.append(194);else if($==="undefined")this.bufferBuilder.append(192);else{if($!=="object")throw new Error('Type "'+$+'" not yet supported');if(s===null)this.bufferBuilder.append(192);else{var h=s.constructor;if(h==Array)this.pack_array(s);else if(h==Blob||h==File||s instanceof Blob||s instanceof File)this.pack_bin(s);else if(h==ArrayBuffer)i.useArrayBufferView?this.pack_bin(new Uint8Array(s)):this.pack_bin(s);else if("BYTES_PER_ELEMENT"in s)i.useArrayBufferView?this.pack_bin(new Uint8Array(s.buffer)):this.pack_bin(s.buffer);else if(h==Object||h.toString().startsWith("class"))this.pack_object(s);else if(h==Date)this.pack_string(s.toString());else{if(typeof s.toBinaryPack!="function")throw new Error('Type "'+h.toString()+'" not yet supported');this.bufferBuilder.append(s.toBinaryPack())}}}this.bufferBuilder.flush()},d.prototype.pack_bin=function(s){var $=s.length||s.byteLength||s.size;if($<=15)this.pack_uint8(160+$);else if($<=65535)this.bufferBuilder.append(218),this.pack_uint16($);else{if(!($<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(219),this.pack_uint32($)}this.bufferBuilder.append(s)},d.prototype.pack_string=function(s){var $=y(s);if($<=15)this.pack_uint8(176+$);else if($<=65535)this.bufferBuilder.append(216),this.pack_uint16($);else{if(!($<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(217),this.pack_uint32($)}this.bufferBuilder.append(s)},d.prototype.pack_array=function(s){var $=s.length;if($<=15)this.pack_uint8(144+$);else if($<=65535)this.bufferBuilder.append(220),this.pack_uint16($);else{if(!($<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(221),this.pack_uint32($)}for(var h=0;h<$;h++)this.pack(s[h])},d.prototype.pack_integer=function(s){if(s>=-32&&s<=127)this.bufferBuilder.append(255&s);else if(s>=0&&s<=255)this.bufferBuilder.append(204),this.pack_uint8(s);else if(s>=-128&&s<=127)this.bufferBuilder.append(208),this.pack_int8(s);else if(s>=0&&s<=65535)this.bufferBuilder.append(205),this.pack_uint16(s);else if(s>=-32768&&s<=32767)this.bufferBuilder.append(209),this.pack_int16(s);else if(s>=0&&s<=4294967295)this.bufferBuilder.append(206),this.pack_uint32(s);else if(s>=-2147483648&&s<=2147483647)this.bufferBuilder.append(210),this.pack_int32(s);else if(s>=-9223372036854776e3&&s<=9223372036854776e3)this.bufferBuilder.append(211),this.pack_int64(s);else{if(!(s>=0&&s<=18446744073709552e3))throw new Error("Invalid integer");this.bufferBuilder.append(207),this.pack_uint64(s)}},d.prototype.pack_double=function(s){var $=0;s<0&&($=1,s=-s);var h=Math.floor(Math.log(s)/Math.LN2),S=s/Math.pow(2,h)-1,_=Math.floor(S*Math.pow(2,52)),m=Math.pow(2,32),b=$<<31|h+1023<<20|_/m&1048575,l=_%m;this.bufferBuilder.append(203),this.pack_int32(b),this.pack_int32(l)},d.prototype.pack_object=function(s){var $=Object.keys(s).length;if($<=15)this.pack_uint8(128+$);else if($<=65535)this.bufferBuilder.append(222),this.pack_uint16($);else{if(!($<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(223),this.pack_uint32($)}for(var h in s)s.hasOwnProperty(h)&&(this.pack(h),this.pack(s[h]))},d.prototype.pack_uint8=function(s){this.bufferBuilder.append(s)},d.prototype.pack_uint16=function(s){this.bufferBuilder.append(s>>8),this.bufferBuilder.append(255&s)},d.prototype.pack_uint32=function(s){var $=4294967295&s;this.bufferBuilder.append((4278190080&$)>>>24),this.bufferBuilder.append((16711680&$)>>>16),this.bufferBuilder.append((65280&$)>>>8),this.bufferBuilder.append(255&$)},d.prototype.pack_uint64=function(s){var $=s/Math.pow(2,32),h=s%Math.pow(2,32);this.bufferBuilder.append((4278190080&$)>>>24),this.bufferBuilder.append((16711680&$)>>>16),this.bufferBuilder.append((65280&$)>>>8),this.bufferBuilder.append(255&$),this.bufferBuilder.append((4278190080&h)>>>24),this.bufferBuilder.append((16711680&h)>>>16),this.bufferBuilder.append((65280&h)>>>8),this.bufferBuilder.append(255&h)},d.prototype.pack_int8=function(s){this.bufferBuilder.append(255&s)},d.prototype.pack_int16=function(s){this.bufferBuilder.append((65280&s)>>8),this.bufferBuilder.append(255&s)},d.prototype.pack_int32=function(s){this.bufferBuilder.append(s>>>24&255),this.bufferBuilder.append((16711680&s)>>>16),this.bufferBuilder.append((65280&s)>>>8),this.bufferBuilder.append(255&s)},d.prototype.pack_int64=function(s){var $=Math.floor(s/Math.pow(2,32)),h=s%Math.pow(2,32);this.bufferBuilder.append((4278190080&$)>>>24),this.bufferBuilder.append((16711680&$)>>>16),this.bufferBuilder.append((65280&$)>>>8),this.bufferBuilder.append(255&$),this.bufferBuilder.append((4278190080&h)>>>24),this.bufferBuilder.append((16711680&h)>>>16),this.bufferBuilder.append((65280&h)>>>8),this.bufferBuilder.append(255&h)}},{"./bufferbuilder":"EgBh"}],iSxC:[function(t,n,a){function o(v,u,g){return u in v?Object.defineProperty(v,u,{value:g,enumerable:!0,configurable:!0,writable:!0}):v[u]=g,v}function i(v){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(v)}Object.defineProperty(a,"__esModule",{value:!0}),a.extractVersion=d,a.wrapPeerConnectionEvent=p,a.disableLog=y,a.disableWarnings=s,a.log=$,a.deprecated=h,a.detectBrowser=S,a.compactObject=m,a.walkStats=b,a.filterStats=l;var c=!0,f=!0;function d(v,u,g){var w=v.match(u);return w&&w.length>=g&&parseInt(w[g],10)}function p(v,u,g){if(v.RTCPeerConnection){var w=v.RTCPeerConnection.prototype,A=w.addEventListener;w.addEventListener=function(E,R){if(E!==u)return A.apply(this,arguments);var B=function(D){var O=g(D);O&&R(O)};return this._eventMap=this._eventMap||{},this._eventMap[R]=B,A.apply(this,[E,B])};var P=w.removeEventListener;w.removeEventListener=function(E,R){if(E!==u||!this._eventMap||!this._eventMap[R])return P.apply(this,arguments);var B=this._eventMap[R];return delete this._eventMap[R],P.apply(this,[E,B])},Object.defineProperty(w,"on"+u,{get:function(){return this["_on"+u]},set:function(E){this["_on"+u]&&(this.removeEventListener(u,this["_on"+u]),delete this["_on"+u]),E&&this.addEventListener(u,this["_on"+u]=E)},enumerable:!0,configurable:!0})}}function y(v){return typeof v!="boolean"?new Error("Argument type: "+i(v)+". Please use a boolean."):(c=v,v?"adapter.js logging disabled":"adapter.js logging enabled")}function s(v){return typeof v!="boolean"?new Error("Argument type: "+i(v)+". Please use a boolean."):(f=!v,"adapter.js deprecation warnings "+(v?"disabled":"enabled"))}function $(){if((typeof window=="undefined"?"undefined":i(window))==="object"){if(c)return;typeof console!="undefined"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function h(v,u){f&&console.warn(v+" is deprecated, please use "+u+" instead.")}function S(v){var{navigator:u}=v,g={browser:null,version:null};if(v===void 0||!v.navigator)return g.browser="Not a browser.",g;if(u.mozGetUserMedia)g.browser="firefox",g.version=d(u.userAgent,/Firefox\/(\d+)\./,1);else if(u.webkitGetUserMedia||v.isSecureContext===!1&&v.webkitRTCPeerConnection&&!v.RTCIceGatherer)g.browser="chrome",g.version=d(u.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(u.mediaDevices&&u.userAgent.match(/Edge\/(\d+).(\d+)$/))g.browser="edge",g.version=d(u.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!v.RTCPeerConnection||!u.userAgent.match(/AppleWebKit\/(\d+)\./))return g.browser="Not a supported browser.",g;g.browser="safari",g.version=d(u.userAgent,/AppleWebKit\/(\d+)\./,1),g.supportsUnifiedPlan=v.RTCRtpTransceiver&&"currentDirection"in v.RTCRtpTransceiver.prototype}return g}function _(v){return Object.prototype.toString.call(v)==="[object Object]"}function m(v){return _(v)?Object.keys(v).reduce(function(u,g){var w=_(v[g]),A=w?m(v[g]):v[g],P=w&&!Object.keys(A).length;return A===void 0||P?u:Object.assign(u,o({},g,A))},{}):v}function b(v,u,g){u&&!g.has(u.id)&&(g.set(u.id,u),Object.keys(u).forEach(function(w){w.endsWith("Id")?b(v,v.get(u[w]),g):w.endsWith("Ids")&&u[w].forEach(function(A){b(v,v.get(A),g)})}))}function l(v,u,g){var w=g?"outbound-rtp":"inbound-rtp",A=new Map;if(u===null)return A;var P=[];return v.forEach(function(E){E.type==="track"&&E.trackIdentifier===u.id&&P.push(E)}),P.forEach(function(E){v.forEach(function(R){R.type===w&&R.trackId===E.id&&b(v,R,A)})}),A}},{}],s6SN:[function(t,n,a){Object.defineProperty(a,"__esModule",{value:!0}),a.shimGetUserMedia=p;var o=c(t("../utils.js"));function i(){if(typeof WeakMap!="function")return null;var y=new WeakMap;return i=function(){return y},y}function c(y){if(y&&y.__esModule)return y;if(y===null||typeof y!="object"&&typeof y!="function")return{default:y};var s=i();if(s&&s.has(y))return s.get(y);var $={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var S in y)if(Object.prototype.hasOwnProperty.call(y,S)){var _=h?Object.getOwnPropertyDescriptor(y,S):null;_&&(_.get||_.set)?Object.defineProperty($,S,_):$[S]=y[S]}return $.default=y,s&&s.set(y,$),$}function f(y){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(y)}var d=o.log;function p(y){var s=y&&y.navigator;if(s.mediaDevices){var $=o.detectBrowser(y),h=function(b){if(f(b)!=="object"||b.mandatory||b.optional)return b;var l={};return Object.keys(b).forEach(function(v){if(v!=="require"&&v!=="advanced"&&v!=="mediaSource"){var u=f(b[v])==="object"?b[v]:{ideal:b[v]};u.exact!==void 0&&typeof u.exact=="number"&&(u.min=u.max=u.exact);var g=function(A,P){return A?A+P.charAt(0).toUpperCase()+P.slice(1):P==="deviceId"?"sourceId":P};if(u.ideal!==void 0){l.optional=l.optional||[];var w={};typeof u.ideal=="number"?(w[g("min",v)]=u.ideal,l.optional.push(w),(w={})[g("max",v)]=u.ideal,l.optional.push(w)):(w[g("",v)]=u.ideal,l.optional.push(w))}u.exact!==void 0&&typeof u.exact!="number"?(l.mandatory=l.mandatory||{},l.mandatory[g("",v)]=u.exact):["min","max"].forEach(function(A){u[A]!==void 0&&(l.mandatory=l.mandatory||{},l.mandatory[g(A,v)]=u[A])})}}),b.advanced&&(l.optional=(l.optional||[]).concat(b.advanced)),l},S=function(b,l){if($.version>=61)return l(b);if((b=JSON.parse(JSON.stringify(b)))&&f(b.audio)==="object"){var v=function(A,P,E){P in A&&!(E in A)&&(A[E]=A[P],delete A[P])};v((b=JSON.parse(JSON.stringify(b))).audio,"autoGainControl","googAutoGainControl"),v(b.audio,"noiseSuppression","googNoiseSuppression"),b.audio=h(b.audio)}if(b&&f(b.video)==="object"){var u=b.video.facingMode;u=u&&(f(u)==="object"?u:{ideal:u});var g,w=$.version<66;if(u&&(u.exact==="user"||u.exact==="environment"||u.ideal==="user"||u.ideal==="environment")&&(!s.mediaDevices.getSupportedConstraints||!s.mediaDevices.getSupportedConstraints().facingMode||w)&&(delete b.video.facingMode,u.exact==="environment"||u.ideal==="environment"?g=["back","rear"]:u.exact!=="user"&&u.ideal!=="user"||(g=["front"]),g))return s.mediaDevices.enumerateDevices().then(function(A){var P=(A=A.filter(function(E){return E.kind==="videoinput"})).find(function(E){return g.some(function(R){return E.label.toLowerCase().includes(R)})});return!P&&A.length&&g.includes("back")&&(P=A[A.length-1]),P&&(b.video.deviceId=u.exact?{exact:P.deviceId}:{ideal:P.deviceId}),b.video=h(b.video),d("chrome: "+JSON.stringify(b)),l(b)});b.video=h(b.video)}return d("chrome: "+JSON.stringify(b)),l(b)},_=function(b){return $.version>=64?b:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[b.name]||b.name,message:b.message,constraint:b.constraint||b.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}};if(s.getUserMedia=function(b,l,v){S(b,function(u){s.webkitGetUserMedia(u,l,function(g){v&&v(_(g))})})}.bind(s),s.mediaDevices.getUserMedia){var m=s.mediaDevices.getUserMedia.bind(s.mediaDevices);s.mediaDevices.getUserMedia=function(b){return S(b,function(l){return m(l).then(function(v){if(l.audio&&!v.getAudioTracks().length||l.video&&!v.getVideoTracks().length)throw v.getTracks().forEach(function(u){u.stop()}),new DOMException("","NotFoundError");return v},function(v){return Promise.reject(_(v))})})}}}}},{"../utils.js":"iSxC"}],VHa8:[function(t,n,a){function o(i,c){i.navigator.mediaDevices&&"getDisplayMedia"in i.navigator.mediaDevices||i.navigator.mediaDevices&&(typeof c=="function"?i.navigator.mediaDevices.getDisplayMedia=function(f){return c(f).then(function(d){var p=f.video&&f.video.width,y=f.video&&f.video.height,s=f.video&&f.video.frameRate;return f.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:d,maxFrameRate:s||3}},p&&(f.video.mandatory.maxWidth=p),y&&(f.video.mandatory.maxHeight=y),i.navigator.mediaDevices.getUserMedia(f)})}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}Object.defineProperty(a,"__esModule",{value:!0}),a.shimGetDisplayMedia=o},{}],uI5X:[function(t,n,a){Object.defineProperty(a,"__esModule",{value:!0}),a.shimMediaStream=s,a.shimOnTrack=$,a.shimGetSendersWithDtmf=h,a.shimGetStats=S,a.shimSenderReceiverGetStats=_,a.shimAddTrackRemoveTrackWithNative=m,a.shimAddTrackRemoveTrack=b,a.shimPeerConnection=l,a.fixNegotiationNeeded=v,Object.defineProperty(a,"shimGetUserMedia",{enumerable:!0,get:function(){return i.shimGetUserMedia}}),Object.defineProperty(a,"shimGetDisplayMedia",{enumerable:!0,get:function(){return c.shimGetDisplayMedia}});var o=d(t("../utils.js")),i=t("./getusermedia"),c=t("./getdisplaymedia");function f(){if(typeof WeakMap!="function")return null;var u=new WeakMap;return f=function(){return u},u}function d(u){if(u&&u.__esModule)return u;if(u===null||typeof u!="object"&&typeof u!="function")return{default:u};var g=f();if(g&&g.has(u))return g.get(u);var w={},A=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var P in u)if(Object.prototype.hasOwnProperty.call(u,P)){var E=A?Object.getOwnPropertyDescriptor(u,P):null;E&&(E.get||E.set)?Object.defineProperty(w,P,E):w[P]=u[P]}return w.default=u,g&&g.set(u,w),w}function p(u,g,w){return g in u?Object.defineProperty(u,g,{value:w,enumerable:!0,configurable:!0,writable:!0}):u[g]=w,u}function y(u){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(u)}function s(u){u.MediaStream=u.MediaStream||u.webkitMediaStream}function $(u){if(y(u)!=="object"||!u.RTCPeerConnection||"ontrack"in u.RTCPeerConnection.prototype)o.wrapPeerConnectionEvent(u,"track",function(w){return w.transceiver||Object.defineProperty(w,"transceiver",{value:{receiver:w.receiver}}),w});else{Object.defineProperty(u.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(w){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=w)},enumerable:!0,configurable:!0});var g=u.RTCPeerConnection.prototype.setRemoteDescription;u.RTCPeerConnection.prototype.setRemoteDescription=function(){var w=this;return this._ontrackpoly||(this._ontrackpoly=function(A){A.stream.addEventListener("addtrack",function(P){var E;E=u.RTCPeerConnection.prototype.getReceivers?w.getReceivers().find(function(B){return B.track&&B.track.id===P.track.id}):{track:P.track};var R=new Event("track");R.track=P.track,R.receiver=E,R.transceiver={receiver:E},R.streams=[A.stream],w.dispatchEvent(R)}),A.stream.getTracks().forEach(function(P){var E;E=u.RTCPeerConnection.prototype.getReceivers?w.getReceivers().find(function(B){return B.track&&B.track.id===P.id}):{track:P};var R=new Event("track");R.track=P,R.receiver=E,R.transceiver={receiver:E},R.streams=[A.stream],w.dispatchEvent(R)})},this.addEventListener("addstream",this._ontrackpoly)),g.apply(this,arguments)}}}function h(u){if(y(u)==="object"&&u.RTCPeerConnection&&!("getSenders"in u.RTCPeerConnection.prototype)&&"createDTMFSender"in u.RTCPeerConnection.prototype){var g=function(B,D){return{track:D,get dtmf(){return this._dtmf===void 0&&(D.kind==="audio"?this._dtmf=B.createDTMFSender(D):this._dtmf=null),this._dtmf},_pc:B}};if(!u.RTCPeerConnection.prototype.getSenders){u.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};var w=u.RTCPeerConnection.prototype.addTrack;u.RTCPeerConnection.prototype.addTrack=function(B,D){var O=w.apply(this,arguments);return O||(O=g(this,B),this._senders.push(O)),O};var A=u.RTCPeerConnection.prototype.removeTrack;u.RTCPeerConnection.prototype.removeTrack=function(B){A.apply(this,arguments);var D=this._senders.indexOf(B);D!==-1&&this._senders.splice(D,1)}}var P=u.RTCPeerConnection.prototype.addStream;u.RTCPeerConnection.prototype.addStream=function(B){var D=this;this._senders=this._senders||[],P.apply(this,[B]),B.getTracks().forEach(function(O){D._senders.push(g(D,O))})};var E=u.RTCPeerConnection.prototype.removeStream;u.RTCPeerConnection.prototype.removeStream=function(B){var D=this;this._senders=this._senders||[],E.apply(this,[B]),B.getTracks().forEach(function(O){var I=D._senders.find(function(F){return F.track===O});I&&D._senders.splice(D._senders.indexOf(I),1)})}}else if(y(u)==="object"&&u.RTCPeerConnection&&"getSenders"in u.RTCPeerConnection.prototype&&"createDTMFSender"in u.RTCPeerConnection.prototype&&u.RTCRtpSender&&!("dtmf"in u.RTCRtpSender.prototype)){var R=u.RTCPeerConnection.prototype.getSenders;u.RTCPeerConnection.prototype.getSenders=function(){var B=this,D=R.apply(this,[]);return D.forEach(function(O){return O._pc=B}),D},Object.defineProperty(u.RTCRtpSender.prototype,"dtmf",{get:function(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function S(u){if(u.RTCPeerConnection){var g=u.RTCPeerConnection.prototype.getStats;u.RTCPeerConnection.prototype.getStats=function(){var w=this,[A,P,E]=arguments;if(arguments.length>0&&typeof A=="function")return g.apply(this,arguments);if(g.length===0&&(arguments.length===0||typeof A!="function"))return g.apply(this,[]);var R=function(D){var O={};return D.result().forEach(function(I){var F={id:I.id,timestamp:I.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[I.type]||I.type};I.names().forEach(function(W){F[W]=I.stat(W)}),O[F.id]=F}),O},B=function(D){return new Map(Object.keys(D).map(function(O){return[O,D[O]]}))};return arguments.length>=2?g.apply(this,[function(D){P(B(R(D)))},A]):new Promise(function(D,O){g.apply(w,[function(I){D(B(R(I)))},O])}).then(P,E)}}}function _(u){if(y(u)==="object"&&u.RTCPeerConnection&&u.RTCRtpSender&&u.RTCRtpReceiver){if(!("getStats"in u.RTCRtpSender.prototype)){var g=u.RTCPeerConnection.prototype.getSenders;g&&(u.RTCPeerConnection.prototype.getSenders=function(){var E=this,R=g.apply(this,[]);return R.forEach(function(B){return B._pc=E}),R});var w=u.RTCPeerConnection.prototype.addTrack;w&&(u.RTCPeerConnection.prototype.addTrack=function(){var E=w.apply(this,arguments);return E._pc=this,E}),u.RTCRtpSender.prototype.getStats=function(){var E=this;return this._pc.getStats().then(function(R){return o.filterStats(R,E.track,!0)})}}if(!("getStats"in u.RTCRtpReceiver.prototype)){var A=u.RTCPeerConnection.prototype.getReceivers;A&&(u.RTCPeerConnection.prototype.getReceivers=function(){var E=this,R=A.apply(this,[]);return R.forEach(function(B){return B._pc=E}),R}),o.wrapPeerConnectionEvent(u,"track",function(E){return E.receiver._pc=E.srcElement,E}),u.RTCRtpReceiver.prototype.getStats=function(){var E=this;return this._pc.getStats().then(function(R){return o.filterStats(R,E.track,!1)})}}if("getStats"in u.RTCRtpSender.prototype&&"getStats"in u.RTCRtpReceiver.prototype){var P=u.RTCPeerConnection.prototype.getStats;u.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof u.MediaStreamTrack){var E,R,B,D=arguments[0];return this.getSenders().forEach(function(O){O.track===D&&(E?B=!0:E=O)}),this.getReceivers().forEach(function(O){return O.track===D&&(R?B=!0:R=O),O.track===D}),B||E&&R?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):E?E.getStats():R?R.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return P.apply(this,arguments)}}}}function m(u){u.RTCPeerConnection.prototype.getLocalStreams=function(){var E=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(function(R){return E._shimmedLocalStreams[R][0]})};var g=u.RTCPeerConnection.prototype.addTrack;u.RTCPeerConnection.prototype.addTrack=function(E,R){if(!R)return g.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var B=g.apply(this,arguments);return this._shimmedLocalStreams[R.id]?this._shimmedLocalStreams[R.id].indexOf(B)===-1&&this._shimmedLocalStreams[R.id].push(B):this._shimmedLocalStreams[R.id]=[R,B],B};var w=u.RTCPeerConnection.prototype.addStream;u.RTCPeerConnection.prototype.addStream=function(E){var R=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{},E.getTracks().forEach(function(O){if(R.getSenders().find(function(I){return I.track===O}))throw new DOMException("Track already exists.","InvalidAccessError")});var B=this.getSenders();w.apply(this,arguments);var D=this.getSenders().filter(function(O){return B.indexOf(O)===-1});this._shimmedLocalStreams[E.id]=[E].concat(D)};var A=u.RTCPeerConnection.prototype.removeStream;u.RTCPeerConnection.prototype.removeStream=function(E){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[E.id],A.apply(this,arguments)};var P=u.RTCPeerConnection.prototype.removeTrack;u.RTCPeerConnection.prototype.removeTrack=function(E){var R=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},E&&Object.keys(this._shimmedLocalStreams).forEach(function(B){var D=R._shimmedLocalStreams[B].indexOf(E);D!==-1&&R._shimmedLocalStreams[B].splice(D,1),R._shimmedLocalStreams[B].length===1&&delete R._shimmedLocalStreams[B]}),P.apply(this,arguments)}}function b(u){if(u.RTCPeerConnection){var g=o.detectBrowser(u);if(u.RTCPeerConnection.prototype.addTrack&&g.version>=65)return m(u);var w=u.RTCPeerConnection.prototype.getLocalStreams;u.RTCPeerConnection.prototype.getLocalStreams=function(){var D=this,O=w.apply(this);return this._reverseStreams=this._reverseStreams||{},O.map(function(I){return D._reverseStreams[I.id]})};var A=u.RTCPeerConnection.prototype.addStream;u.RTCPeerConnection.prototype.addStream=function(D){var O=this;if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},D.getTracks().forEach(function(F){if(O.getSenders().find(function(W){return W.track===F}))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[D.id]){var I=new u.MediaStream(D.getTracks());this._streams[D.id]=I,this._reverseStreams[I.id]=D,D=I}A.apply(this,[D])};var P=u.RTCPeerConnection.prototype.removeStream;u.RTCPeerConnection.prototype.removeStream=function(D){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},P.apply(this,[this._streams[D.id]||D]),delete this._reverseStreams[this._streams[D.id]?this._streams[D.id].id:D.id],delete this._streams[D.id]},u.RTCPeerConnection.prototype.addTrack=function(D,O){var I=this;if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");var F=[].slice.call(arguments,1);if(F.length!==1||!F[0].getTracks().find(function(ie){return ie===D}))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(function(ie){return ie.track===D}))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};var W=this._streams[O.id];if(W)W.addTrack(D),Promise.resolve().then(function(){I.dispatchEvent(new Event("negotiationneeded"))});else{var re=new u.MediaStream([D]);this._streams[O.id]=re,this._reverseStreams[re.id]=O,this.addStream(re)}return this.getSenders().find(function(ie){return ie.track===D})},["createOffer","createAnswer"].forEach(function(D){var O=u.RTCPeerConnection.prototype[D],I=p({},D,function(){var F=this,W=arguments;return arguments.length&&typeof arguments[0]=="function"?O.apply(this,[function(re){var ie=B(F,re);W[0].apply(null,[ie])},function(re){W[1]&&W[1].apply(null,re)},arguments[2]]):O.apply(this,arguments).then(function(re){return B(F,re)})});u.RTCPeerConnection.prototype[D]=I[D]});var E=u.RTCPeerConnection.prototype.setLocalDescription;u.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=(D=this,O=arguments[0],I=O.sdp,Object.keys(D._reverseStreams||[]).forEach(function(F){var W=D._reverseStreams[F],re=D._streams[W.id];I=I.replace(new RegExp(W.id,"g"),re.id)}),new RTCSessionDescription({type:O.type,sdp:I})),E.apply(this,arguments)):E.apply(this,arguments);var D,O,I};var R=Object.getOwnPropertyDescriptor(u.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(u.RTCPeerConnection.prototype,"localDescription",{get:function(){var D=R.get.apply(this);return D.type===""?D:B(this,D)}}),u.RTCPeerConnection.prototype.removeTrack=function(D){var O,I=this;if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!D._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(D._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{},Object.keys(this._streams).forEach(function(F){I._streams[F].getTracks().find(function(W){return D.track===W})&&(O=I._streams[F])}),O&&(O.getTracks().length===1?this.removeStream(this._reverseStreams[O.id]):O.removeTrack(D.track),this.dispatchEvent(new Event("negotiationneeded")))}}function B(D,O){var I=O.sdp;return Object.keys(D._reverseStreams||[]).forEach(function(F){var W=D._reverseStreams[F],re=D._streams[W.id];I=I.replace(new RegExp(re.id,"g"),W.id)}),new RTCSessionDescription({type:O.type,sdp:I})}}function l(u){var g=o.detectBrowser(u);if(!u.RTCPeerConnection&&u.webkitRTCPeerConnection&&(u.RTCPeerConnection=u.webkitRTCPeerConnection),u.RTCPeerConnection){g.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(A){var P=u.RTCPeerConnection.prototype[A],E=p({},A,function(){return arguments[0]=new(A==="addIceCandidate"?u.RTCIceCandidate:u.RTCSessionDescription)(arguments[0]),P.apply(this,arguments)});u.RTCPeerConnection.prototype[A]=E[A]});var w=u.RTCPeerConnection.prototype.addIceCandidate;u.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?g.version<78&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():w.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}}function v(u){o.wrapPeerConnectionEvent(u,"negotiationneeded",function(g){if(g.target.signalingState==="stable")return g})}},{"../utils.js":"iSxC","./getusermedia":"s6SN","./getdisplaymedia":"VHa8"}],NZ1C:[function(t,n,a){Object.defineProperty(a,"__esModule",{value:!0}),a.filterIceServers=f;var o=c(t("../utils"));function i(){if(typeof WeakMap!="function")return null;var d=new WeakMap;return i=function(){return d},d}function c(d){if(d&&d.__esModule)return d;if(d===null||typeof d!="object"&&typeof d!="function")return{default:d};var p=i();if(p&&p.has(d))return p.get(d);var y={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var $ in d)if(Object.prototype.hasOwnProperty.call(d,$)){var h=s?Object.getOwnPropertyDescriptor(d,$):null;h&&(h.get||h.set)?Object.defineProperty(y,$,h):y[$]=d[$]}return y.default=d,p&&p.set(d,y),y}function f(d,p){var y=!1;return(d=JSON.parse(JSON.stringify(d))).filter(function(s){if(s&&(s.urls||s.url)){var $=s.urls||s.url;s.url&&!s.urls&&o.deprecated("RTCIceServer.url","RTCIceServer.urls");var h=typeof $=="string";return h&&($=[$]),$=$.filter(function(S){if(S.indexOf("stun:")===0)return!1;var _=S.startsWith("turn")&&!S.startsWith("turn:[")&&S.includes("transport=udp");return _&&!y?(y=!0,!0):_&&!y}),delete s.url,s.urls=h?$[0]:$,!!$.length}})}},{"../utils":"iSxC"}],YHvh:[function(t,n,a){var o={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};o.localCName=o.generateIdentifier(),o.splitLines=function(i){return i.trim().split(`
`).map(function(c){return c.trim()})},o.splitSections=function(i){return i.split(`
m=`).map(function(c,f){return(f>0?"m="+c:c).trim()+`\r
`})},o.getDescription=function(i){var c=o.splitSections(i);return c&&c[0]},o.getMediaSections=function(i){var c=o.splitSections(i);return c.shift(),c},o.matchPrefix=function(i,c){return o.splitLines(i).filter(function(f){return f.indexOf(c)===0})},o.parseCandidate=function(i){for(var c,f={foundation:(c=i.indexOf("a=candidate:")===0?i.substring(12).split(" "):i.substring(10).split(" "))[0],component:parseInt(c[1],10),protocol:c[2].toLowerCase(),priority:parseInt(c[3],10),ip:c[4],address:c[4],port:parseInt(c[5],10),type:c[7]},d=8;d<c.length;d+=2)switch(c[d]){case"raddr":f.relatedAddress=c[d+1];break;case"rport":f.relatedPort=parseInt(c[d+1],10);break;case"tcptype":f.tcpType=c[d+1];break;case"ufrag":f.ufrag=c[d+1],f.usernameFragment=c[d+1];break;default:f[c[d]]=c[d+1]}return f},o.writeCandidate=function(i){var c=[];c.push(i.foundation),c.push(i.component),c.push(i.protocol.toUpperCase()),c.push(i.priority),c.push(i.address||i.ip),c.push(i.port);var f=i.type;return c.push("typ"),c.push(f),f!=="host"&&i.relatedAddress&&i.relatedPort&&(c.push("raddr"),c.push(i.relatedAddress),c.push("rport"),c.push(i.relatedPort)),i.tcpType&&i.protocol.toLowerCase()==="tcp"&&(c.push("tcptype"),c.push(i.tcpType)),(i.usernameFragment||i.ufrag)&&(c.push("ufrag"),c.push(i.usernameFragment||i.ufrag)),"candidate:"+c.join(" ")},o.parseIceOptions=function(i){return i.substr(14).split(" ")},o.parseRtpMap=function(i){var c=i.substr(9).split(" "),f={payloadType:parseInt(c.shift(),10)};return c=c[0].split("/"),f.name=c[0],f.clockRate=parseInt(c[1],10),f.channels=c.length===3?parseInt(c[2],10):1,f.numChannels=f.channels,f},o.writeRtpMap=function(i){var c=i.payloadType;i.preferredPayloadType!==void 0&&(c=i.preferredPayloadType);var f=i.channels||i.numChannels||1;return"a=rtpmap:"+c+" "+i.name+"/"+i.clockRate+(f!==1?"/"+f:"")+`\r
`},o.parseExtmap=function(i){var c=i.substr(9).split(" ");return{id:parseInt(c[0],10),direction:c[0].indexOf("/")>0?c[0].split("/")[1]:"sendrecv",uri:c[1]}},o.writeExtmap=function(i){return"a=extmap:"+(i.id||i.preferredId)+(i.direction&&i.direction!=="sendrecv"?"/"+i.direction:"")+" "+i.uri+`\r
`},o.parseFmtp=function(i){for(var c,f={},d=i.substr(i.indexOf(" ")+1).split(";"),p=0;p<d.length;p++)f[(c=d[p].trim().split("="))[0].trim()]=c[1];return f},o.writeFmtp=function(i){var c="",f=i.payloadType;if(i.preferredPayloadType!==void 0&&(f=i.preferredPayloadType),i.parameters&&Object.keys(i.parameters).length){var d=[];Object.keys(i.parameters).forEach(function(p){i.parameters[p]?d.push(p+"="+i.parameters[p]):d.push(p)}),c+="a=fmtp:"+f+" "+d.join(";")+`\r
`}return c},o.parseRtcpFb=function(i){var c=i.substr(i.indexOf(" ")+1).split(" ");return{type:c.shift(),parameter:c.join(" ")}},o.writeRtcpFb=function(i){var c="",f=i.payloadType;return i.preferredPayloadType!==void 0&&(f=i.preferredPayloadType),i.rtcpFeedback&&i.rtcpFeedback.length&&i.rtcpFeedback.forEach(function(d){c+="a=rtcp-fb:"+f+" "+d.type+(d.parameter&&d.parameter.length?" "+d.parameter:"")+`\r
`}),c},o.parseSsrcMedia=function(i){var c=i.indexOf(" "),f={ssrc:parseInt(i.substr(7,c-7),10)},d=i.indexOf(":",c);return d>-1?(f.attribute=i.substr(c+1,d-c-1),f.value=i.substr(d+1)):f.attribute=i.substr(c+1),f},o.parseSsrcGroup=function(i){var c=i.substr(13).split(" ");return{semantics:c.shift(),ssrcs:c.map(function(f){return parseInt(f,10)})}},o.getMid=function(i){var c=o.matchPrefix(i,"a=mid:")[0];if(c)return c.substr(6)},o.parseFingerprint=function(i){var c=i.substr(14).split(" ");return{algorithm:c[0].toLowerCase(),value:c[1]}},o.getDtlsParameters=function(i,c){return{role:"auto",fingerprints:o.matchPrefix(i+c,"a=fingerprint:").map(o.parseFingerprint)}},o.writeDtlsParameters=function(i,c){var f="a=setup:"+c+`\r
`;return i.fingerprints.forEach(function(d){f+="a=fingerprint:"+d.algorithm+" "+d.value+`\r
`}),f},o.getIceParameters=function(i,c){var f=o.splitLines(i);return{usernameFragment:(f=f.concat(o.splitLines(c))).filter(function(d){return d.indexOf("a=ice-ufrag:")===0})[0].substr(12),password:f.filter(function(d){return d.indexOf("a=ice-pwd:")===0})[0].substr(10)}},o.writeIceParameters=function(i){return"a=ice-ufrag:"+i.usernameFragment+`\r
a=ice-pwd:`+i.password+`\r
`},o.parseRtpParameters=function(i){for(var c={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},f=o.splitLines(i)[0].split(" "),d=3;d<f.length;d++){var p=f[d],y=o.matchPrefix(i,"a=rtpmap:"+p+" ")[0];if(y){var s=o.parseRtpMap(y),$=o.matchPrefix(i,"a=fmtp:"+p+" ");switch(s.parameters=$.length?o.parseFmtp($[0]):{},s.rtcpFeedback=o.matchPrefix(i,"a=rtcp-fb:"+p+" ").map(o.parseRtcpFb),c.codecs.push(s),s.name.toUpperCase()){case"RED":case"ULPFEC":c.fecMechanisms.push(s.name.toUpperCase())}}}return o.matchPrefix(i,"a=extmap:").forEach(function(h){c.headerExtensions.push(o.parseExtmap(h))}),c},o.writeRtpDescription=function(i,c){var f="";f+="m="+i+" ",f+=c.codecs.length>0?"9":"0",f+=" UDP/TLS/RTP/SAVPF ",f+=c.codecs.map(function(p){return p.preferredPayloadType!==void 0?p.preferredPayloadType:p.payloadType}).join(" ")+`\r
`,f+=`c=IN IP4 0.0.0.0\r
`,f+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,c.codecs.forEach(function(p){f+=o.writeRtpMap(p),f+=o.writeFmtp(p),f+=o.writeRtcpFb(p)});var d=0;return c.codecs.forEach(function(p){p.maxptime>d&&(d=p.maxptime)}),d>0&&(f+="a=maxptime:"+d+`\r
`),f+=`a=rtcp-mux\r
`,c.headerExtensions&&c.headerExtensions.forEach(function(p){f+=o.writeExtmap(p)}),f},o.parseRtpEncodingParameters=function(i){var c,f=[],d=o.parseRtpParameters(i),p=d.fecMechanisms.indexOf("RED")!==-1,y=d.fecMechanisms.indexOf("ULPFEC")!==-1,s=o.matchPrefix(i,"a=ssrc:").map(function(_){return o.parseSsrcMedia(_)}).filter(function(_){return _.attribute==="cname"}),$=s.length>0&&s[0].ssrc,h=o.matchPrefix(i,"a=ssrc-group:FID").map(function(_){return _.substr(17).split(" ").map(function(m){return parseInt(m,10)})});h.length>0&&h[0].length>1&&h[0][0]===$&&(c=h[0][1]),d.codecs.forEach(function(_){if(_.name.toUpperCase()==="RTX"&&_.parameters.apt){var m={ssrc:$,codecPayloadType:parseInt(_.parameters.apt,10)};$&&c&&(m.rtx={ssrc:c}),f.push(m),p&&((m=JSON.parse(JSON.stringify(m))).fec={ssrc:$,mechanism:y?"red+ulpfec":"red"},f.push(m))}}),f.length===0&&$&&f.push({ssrc:$});var S=o.matchPrefix(i,"b=");return S.length&&(S=S[0].indexOf("b=TIAS:")===0?parseInt(S[0].substr(7),10):S[0].indexOf("b=AS:")===0?1e3*parseInt(S[0].substr(5),10)*.95-16e3:void 0,f.forEach(function(_){_.maxBitrate=S})),f},o.parseRtcpParameters=function(i){var c={},f=o.matchPrefix(i,"a=ssrc:").map(function(y){return o.parseSsrcMedia(y)}).filter(function(y){return y.attribute==="cname"})[0];f&&(c.cname=f.value,c.ssrc=f.ssrc);var d=o.matchPrefix(i,"a=rtcp-rsize");c.reducedSize=d.length>0,c.compound=d.length===0;var p=o.matchPrefix(i,"a=rtcp-mux");return c.mux=p.length>0,c},o.parseMsid=function(i){var c,f=o.matchPrefix(i,"a=msid:");if(f.length===1)return{stream:(c=f[0].substr(7).split(" "))[0],track:c[1]};var d=o.matchPrefix(i,"a=ssrc:").map(function(p){return o.parseSsrcMedia(p)}).filter(function(p){return p.attribute==="msid"});return d.length>0?{stream:(c=d[0].value.split(" "))[0],track:c[1]}:void 0},o.parseSctpDescription=function(i){var c,f=o.parseMLine(i),d=o.matchPrefix(i,"a=max-message-size:");d.length>0&&(c=parseInt(d[0].substr(19),10)),isNaN(c)&&(c=65536);var p=o.matchPrefix(i,"a=sctp-port:");if(p.length>0)return{port:parseInt(p[0].substr(12),10),protocol:f.fmt,maxMessageSize:c};if(o.matchPrefix(i,"a=sctpmap:").length>0){var y=o.matchPrefix(i,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(y[0],10),protocol:y[1],maxMessageSize:c}}},o.writeSctpDescription=function(i,c){var f=[];return f=i.protocol!=="DTLS/SCTP"?["m="+i.kind+" 9 "+i.protocol+" "+c.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+c.port+`\r
`]:["m="+i.kind+" 9 "+i.protocol+" "+c.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+c.port+" "+c.protocol+` 65535\r
`],c.maxMessageSize!==void 0&&f.push("a=max-message-size:"+c.maxMessageSize+`\r
`),f.join("")},o.generateSessionId=function(){return Math.random().toString().substr(2,21)},o.writeSessionBoilerplate=function(i,c,f){var d=c!==void 0?c:2;return`v=0\r
o=`+(f||"thisisadapterortc")+" "+(i||o.generateSessionId())+" "+d+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},o.writeMediaSection=function(i,c,f,d){var p=o.writeRtpDescription(i.kind,c);if(p+=o.writeIceParameters(i.iceGatherer.getLocalParameters()),p+=o.writeDtlsParameters(i.dtlsTransport.getLocalParameters(),f==="offer"?"actpass":"active"),p+="a=mid:"+i.mid+`\r
`,i.direction?p+="a="+i.direction+`\r
`:i.rtpSender&&i.rtpReceiver?p+=`a=sendrecv\r
`:i.rtpSender?p+=`a=sendonly\r
`:i.rtpReceiver?p+=`a=recvonly\r
`:p+=`a=inactive\r
`,i.rtpSender){var y="msid:"+d.id+" "+i.rtpSender.track.id+`\r
`;p+="a="+y,p+="a=ssrc:"+i.sendEncodingParameters[0].ssrc+" "+y,i.sendEncodingParameters[0].rtx&&(p+="a=ssrc:"+i.sendEncodingParameters[0].rtx.ssrc+" "+y,p+="a=ssrc-group:FID "+i.sendEncodingParameters[0].ssrc+" "+i.sendEncodingParameters[0].rtx.ssrc+`\r
`)}return p+="a=ssrc:"+i.sendEncodingParameters[0].ssrc+" cname:"+o.localCName+`\r
`,i.rtpSender&&i.sendEncodingParameters[0].rtx&&(p+="a=ssrc:"+i.sendEncodingParameters[0].rtx.ssrc+" cname:"+o.localCName+`\r
`),p},o.getDirection=function(i,c){for(var f=o.splitLines(i),d=0;d<f.length;d++)switch(f[d]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return f[d].substr(2)}return c?o.getDirection(c):"sendrecv"},o.getKind=function(i){return o.splitLines(i)[0].split(" ")[0].substr(2)},o.isRejected=function(i){return i.split(" ",2)[1]==="0"},o.parseMLine=function(i){var c=o.splitLines(i)[0].substr(2).split(" ");return{kind:c[0],port:parseInt(c[1],10),protocol:c[2],fmt:c.slice(3).join(" ")}},o.parseOLine=function(i){var c=o.matchPrefix(i,"o=")[0].substr(2).split(" ");return{username:c[0],sessionId:c[1],sessionVersion:parseInt(c[2],10),netType:c[3],addressType:c[4],address:c[5]}},o.isValidSDP=function(i){if(typeof i!="string"||i.length===0)return!1;for(var c=o.splitLines(i),f=0;f<c.length;f++)if(c[f].length<2||c[f].charAt(1)!=="=")return!1;return!0},typeof n=="object"&&(n.exports=o)},{}],NJ2u:[function(t,n,a){var o=t("sdp");function i($){return{inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[$.type]||$.type}function c($,h,S,_,m){var b=o.writeRtpDescription($.kind,h);if(b+=o.writeIceParameters($.iceGatherer.getLocalParameters()),b+=o.writeDtlsParameters($.dtlsTransport.getLocalParameters(),S==="offer"?"actpass":m||"active"),b+="a=mid:"+$.mid+`\r
`,$.rtpSender&&$.rtpReceiver?b+=`a=sendrecv\r
`:$.rtpSender?b+=`a=sendonly\r
`:$.rtpReceiver?b+=`a=recvonly\r
`:b+=`a=inactive\r
`,$.rtpSender){var l=$.rtpSender._initialTrackId||$.rtpSender.track.id;$.rtpSender._initialTrackId=l;var v="msid:"+(_?_.id:"-")+" "+l+`\r
`;b+="a="+v,b+="a=ssrc:"+$.sendEncodingParameters[0].ssrc+" "+v,$.sendEncodingParameters[0].rtx&&(b+="a=ssrc:"+$.sendEncodingParameters[0].rtx.ssrc+" "+v,b+="a=ssrc-group:FID "+$.sendEncodingParameters[0].ssrc+" "+$.sendEncodingParameters[0].rtx.ssrc+`\r
`)}return b+="a=ssrc:"+$.sendEncodingParameters[0].ssrc+" cname:"+o.localCName+`\r
`,$.rtpSender&&$.sendEncodingParameters[0].rtx&&(b+="a=ssrc:"+$.sendEncodingParameters[0].rtx.ssrc+" cname:"+o.localCName+`\r
`),b}function f($,h){var S=!1;return($=JSON.parse(JSON.stringify($))).filter(function(_){if(_&&(_.urls||_.url)){var m=_.urls||_.url;_.url&&!_.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var b=typeof m=="string";return b&&(m=[m]),m=m.filter(function(l){return l.indexOf("turn:")===0&&l.indexOf("transport=udp")!==-1&&l.indexOf("turn:[")===-1&&!S?(S=!0,!0):l.indexOf("stun:")===0&&h>=14393&&l.indexOf("?transport=udp")===-1}),delete _.url,_.urls=b?m[0]:m,!!m.length}})}function d($,h){var S={codecs:[],headerExtensions:[],fecMechanisms:[]},_=function(b,l){b=parseInt(b,10);for(var v=0;v<l.length;v++)if(l[v].payloadType===b||l[v].preferredPayloadType===b)return l[v]},m=function(b,l,v,u){var g=_(b.parameters.apt,v),w=_(l.parameters.apt,u);return g&&w&&g.name.toLowerCase()===w.name.toLowerCase()};return $.codecs.forEach(function(b){for(var l=0;l<h.codecs.length;l++){var v=h.codecs[l];if(b.name.toLowerCase()===v.name.toLowerCase()&&b.clockRate===v.clockRate){if(b.name.toLowerCase()==="rtx"&&b.parameters&&v.parameters.apt&&!m(b,v,$.codecs,h.codecs))continue;(v=JSON.parse(JSON.stringify(v))).numChannels=Math.min(b.numChannels,v.numChannels),S.codecs.push(v),v.rtcpFeedback=v.rtcpFeedback.filter(function(u){for(var g=0;g<b.rtcpFeedback.length;g++)if(b.rtcpFeedback[g].type===u.type&&b.rtcpFeedback[g].parameter===u.parameter)return!0;return!1});break}}}),$.headerExtensions.forEach(function(b){for(var l=0;l<h.headerExtensions.length;l++){var v=h.headerExtensions[l];if(b.uri===v.uri){S.headerExtensions.push(v);break}}}),S}function p($,h,S){return{offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[h][$].indexOf(S)!==-1}function y($,h){var S=$.getRemoteCandidates().find(function(_){return h.foundation===_.foundation&&h.ip===_.ip&&h.port===_.port&&h.priority===_.priority&&h.protocol===_.protocol&&h.type===_.type});return S||$.addRemoteCandidate(h),!S}function s($,h){var S=new Error(h);return S.name=$,S.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[$],S}n.exports=function($,h){function S(l,v){v.addTrack(l),v.dispatchEvent(new $.MediaStreamTrackEvent("addtrack",{track:l}))}function _(l,v,u,g){var w=new Event("track");w.track=v,w.receiver=u,w.transceiver={receiver:u},w.streams=g,$.setTimeout(function(){l._dispatchEvent("track",w)})}var m=function(l){var v=this,u=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(w){v[w]=u[w].bind(u)}),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",l=JSON.parse(JSON.stringify(l||{})),this.usingBundle=l.bundlePolicy==="max-bundle",l.rtcpMuxPolicy==="negotiate")throw s("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(l.rtcpMuxPolicy||(l.rtcpMuxPolicy="require"),l.iceTransportPolicy){case"all":case"relay":break;default:l.iceTransportPolicy="all"}switch(l.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:l.bundlePolicy="balanced"}if(l.iceServers=f(l.iceServers||[],h),this._iceGatherers=[],l.iceCandidatePoolSize)for(var g=l.iceCandidatePoolSize;g>0;g--)this._iceGatherers.push(new $.RTCIceGatherer({iceServers:l.iceServers,gatherPolicy:l.iceTransportPolicy}));else l.iceCandidatePoolSize=0;this._config=l,this.transceivers=[],this._sdpSessionId=o.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(m.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(m.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),m.prototype.onicecandidate=null,m.prototype.onaddstream=null,m.prototype.ontrack=null,m.prototype.onremovestream=null,m.prototype.onsignalingstatechange=null,m.prototype.oniceconnectionstatechange=null,m.prototype.onconnectionstatechange=null,m.prototype.onicegatheringstatechange=null,m.prototype.onnegotiationneeded=null,m.prototype.ondatachannel=null,m.prototype._dispatchEvent=function(l,v){this._isClosed||(this.dispatchEvent(v),typeof this["on"+l]=="function"&&this["on"+l](v))},m.prototype._emitGatheringStateChange=function(){var l=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",l)},m.prototype.getConfiguration=function(){return this._config},m.prototype.getLocalStreams=function(){return this.localStreams},m.prototype.getRemoteStreams=function(){return this.remoteStreams},m.prototype._createTransceiver=function(l,v){var u=this.transceivers.length>0,g={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:l,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&u)g.iceTransport=this.transceivers[0].iceTransport,g.dtlsTransport=this.transceivers[0].dtlsTransport;else{var w=this._createIceAndDtlsTransports();g.iceTransport=w.iceTransport,g.dtlsTransport=w.dtlsTransport}return v||this.transceivers.push(g),g},m.prototype.addTrack=function(l,v){if(this._isClosed)throw s("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var u;if(this.transceivers.find(function(w){return w.track===l}))throw s("InvalidAccessError","Track already exists.");for(var g=0;g<this.transceivers.length;g++)this.transceivers[g].track||this.transceivers[g].kind!==l.kind||(u=this.transceivers[g]);return u||(u=this._createTransceiver(l.kind)),this._maybeFireNegotiationNeeded(),this.localStreams.indexOf(v)===-1&&this.localStreams.push(v),u.track=l,u.stream=v,u.rtpSender=new $.RTCRtpSender(l,u.dtlsTransport),u.rtpSender},m.prototype.addStream=function(l){var v=this;if(h>=15025)l.getTracks().forEach(function(g){v.addTrack(g,l)});else{var u=l.clone();l.getTracks().forEach(function(g,w){var A=u.getTracks()[w];g.addEventListener("enabled",function(P){A.enabled=P.enabled})}),u.getTracks().forEach(function(g){v.addTrack(g,u)})}},m.prototype.removeTrack=function(l){if(this._isClosed)throw s("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(l instanceof $.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var v=this.transceivers.find(function(g){return g.rtpSender===l});if(!v)throw s("InvalidAccessError","Sender was not created by this connection.");var u=v.stream;v.rtpSender.stop(),v.rtpSender=null,v.track=null,v.stream=null,this.transceivers.map(function(g){return g.stream}).indexOf(u)===-1&&this.localStreams.indexOf(u)>-1&&this.localStreams.splice(this.localStreams.indexOf(u),1),this._maybeFireNegotiationNeeded()},m.prototype.removeStream=function(l){var v=this;l.getTracks().forEach(function(u){var g=v.getSenders().find(function(w){return w.track===u});g&&v.removeTrack(g)})},m.prototype.getSenders=function(){return this.transceivers.filter(function(l){return!!l.rtpSender}).map(function(l){return l.rtpSender})},m.prototype.getReceivers=function(){return this.transceivers.filter(function(l){return!!l.rtpReceiver}).map(function(l){return l.rtpReceiver})},m.prototype._createIceGatherer=function(l,v){var u=this;if(v&&l>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var g=new $.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(g,"state",{value:"new",writable:!0}),this.transceivers[l].bufferedCandidateEvents=[],this.transceivers[l].bufferCandidates=function(w){var A=!w.candidate||Object.keys(w.candidate).length===0;g.state=A?"completed":"gathering",u.transceivers[l].bufferedCandidateEvents!==null&&u.transceivers[l].bufferedCandidateEvents.push(w)},g.addEventListener("localcandidate",this.transceivers[l].bufferCandidates),g},m.prototype._gather=function(l,v){var u=this,g=this.transceivers[v].iceGatherer;if(!g.onlocalcandidate){var w=this.transceivers[v].bufferedCandidateEvents;this.transceivers[v].bufferedCandidateEvents=null,g.removeEventListener("localcandidate",this.transceivers[v].bufferCandidates),g.onlocalcandidate=function(A){if(!(u.usingBundle&&v>0)){var P=new Event("icecandidate");P.candidate={sdpMid:l,sdpMLineIndex:v};var E=A.candidate,R=!E||Object.keys(E).length===0;if(R)g.state!=="new"&&g.state!=="gathering"||(g.state="completed");else{g.state==="new"&&(g.state="gathering"),E.component=1,E.ufrag=g.getLocalParameters().usernameFragment;var B=o.writeCandidate(E);P.candidate=Object.assign(P.candidate,o.parseCandidate(B)),P.candidate.candidate=B,P.candidate.toJSON=function(){return{candidate:P.candidate.candidate,sdpMid:P.candidate.sdpMid,sdpMLineIndex:P.candidate.sdpMLineIndex,usernameFragment:P.candidate.usernameFragment}}}var D=o.getMediaSections(u._localDescription.sdp);D[P.candidate.sdpMLineIndex]+=R?`a=end-of-candidates\r
`:"a="+P.candidate.candidate+`\r
`,u._localDescription.sdp=o.getDescription(u._localDescription.sdp)+D.join("");var O=u.transceivers.every(function(I){return I.iceGatherer&&I.iceGatherer.state==="completed"});u.iceGatheringState!=="gathering"&&(u.iceGatheringState="gathering",u._emitGatheringStateChange()),R||u._dispatchEvent("icecandidate",P),O&&(u._dispatchEvent("icecandidate",new Event("icecandidate")),u.iceGatheringState="complete",u._emitGatheringStateChange())}},$.setTimeout(function(){w.forEach(function(A){g.onlocalcandidate(A)})},0)}},m.prototype._createIceAndDtlsTransports=function(){var l=this,v=new $.RTCIceTransport(null);v.onicestatechange=function(){l._updateIceConnectionState(),l._updateConnectionState()};var u=new $.RTCDtlsTransport(v);return u.ondtlsstatechange=function(){l._updateConnectionState()},u.onerror=function(){Object.defineProperty(u,"state",{value:"failed",writable:!0}),l._updateConnectionState()},{iceTransport:v,dtlsTransport:u}},m.prototype._disposeIceAndDtlsTransports=function(l){var v=this.transceivers[l].iceGatherer;v&&(delete v.onlocalcandidate,delete this.transceivers[l].iceGatherer);var u=this.transceivers[l].iceTransport;u&&(delete u.onicestatechange,delete this.transceivers[l].iceTransport);var g=this.transceivers[l].dtlsTransport;g&&(delete g.ondtlsstatechange,delete g.onerror,delete this.transceivers[l].dtlsTransport)},m.prototype._transceive=function(l,v,u){var g=d(l.localCapabilities,l.remoteCapabilities);v&&l.rtpSender&&(g.encodings=l.sendEncodingParameters,g.rtcp={cname:o.localCName,compound:l.rtcpParameters.compound},l.recvEncodingParameters.length&&(g.rtcp.ssrc=l.recvEncodingParameters[0].ssrc),l.rtpSender.send(g)),u&&l.rtpReceiver&&g.codecs.length>0&&(l.kind==="video"&&l.recvEncodingParameters&&h<15019&&l.recvEncodingParameters.forEach(function(w){delete w.rtx}),l.recvEncodingParameters.length?g.encodings=l.recvEncodingParameters:g.encodings=[{}],g.rtcp={compound:l.rtcpParameters.compound},l.rtcpParameters.cname&&(g.rtcp.cname=l.rtcpParameters.cname),l.sendEncodingParameters.length&&(g.rtcp.ssrc=l.sendEncodingParameters[0].ssrc),l.rtpReceiver.receive(g))},m.prototype.setLocalDescription=function(l){var v,u,g=this;if(["offer","answer"].indexOf(l.type)===-1)return Promise.reject(s("TypeError",'Unsupported type "'+l.type+'"'));if(!p("setLocalDescription",l.type,g.signalingState)||g._isClosed)return Promise.reject(s("InvalidStateError","Can not set local "+l.type+" in state "+g.signalingState));if(l.type==="offer")v=o.splitSections(l.sdp),u=v.shift(),v.forEach(function(A,P){var E=o.parseRtpParameters(A);g.transceivers[P].localCapabilities=E}),g.transceivers.forEach(function(A,P){g._gather(A.mid,P)});else if(l.type==="answer"){v=o.splitSections(g._remoteDescription.sdp),u=v.shift();var w=o.matchPrefix(u,"a=ice-lite").length>0;v.forEach(function(A,P){var E=g.transceivers[P],R=E.iceGatherer,B=E.iceTransport,D=E.dtlsTransport,O=E.localCapabilities,I=E.remoteCapabilities;if(!(o.isRejected(A)&&o.matchPrefix(A,"a=bundle-only").length===0)&&!E.rejected){var F=o.getIceParameters(A,u),W=o.getDtlsParameters(A,u);w&&(W.role="server"),g.usingBundle&&P!==0||(g._gather(E.mid,P),B.state==="new"&&B.start(R,F,w?"controlling":"controlled"),D.state==="new"&&D.start(W));var re=d(O,I);g._transceive(E,re.codecs.length>0,!1)}})}return g._localDescription={type:l.type,sdp:l.sdp},l.type==="offer"?g._updateSignalingState("have-local-offer"):g._updateSignalingState("stable"),Promise.resolve()},m.prototype.setRemoteDescription=function(l){var v=this;if(["offer","answer"].indexOf(l.type)===-1)return Promise.reject(s("TypeError",'Unsupported type "'+l.type+'"'));if(!p("setRemoteDescription",l.type,v.signalingState)||v._isClosed)return Promise.reject(s("InvalidStateError","Can not set remote "+l.type+" in state "+v.signalingState));var u={};v.remoteStreams.forEach(function(B){u[B.id]=B});var g=[],w=o.splitSections(l.sdp),A=w.shift(),P=o.matchPrefix(A,"a=ice-lite").length>0,E=o.matchPrefix(A,"a=group:BUNDLE ").length>0;v.usingBundle=E;var R=o.matchPrefix(A,"a=ice-options:")[0];return v.canTrickleIceCandidates=!!R&&R.substr(14).split(" ").indexOf("trickle")>=0,w.forEach(function(B,D){var O=o.splitLines(B),I=o.getKind(B),F=o.isRejected(B)&&o.matchPrefix(B,"a=bundle-only").length===0,W=O[0].substr(2).split(" ")[2],re=o.getDirection(B,A),ie=o.parseMsid(B),Ge=o.getMid(B)||o.generateIdentifier();if(F||I==="application"&&(W==="DTLS/SCTP"||W==="UDP/DTLS/SCTP"))v.transceivers[D]={mid:Ge,kind:I,protocol:W,rejected:!0};else{var N,ur,je,Ye,pe,br,gr,Xe,Ce;!F&&v.transceivers[D]&&v.transceivers[D].rejected&&(v.transceivers[D]=v._createTransceiver(I,!0));var Mr,Or,Lr=o.parseRtpParameters(B);F||(Mr=o.getIceParameters(B,A),(Or=o.getDtlsParameters(B,A)).role="client"),gr=o.parseRtpEncodingParameters(B);var Ir=o.parseRtcpParameters(B),Fr=o.matchPrefix(B,"a=end-of-candidates",A).length>0,ze=o.matchPrefix(B,"a=candidate:").map(function(le){return o.parseCandidate(le)}).filter(function(le){return le.component===1});if((l.type==="offer"||l.type==="answer")&&!F&&E&&D>0&&v.transceivers[D]&&(v._disposeIceAndDtlsTransports(D),v.transceivers[D].iceGatherer=v.transceivers[0].iceGatherer,v.transceivers[D].iceTransport=v.transceivers[0].iceTransport,v.transceivers[D].dtlsTransport=v.transceivers[0].dtlsTransport,v.transceivers[D].rtpSender&&v.transceivers[D].rtpSender.setTransport(v.transceivers[0].dtlsTransport),v.transceivers[D].rtpReceiver&&v.transceivers[D].rtpReceiver.setTransport(v.transceivers[0].dtlsTransport)),l.type!=="offer"||F)l.type==="answer"&&!F&&(ur=(N=v.transceivers[D]).iceGatherer,je=N.iceTransport,Ye=N.dtlsTransport,pe=N.rtpReceiver,br=N.sendEncodingParameters,Xe=N.localCapabilities,v.transceivers[D].recvEncodingParameters=gr,v.transceivers[D].remoteCapabilities=Lr,v.transceivers[D].rtcpParameters=Ir,ze.length&&je.state==="new"&&(!P&&!Fr||E&&D!==0?ze.forEach(function(le){y(N.iceTransport,le)}):je.setRemoteCandidates(ze)),E&&D!==0||(je.state==="new"&&je.start(ur,Mr,"controlling"),Ye.state==="new"&&Ye.start(Or)),!d(N.localCapabilities,N.remoteCapabilities).codecs.filter(function(le){return le.name.toLowerCase()==="rtx"}).length&&N.sendEncodingParameters[0].rtx&&delete N.sendEncodingParameters[0].rtx,v._transceive(N,re==="sendrecv"||re==="recvonly",re==="sendrecv"||re==="sendonly"),!pe||re!=="sendrecv"&&re!=="sendonly"?delete N.rtpReceiver:(Ce=pe.track,ie?(u[ie.stream]||(u[ie.stream]=new $.MediaStream),S(Ce,u[ie.stream]),g.push([Ce,pe,u[ie.stream]])):(u.default||(u.default=new $.MediaStream),S(Ce,u.default),g.push([Ce,pe,u.default]))));else{(N=v.transceivers[D]||v._createTransceiver(I)).mid=Ge,N.iceGatherer||(N.iceGatherer=v._createIceGatherer(D,E)),ze.length&&N.iceTransport.state==="new"&&(!Fr||E&&D!==0?ze.forEach(function(le){y(N.iceTransport,le)}):N.iceTransport.setRemoteCandidates(ze)),Xe=$.RTCRtpReceiver.getCapabilities(I),h<15019&&(Xe.codecs=Xe.codecs.filter(function(le){return le.name!=="rtx"})),br=N.sendEncodingParameters||[{ssrc:1001*(2*D+2)}];var We,xr=!1;re==="sendrecv"||re==="sendonly"?(xr=!N.rtpReceiver,pe=N.rtpReceiver||new $.RTCRtpReceiver(N.dtlsTransport,I),xr&&(Ce=pe.track,ie&&ie.stream==="-"||(ie?(u[ie.stream]||(u[ie.stream]=new $.MediaStream,Object.defineProperty(u[ie.stream],"id",{get:function(){return ie.stream}})),Object.defineProperty(Ce,"id",{get:function(){return ie.track}}),We=u[ie.stream]):(u.default||(u.default=new $.MediaStream),We=u.default)),We&&(S(Ce,We),N.associatedRemoteMediaStreams.push(We)),g.push([Ce,pe,We]))):N.rtpReceiver&&N.rtpReceiver.track&&(N.associatedRemoteMediaStreams.forEach(function(le){var sr,gt,Ur=le.getTracks().find(function(Xr){return Xr.id===N.rtpReceiver.track.id});Ur&&(sr=Ur,(gt=le).removeTrack(sr),gt.dispatchEvent(new $.MediaStreamTrackEvent("removetrack",{track:sr})))}),N.associatedRemoteMediaStreams=[]),N.localCapabilities=Xe,N.remoteCapabilities=Lr,N.rtpReceiver=pe,N.rtcpParameters=Ir,N.sendEncodingParameters=br,N.recvEncodingParameters=gr,v._transceive(v.transceivers[D],!1,xr)}}}),v._dtlsRole===void 0&&(v._dtlsRole=l.type==="offer"?"active":"passive"),v._remoteDescription={type:l.type,sdp:l.sdp},l.type==="offer"?v._updateSignalingState("have-remote-offer"):v._updateSignalingState("stable"),Object.keys(u).forEach(function(B){var D=u[B];if(D.getTracks().length){if(v.remoteStreams.indexOf(D)===-1){v.remoteStreams.push(D);var O=new Event("addstream");O.stream=D,$.setTimeout(function(){v._dispatchEvent("addstream",O)})}g.forEach(function(I){var F=I[0],W=I[1];D.id===I[2].id&&_(v,F,W,[D])})}}),g.forEach(function(B){B[2]||_(v,B[0],B[1],[])}),$.setTimeout(function(){v&&v.transceivers&&v.transceivers.forEach(function(B){B.iceTransport&&B.iceTransport.state==="new"&&B.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),B.iceTransport.addRemoteCandidate({}))})},4e3),Promise.resolve()},m.prototype.close=function(){this.transceivers.forEach(function(l){l.iceTransport&&l.iceTransport.stop(),l.dtlsTransport&&l.dtlsTransport.stop(),l.rtpSender&&l.rtpSender.stop(),l.rtpReceiver&&l.rtpReceiver.stop()}),this._isClosed=!0,this._updateSignalingState("closed")},m.prototype._updateSignalingState=function(l){this.signalingState=l;var v=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",v)},m.prototype._maybeFireNegotiationNeeded=function(){var l=this;this.signalingState==="stable"&&this.needNegotiation!==!0&&(this.needNegotiation=!0,$.setTimeout(function(){if(l.needNegotiation){l.needNegotiation=!1;var v=new Event("negotiationneeded");l._dispatchEvent("negotiationneeded",v)}},0))},m.prototype._updateIceConnectionState=function(){var l,v={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(g){g.iceTransport&&!g.rejected&&v[g.iceTransport.state]++}),l="new",v.failed>0?l="failed":v.checking>0?l="checking":v.disconnected>0?l="disconnected":v.new>0?l="new":v.connected>0?l="connected":v.completed>0&&(l="completed"),l!==this.iceConnectionState){this.iceConnectionState=l;var u=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",u)}},m.prototype._updateConnectionState=function(){var l,v={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(g){g.iceTransport&&g.dtlsTransport&&!g.rejected&&(v[g.iceTransport.state]++,v[g.dtlsTransport.state]++)}),v.connected+=v.completed,l="new",v.failed>0?l="failed":v.connecting>0?l="connecting":v.disconnected>0?l="disconnected":v.new>0?l="new":v.connected>0&&(l="connected"),l!==this.connectionState){this.connectionState=l;var u=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",u)}},m.prototype.createOffer=function(){var l=this;if(l._isClosed)return Promise.reject(s("InvalidStateError","Can not call createOffer after close"));var v=l.transceivers.filter(function(P){return P.kind==="audio"}).length,u=l.transceivers.filter(function(P){return P.kind==="video"}).length,g=arguments[0];if(g){if(g.mandatory||g.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");g.offerToReceiveAudio!==void 0&&(v=g.offerToReceiveAudio===!0?1:g.offerToReceiveAudio===!1?0:g.offerToReceiveAudio),g.offerToReceiveVideo!==void 0&&(u=g.offerToReceiveVideo===!0?1:g.offerToReceiveVideo===!1?0:g.offerToReceiveVideo)}for(l.transceivers.forEach(function(P){P.kind==="audio"?--v<0&&(P.wantReceive=!1):P.kind==="video"&&--u<0&&(P.wantReceive=!1)});v>0||u>0;)v>0&&(l._createTransceiver("audio"),v--),u>0&&(l._createTransceiver("video"),u--);var w=o.writeSessionBoilerplate(l._sdpSessionId,l._sdpSessionVersion++);l.transceivers.forEach(function(P,E){var R=P.track,B=P.kind,D=P.mid||o.generateIdentifier();P.mid=D,P.iceGatherer||(P.iceGatherer=l._createIceGatherer(E,l.usingBundle));var O=$.RTCRtpSender.getCapabilities(B);h<15019&&(O.codecs=O.codecs.filter(function(F){return F.name!=="rtx"})),O.codecs.forEach(function(F){F.name==="H264"&&F.parameters["level-asymmetry-allowed"]===void 0&&(F.parameters["level-asymmetry-allowed"]="1"),P.remoteCapabilities&&P.remoteCapabilities.codecs&&P.remoteCapabilities.codecs.forEach(function(W){F.name.toLowerCase()===W.name.toLowerCase()&&F.clockRate===W.clockRate&&(F.preferredPayloadType=W.payloadType)})}),O.headerExtensions.forEach(function(F){(P.remoteCapabilities&&P.remoteCapabilities.headerExtensions||[]).forEach(function(W){F.uri===W.uri&&(F.id=W.id)})});var I=P.sendEncodingParameters||[{ssrc:1001*(2*E+1)}];R&&h>=15019&&B==="video"&&!I[0].rtx&&(I[0].rtx={ssrc:I[0].ssrc+1}),P.wantReceive&&(P.rtpReceiver=new $.RTCRtpReceiver(P.dtlsTransport,B)),P.localCapabilities=O,P.sendEncodingParameters=I}),l._config.bundlePolicy!=="max-compat"&&(w+="a=group:BUNDLE "+l.transceivers.map(function(P){return P.mid}).join(" ")+`\r
`),w+=`a=ice-options:trickle\r
`,l.transceivers.forEach(function(P,E){w+=c(P,P.localCapabilities,"offer",P.stream,l._dtlsRole),w+=`a=rtcp-rsize\r
`,!P.iceGatherer||l.iceGatheringState==="new"||E!==0&&l.usingBundle||(P.iceGatherer.getLocalCandidates().forEach(function(R){R.component=1,w+="a="+o.writeCandidate(R)+`\r
`}),P.iceGatherer.state==="completed"&&(w+=`a=end-of-candidates\r
`))});var A=new $.RTCSessionDescription({type:"offer",sdp:w});return Promise.resolve(A)},m.prototype.createAnswer=function(){var l=this;if(l._isClosed)return Promise.reject(s("InvalidStateError","Can not call createAnswer after close"));if(l.signalingState!=="have-remote-offer"&&l.signalingState!=="have-local-pranswer")return Promise.reject(s("InvalidStateError","Can not call createAnswer in signalingState "+l.signalingState));var v=o.writeSessionBoilerplate(l._sdpSessionId,l._sdpSessionVersion++);l.usingBundle&&(v+="a=group:BUNDLE "+l.transceivers.map(function(w){return w.mid}).join(" ")+`\r
`),v+=`a=ice-options:trickle\r
`;var u=o.getMediaSections(l._remoteDescription.sdp).length;l.transceivers.forEach(function(w,A){if(!(A+1>u)){if(w.rejected)return w.kind==="application"?w.protocol==="DTLS/SCTP"?v+=`m=application 0 DTLS/SCTP 5000\r
`:v+="m=application 0 "+w.protocol+` webrtc-datachannel\r
`:w.kind==="audio"?v+=`m=audio 0 UDP/TLS/RTP/SAVPF 0\r
a=rtpmap:0 PCMU/8000\r
`:w.kind==="video"&&(v+=`m=video 0 UDP/TLS/RTP/SAVPF 120\r
a=rtpmap:120 VP8/90000\r
`),void(v+=`c=IN IP4 0.0.0.0\r
a=inactive\r
a=mid:`+w.mid+`\r
`);var P;w.stream&&(w.kind==="audio"?P=w.stream.getAudioTracks()[0]:w.kind==="video"&&(P=w.stream.getVideoTracks()[0]),P&&h>=15019&&w.kind==="video"&&!w.sendEncodingParameters[0].rtx&&(w.sendEncodingParameters[0].rtx={ssrc:w.sendEncodingParameters[0].ssrc+1}));var E=d(w.localCapabilities,w.remoteCapabilities);!E.codecs.filter(function(R){return R.name.toLowerCase()==="rtx"}).length&&w.sendEncodingParameters[0].rtx&&delete w.sendEncodingParameters[0].rtx,v+=c(w,E,"answer",w.stream,l._dtlsRole),w.rtcpParameters&&w.rtcpParameters.reducedSize&&(v+=`a=rtcp-rsize\r
`)}});var g=new $.RTCSessionDescription({type:"answer",sdp:v});return Promise.resolve(g)},m.prototype.addIceCandidate=function(l){var v,u=this;return l&&l.sdpMLineIndex===void 0&&!l.sdpMid?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise(function(g,w){if(!u._remoteDescription)return w(s("InvalidStateError","Can not add ICE candidate without a remote description"));if(l&&l.candidate!==""){var A=l.sdpMLineIndex;if(l.sdpMid){for(var P=0;P<u.transceivers.length;P++)if(u.transceivers[P].mid===l.sdpMid){A=P;break}}var E=u.transceivers[A];if(!E)return w(s("OperationError","Can not add ICE candidate"));if(E.rejected)return g();var R=Object.keys(l.candidate).length>0?o.parseCandidate(l.candidate):{};if(R.protocol==="tcp"&&(R.port===0||R.port===9)||R.component&&R.component!==1)return g();if((A===0||A>0&&E.iceTransport!==u.transceivers[0].iceTransport)&&!y(E.iceTransport,R))return w(s("OperationError","Can not add ICE candidate"));var B=l.candidate.trim();B.indexOf("a=")===0&&(B=B.substr(2)),(v=o.getMediaSections(u._remoteDescription.sdp))[A]+="a="+(R.type?B:"end-of-candidates")+`\r
`,u._remoteDescription.sdp=o.getDescription(u._remoteDescription.sdp)+v.join("")}else for(var D=0;D<u.transceivers.length&&(u.transceivers[D].rejected||(u.transceivers[D].iceTransport.addRemoteCandidate({}),(v=o.getMediaSections(u._remoteDescription.sdp))[D]+=`a=end-of-candidates\r
`,u._remoteDescription.sdp=o.getDescription(u._remoteDescription.sdp)+v.join(""),!u.usingBundle));D++);g()})},m.prototype.getStats=function(l){if(l&&l instanceof $.MediaStreamTrack){var v=null;if(this.transceivers.forEach(function(g){g.rtpSender&&g.rtpSender.track===l?v=g.rtpSender:g.rtpReceiver&&g.rtpReceiver.track===l&&(v=g.rtpReceiver)}),!v)throw s("InvalidAccessError","Invalid selector.");return v.getStats()}var u=[];return this.transceivers.forEach(function(g){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(w){g[w]&&u.push(g[w].getStats())})}),Promise.all(u).then(function(g){var w=new Map;return g.forEach(function(A){A.forEach(function(P){w.set(P.id,P)})}),w})},["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"].forEach(function(l){var v=$[l];if(v&&v.prototype&&v.prototype.getStats){var u=v.prototype.getStats;v.prototype.getStats=function(){return u.apply(this).then(function(g){var w=new Map;return Object.keys(g).forEach(function(A){g[A].type=i(g[A]),w.set(A,g[A])}),w})}}});var b=["createOffer","createAnswer"];return b.forEach(function(l){var v=m.prototype[l];m.prototype[l]=function(){var u=arguments;return typeof u[0]=="function"||typeof u[1]=="function"?v.apply(this,[arguments[2]]).then(function(g){typeof u[0]=="function"&&u[0].apply(null,[g])},function(g){typeof u[1]=="function"&&u[1].apply(null,[g])}):v.apply(this,arguments)}}),(b=["setLocalDescription","setRemoteDescription","addIceCandidate"]).forEach(function(l){var v=m.prototype[l];m.prototype[l]=function(){var u=arguments;return typeof u[1]=="function"||typeof u[2]=="function"?v.apply(this,arguments).then(function(){typeof u[1]=="function"&&u[1].apply(null)},function(g){typeof u[2]=="function"&&u[2].apply(null,[g])}):v.apply(this,arguments)}}),["getStats"].forEach(function(l){var v=m.prototype[l];m.prototype[l]=function(){var u=arguments;return typeof u[1]=="function"?v.apply(this,arguments).then(function(){typeof u[1]=="function"&&u[1].apply(null)}):v.apply(this,arguments)}}),m}},{sdp:"YHvh"}],YdKx:[function(t,n,a){function o(i){var c=i&&i.navigator,f=c.mediaDevices.getUserMedia.bind(c.mediaDevices);c.mediaDevices.getUserMedia=function(d){return f(d).catch(function(p){return Promise.reject(function(y){return{name:{PermissionDeniedError:"NotAllowedError"}[y.name]||y.name,message:y.message,constraint:y.constraint,toString:function(){return this.name}}}(p))})}}Object.defineProperty(a,"__esModule",{value:!0}),a.shimGetUserMedia=o},{}],P3bV:[function(t,n,a){function o(i){"getDisplayMedia"in i.navigator&&i.navigator.mediaDevices&&(i.navigator.mediaDevices&&"getDisplayMedia"in i.navigator.mediaDevices||(i.navigator.mediaDevices.getDisplayMedia=i.navigator.getDisplayMedia.bind(i.navigator)))}Object.defineProperty(a,"__esModule",{value:!0}),a.shimGetDisplayMedia=o},{}],XRic:[function(t,n,a){Object.defineProperty(a,"__esModule",{value:!0}),a.shimPeerConnection=$,a.shimReplaceTrack=h,Object.defineProperty(a,"shimGetUserMedia",{enumerable:!0,get:function(){return f.shimGetUserMedia}}),Object.defineProperty(a,"shimGetDisplayMedia",{enumerable:!0,get:function(){return d.shimGetDisplayMedia}});var o=s(t("../utils")),i=t("./filtericeservers"),c=p(t("rtcpeerconnection-shim")),f=t("./getusermedia"),d=t("./getdisplaymedia");function p(S){return S&&S.__esModule?S:{default:S}}function y(){if(typeof WeakMap!="function")return null;var S=new WeakMap;return y=function(){return S},S}function s(S){if(S&&S.__esModule)return S;if(S===null||typeof S!="object"&&typeof S!="function")return{default:S};var _=y();if(_&&_.has(S))return _.get(S);var m={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in S)if(Object.prototype.hasOwnProperty.call(S,l)){var v=b?Object.getOwnPropertyDescriptor(S,l):null;v&&(v.get||v.set)?Object.defineProperty(m,l,v):m[l]=S[l]}return m.default=S,_&&_.set(S,m),m}function $(S){var _=o.detectBrowser(S);if(S.RTCIceGatherer&&(S.RTCIceCandidate||(S.RTCIceCandidate=function(l){return l}),S.RTCSessionDescription||(S.RTCSessionDescription=function(l){return l}),_.version<15025)){var m=Object.getOwnPropertyDescriptor(S.MediaStreamTrack.prototype,"enabled");Object.defineProperty(S.MediaStreamTrack.prototype,"enabled",{set:function(l){m.set.call(this,l);var v=new Event("enabled");v.enabled=l,this.dispatchEvent(v)}})}!S.RTCRtpSender||"dtmf"in S.RTCRtpSender.prototype||Object.defineProperty(S.RTCRtpSender.prototype,"dtmf",{get:function(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=new S.RTCDtmfSender(this):this.track.kind==="video"&&(this._dtmf=null)),this._dtmf}}),S.RTCDtmfSender&&!S.RTCDTMFSender&&(S.RTCDTMFSender=S.RTCDtmfSender);var b=(0,c.default)(S,_.version);S.RTCPeerConnection=function(l){return l&&l.iceServers&&(l.iceServers=(0,i.filterIceServers)(l.iceServers,_.version),o.log("ICE servers after filtering:",l.iceServers)),new b(l)},S.RTCPeerConnection.prototype=b.prototype}function h(S){!S.RTCRtpSender||"replaceTrack"in S.RTCRtpSender.prototype||(S.RTCRtpSender.prototype.replaceTrack=S.RTCRtpSender.prototype.setTrack)}},{"../utils":"iSxC","./filtericeservers":"NZ1C","rtcpeerconnection-shim":"NJ2u","./getusermedia":"YdKx","./getdisplaymedia":"P3bV"}],GzSv:[function(t,n,a){Object.defineProperty(a,"__esModule",{value:!0}),a.shimGetUserMedia=d;var o=c(t("../utils"));function i(){if(typeof WeakMap!="function")return null;var p=new WeakMap;return i=function(){return p},p}function c(p){if(p&&p.__esModule)return p;if(p===null||typeof p!="object"&&typeof p!="function")return{default:p};var y=i();if(y&&y.has(p))return y.get(p);var s={},$=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in p)if(Object.prototype.hasOwnProperty.call(p,h)){var S=$?Object.getOwnPropertyDescriptor(p,h):null;S&&(S.get||S.set)?Object.defineProperty(s,h,S):s[h]=p[h]}return s.default=p,y&&y.set(p,s),s}function f(p){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(p)}function d(p){var y=o.detectBrowser(p),s=p&&p.navigator,$=p&&p.MediaStreamTrack;if(s.getUserMedia=function(b,l,v){o.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),s.mediaDevices.getUserMedia(b).then(l,v)},!(y.version>55&&"autoGainControl"in s.mediaDevices.getSupportedConstraints())){var h=function(b,l,v){l in b&&!(v in b)&&(b[v]=b[l],delete b[l])},S=s.mediaDevices.getUserMedia.bind(s.mediaDevices);if(s.mediaDevices.getUserMedia=function(b){return f(b)==="object"&&f(b.audio)==="object"&&(b=JSON.parse(JSON.stringify(b)),h(b.audio,"autoGainControl","mozAutoGainControl"),h(b.audio,"noiseSuppression","mozNoiseSuppression")),S(b)},$&&$.prototype.getSettings){var _=$.prototype.getSettings;$.prototype.getSettings=function(){var b=_.apply(this,arguments);return h(b,"mozAutoGainControl","autoGainControl"),h(b,"mozNoiseSuppression","noiseSuppression"),b}}if($&&$.prototype.applyConstraints){var m=$.prototype.applyConstraints;$.prototype.applyConstraints=function(b){return this.kind==="audio"&&f(b)==="object"&&(b=JSON.parse(JSON.stringify(b)),h(b,"autoGainControl","mozAutoGainControl"),h(b,"noiseSuppression","mozNoiseSuppression")),m.apply(this,[b])}}}}},{"../utils":"iSxC"}],UuGU:[function(t,n,a){function o(i,c){i.navigator.mediaDevices&&"getDisplayMedia"in i.navigator.mediaDevices||i.navigator.mediaDevices&&(i.navigator.mediaDevices.getDisplayMedia=function(f){if(!f||!f.video){var d=new DOMException("getDisplayMedia without video constraints is undefined");return d.name="NotFoundError",d.code=8,Promise.reject(d)}return f.video===!0?f.video={mediaSource:c}:f.video.mediaSource=c,i.navigator.mediaDevices.getUserMedia(f)})}Object.defineProperty(a,"__esModule",{value:!0}),a.shimGetDisplayMedia=o},{}],Fzdr:[function(t,n,a){Object.defineProperty(a,"__esModule",{value:!0}),a.shimOnTrack=s,a.shimPeerConnection=$,a.shimSenderGetStats=h,a.shimReceiverGetStats=S,a.shimRemoveStream=_,a.shimRTCDataChannel=m,a.shimAddTransceiver=b,a.shimCreateOffer=l,a.shimCreateAnswer=v,Object.defineProperty(a,"shimGetUserMedia",{enumerable:!0,get:function(){return i.shimGetUserMedia}}),Object.defineProperty(a,"shimGetDisplayMedia",{enumerable:!0,get:function(){return c.shimGetDisplayMedia}});var o=d(t("../utils")),i=t("./getusermedia"),c=t("./getdisplaymedia");function f(){if(typeof WeakMap!="function")return null;var u=new WeakMap;return f=function(){return u},u}function d(u){if(u&&u.__esModule)return u;if(u===null||typeof u!="object"&&typeof u!="function")return{default:u};var g=f();if(g&&g.has(u))return g.get(u);var w={},A=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var P in u)if(Object.prototype.hasOwnProperty.call(u,P)){var E=A?Object.getOwnPropertyDescriptor(u,P):null;E&&(E.get||E.set)?Object.defineProperty(w,P,E):w[P]=u[P]}return w.default=u,g&&g.set(u,w),w}function p(u,g,w){return g in u?Object.defineProperty(u,g,{value:w,enumerable:!0,configurable:!0,writable:!0}):u[g]=w,u}function y(u){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(u)}function s(u){y(u)==="object"&&u.RTCTrackEvent&&"receiver"in u.RTCTrackEvent.prototype&&!("transceiver"in u.RTCTrackEvent.prototype)&&Object.defineProperty(u.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function $(u){var g=o.detectBrowser(u);if(y(u)==="object"&&(u.RTCPeerConnection||u.mozRTCPeerConnection)){if(!u.RTCPeerConnection&&u.mozRTCPeerConnection&&(u.RTCPeerConnection=u.mozRTCPeerConnection),g.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(E){var R=u.RTCPeerConnection.prototype[E],B=p({},E,function(){return arguments[0]=new(E==="addIceCandidate"?u.RTCIceCandidate:u.RTCSessionDescription)(arguments[0]),R.apply(this,arguments)});u.RTCPeerConnection.prototype[E]=B[E]}),g.version<68){var w=u.RTCPeerConnection.prototype.addIceCandidate;u.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?arguments[0]&&arguments[0].candidate===""?Promise.resolve():w.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}var A={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},P=u.RTCPeerConnection.prototype.getStats;u.RTCPeerConnection.prototype.getStats=function(){var[E,R,B]=arguments;return P.apply(this,[E||null]).then(function(D){if(g.version<53&&!R)try{D.forEach(function(O){O.type=A[O.type]||O.type})}catch(O){if(O.name!=="TypeError")throw O;D.forEach(function(I,F){D.set(F,Object.assign({},I,{type:A[I.type]||I.type}))})}return D}).then(R,B)}}}function h(u){if(y(u)==="object"&&u.RTCPeerConnection&&u.RTCRtpSender&&!(u.RTCRtpSender&&"getStats"in u.RTCRtpSender.prototype)){var g=u.RTCPeerConnection.prototype.getSenders;g&&(u.RTCPeerConnection.prototype.getSenders=function(){var A=this,P=g.apply(this,[]);return P.forEach(function(E){return E._pc=A}),P});var w=u.RTCPeerConnection.prototype.addTrack;w&&(u.RTCPeerConnection.prototype.addTrack=function(){var A=w.apply(this,arguments);return A._pc=this,A}),u.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}}function S(u){if(y(u)==="object"&&u.RTCPeerConnection&&u.RTCRtpSender&&!(u.RTCRtpSender&&"getStats"in u.RTCRtpReceiver.prototype)){var g=u.RTCPeerConnection.prototype.getReceivers;g&&(u.RTCPeerConnection.prototype.getReceivers=function(){var w=this,A=g.apply(this,[]);return A.forEach(function(P){return P._pc=w}),A}),o.wrapPeerConnectionEvent(u,"track",function(w){return w.receiver._pc=w.srcElement,w}),u.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}}function _(u){!u.RTCPeerConnection||"removeStream"in u.RTCPeerConnection.prototype||(u.RTCPeerConnection.prototype.removeStream=function(g){var w=this;o.deprecated("removeStream","removeTrack"),this.getSenders().forEach(function(A){A.track&&g.getTracks().includes(A.track)&&w.removeTrack(A)})})}function m(u){u.DataChannel&&!u.RTCDataChannel&&(u.RTCDataChannel=u.DataChannel)}function b(u){if(y(u)==="object"&&u.RTCPeerConnection){var g=u.RTCPeerConnection.prototype.addTransceiver;g&&(u.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];var w=arguments[1],A=w&&"sendEncodings"in w;A&&w.sendEncodings.forEach(function(B){if("rid"in B&&!/^[a-z0-9]{0,16}$/i.test(B.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in B&&!(parseFloat(B.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in B&&!(parseFloat(B.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});var P=g.apply(this,arguments);if(A){var{sender:E}=P,R=E.getParameters();"encodings"in R||(R.encodings=w.sendEncodings,this.setParametersPromises.push(E.setParameters(R).catch(function(){})))}return P})}}function l(u){if(y(u)==="object"&&u.RTCPeerConnection){var g=u.RTCPeerConnection.prototype.createOffer;u.RTCPeerConnection.prototype.createOffer=function(){var w=arguments,A=this;return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(function(){return g.apply(A,w)}).finally(function(){A.setParametersPromises=[]}):g.apply(this,arguments)}}}function v(u){if(y(u)==="object"&&u.RTCPeerConnection){var g=u.RTCPeerConnection.prototype.createAnswer;u.RTCPeerConnection.prototype.createAnswer=function(){var w=arguments,A=this;return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(function(){return g.apply(A,w)}).finally(function(){A.setParametersPromises=[]}):g.apply(this,arguments)}}}},{"../utils":"iSxC","./getusermedia":"GzSv","./getdisplaymedia":"UuGU"}],t1lL:[function(t,n,a){Object.defineProperty(a,"__esModule",{value:!0}),a.shimLocalStreamsAPI=d,a.shimRemoteStreamsAPI=p,a.shimCallbacksAPI=y,a.shimGetUserMedia=s,a.shimConstraints=$,a.shimRTCIceServerUrls=h,a.shimTrackEventTransceiver=S,a.shimCreateOfferLegacy=_;var o=c(t("../utils"));function i(){if(typeof WeakMap!="function")return null;var m=new WeakMap;return i=function(){return m},m}function c(m){if(m&&m.__esModule)return m;if(m===null||typeof m!="object"&&typeof m!="function")return{default:m};var b=i();if(b&&b.has(m))return b.get(m);var l={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in m)if(Object.prototype.hasOwnProperty.call(m,u)){var g=v?Object.getOwnPropertyDescriptor(m,u):null;g&&(g.get||g.set)?Object.defineProperty(l,u,g):l[u]=m[u]}return l.default=m,b&&b.set(m,l),l}function f(m){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(m)}function d(m){if(f(m)==="object"&&m.RTCPeerConnection){if("getLocalStreams"in m.RTCPeerConnection.prototype||(m.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in m.RTCPeerConnection.prototype)){var b=m.RTCPeerConnection.prototype.addTrack;m.RTCPeerConnection.prototype.addStream=function(l){var v=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(l)||this._localStreams.push(l),l.getAudioTracks().forEach(function(u){return b.call(v,u,l)}),l.getVideoTracks().forEach(function(u){return b.call(v,u,l)})},m.RTCPeerConnection.prototype.addTrack=function(l){var v=arguments[1];return v&&(this._localStreams?this._localStreams.includes(v)||this._localStreams.push(v):this._localStreams=[v]),b.apply(this,arguments)}}"removeStream"in m.RTCPeerConnection.prototype||(m.RTCPeerConnection.prototype.removeStream=function(l){var v=this;this._localStreams||(this._localStreams=[]);var u=this._localStreams.indexOf(l);if(u!==-1){this._localStreams.splice(u,1);var g=l.getTracks();this.getSenders().forEach(function(w){g.includes(w.track)&&v.removeTrack(w)})}})}}function p(m){if(f(m)==="object"&&m.RTCPeerConnection&&("getRemoteStreams"in m.RTCPeerConnection.prototype||(m.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in m.RTCPeerConnection.prototype))){Object.defineProperty(m.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(l){var v=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=l),this.addEventListener("track",this._onaddstreampoly=function(u){u.streams.forEach(function(g){if(v._remoteStreams||(v._remoteStreams=[]),!v._remoteStreams.includes(g)){v._remoteStreams.push(g);var w=new Event("addstream");w.stream=g,v.dispatchEvent(w)}})})}});var b=m.RTCPeerConnection.prototype.setRemoteDescription;m.RTCPeerConnection.prototype.setRemoteDescription=function(){var l=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(v){v.streams.forEach(function(u){if(l._remoteStreams||(l._remoteStreams=[]),!(l._remoteStreams.indexOf(u)>=0)){l._remoteStreams.push(u);var g=new Event("addstream");g.stream=u,l.dispatchEvent(g)}})}),b.apply(l,arguments)}}}function y(m){if(f(m)==="object"&&m.RTCPeerConnection){var b=m.RTCPeerConnection.prototype,l=b.createOffer,v=b.createAnswer,u=b.setLocalDescription,g=b.setRemoteDescription,w=b.addIceCandidate;b.createOffer=function(P,E){var R=arguments.length>=2?arguments[2]:arguments[0],B=l.apply(this,[R]);return E?(B.then(P,E),Promise.resolve()):B},b.createAnswer=function(P,E){var R=arguments.length>=2?arguments[2]:arguments[0],B=v.apply(this,[R]);return E?(B.then(P,E),Promise.resolve()):B};var A=function(P,E,R){var B=u.apply(this,[P]);return R?(B.then(E,R),Promise.resolve()):B};b.setLocalDescription=A,A=function(P,E,R){var B=g.apply(this,[P]);return R?(B.then(E,R),Promise.resolve()):B},b.setRemoteDescription=A,A=function(P,E,R){var B=w.apply(this,[P]);return R?(B.then(E,R),Promise.resolve()):B},b.addIceCandidate=A}}function s(m){var b=m&&m.navigator;if(b.mediaDevices&&b.mediaDevices.getUserMedia){var l=b.mediaDevices,v=l.getUserMedia.bind(l);b.mediaDevices.getUserMedia=function(u){return v($(u))}}!b.getUserMedia&&b.mediaDevices&&b.mediaDevices.getUserMedia&&(b.getUserMedia=function(u,g,w){b.mediaDevices.getUserMedia(u).then(g,w)}.bind(b))}function $(m){return m&&m.video!==void 0?Object.assign({},m,{video:o.compactObject(m.video)}):m}function h(m){var b=m.RTCPeerConnection;m.RTCPeerConnection=function(l,v){if(l&&l.iceServers){for(var u=[],g=0;g<l.iceServers.length;g++){var w=l.iceServers[g];!w.hasOwnProperty("urls")&&w.hasOwnProperty("url")?(o.deprecated("RTCIceServer.url","RTCIceServer.urls"),(w=JSON.parse(JSON.stringify(w))).urls=w.url,delete w.url,u.push(w)):u.push(l.iceServers[g])}l.iceServers=u}return new b(l,v)},m.RTCPeerConnection.prototype=b.prototype,"generateCertificate"in m.RTCPeerConnection&&Object.defineProperty(m.RTCPeerConnection,"generateCertificate",{get:function(){return b.generateCertificate}})}function S(m){f(m)==="object"&&m.RTCTrackEvent&&"receiver"in m.RTCTrackEvent.prototype&&!("transceiver"in m.RTCTrackEvent.prototype)&&Object.defineProperty(m.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function _(m){var b=m.RTCPeerConnection.prototype.createOffer;m.RTCPeerConnection.prototype.createOffer=function(l){if(l){l.offerToReceiveAudio!==void 0&&(l.offerToReceiveAudio=!!l.offerToReceiveAudio);var v=this.getTransceivers().find(function(g){return g.receiver.track.kind==="audio"});l.offerToReceiveAudio===!1&&v?v.direction==="sendrecv"?v.setDirection?v.setDirection("sendonly"):v.direction="sendonly":v.direction==="recvonly"&&(v.setDirection?v.setDirection("inactive"):v.direction="inactive"):l.offerToReceiveAudio!==!0||v||this.addTransceiver("audio"),l.offerToReceiveVideo!==void 0&&(l.offerToReceiveVideo=!!l.offerToReceiveVideo);var u=this.getTransceivers().find(function(g){return g.receiver.track.kind==="video"});l.offerToReceiveVideo===!1&&u?u.direction==="sendrecv"?u.setDirection?u.setDirection("sendonly"):u.direction="sendonly":u.direction==="recvonly"&&(u.setDirection?u.setDirection("inactive"):u.direction="inactive"):l.offerToReceiveVideo!==!0||u||this.addTransceiver("video")}return b.apply(this,arguments)}}},{"../utils":"iSxC"}],GOQK:[function(t,n,a){Object.defineProperty(a,"__esModule",{value:!0}),a.shimRTCIceCandidate=y,a.shimMaxMessageSize=s,a.shimSendThrowTypeError=$,a.shimConnectionState=h,a.removeAllowExtmapMixed=S;var o=d(t("sdp")),i=f(t("./utils"));function c(){if(typeof WeakMap!="function")return null;var _=new WeakMap;return c=function(){return _},_}function f(_){if(_&&_.__esModule)return _;if(_===null||typeof _!="object"&&typeof _!="function")return{default:_};var m=c();if(m&&m.has(_))return m.get(_);var b={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var v in _)if(Object.prototype.hasOwnProperty.call(_,v)){var u=l?Object.getOwnPropertyDescriptor(_,v):null;u&&(u.get||u.set)?Object.defineProperty(b,v,u):b[v]=_[v]}return b.default=_,m&&m.set(_,b),b}function d(_){return _&&_.__esModule?_:{default:_}}function p(_){return(p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(_)}function y(_){if(_.RTCIceCandidate&&!(_.RTCIceCandidate&&"foundation"in _.RTCIceCandidate.prototype)){var m=_.RTCIceCandidate;_.RTCIceCandidate=function(b){if(p(b)==="object"&&b.candidate&&b.candidate.indexOf("a=")===0&&((b=JSON.parse(JSON.stringify(b))).candidate=b.candidate.substr(2)),b.candidate&&b.candidate.length){var l=new m(b),v=o.default.parseCandidate(b.candidate),u=Object.assign(l,v);return u.toJSON=function(){return{candidate:u.candidate,sdpMid:u.sdpMid,sdpMLineIndex:u.sdpMLineIndex,usernameFragment:u.usernameFragment}},u}return new m(b)},_.RTCIceCandidate.prototype=m.prototype,i.wrapPeerConnectionEvent(_,"icecandidate",function(b){return b.candidate&&Object.defineProperty(b,"candidate",{value:new _.RTCIceCandidate(b.candidate),writable:"false"}),b})}}function s(_){if(_.RTCPeerConnection){var m=i.detectBrowser(_);"sctp"in _.RTCPeerConnection.prototype||Object.defineProperty(_.RTCPeerConnection.prototype,"sctp",{get:function(){return this._sctp===void 0?null:this._sctp}});var b=_.RTCPeerConnection.prototype.setRemoteDescription;_.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,m.browser==="chrome"&&m.version>=76){var{sdpSemantics:l}=this.getConfiguration();l==="plan-b"&&Object.defineProperty(this,"sctp",{get:function(){return this._sctp===void 0?null:this._sctp},enumerable:!0,configurable:!0})}if(function(R){if(!R||!R.sdp)return!1;var B=o.default.splitSections(R.sdp);return B.shift(),B.some(function(D){var O=o.default.parseMLine(D);return O&&O.kind==="application"&&O.protocol.indexOf("SCTP")!==-1})}(arguments[0])){var v,u=function(R){var B=R.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(B===null||B.length<2)return-1;var D=parseInt(B[1],10);return D!=D?-1:D}(arguments[0]),g=(P=u,E=65536,m.browser==="firefox"&&(E=m.version<57?P===-1?16384:2147483637:m.version<60?m.version===57?65535:65536:2147483637),E),w=function(R,B){var D=65536;m.browser==="firefox"&&m.version===57&&(D=65535);var O=o.default.matchPrefix(R.sdp,"a=max-message-size:");return O.length>0?D=parseInt(O[0].substr(19),10):m.browser==="firefox"&&B!==-1&&(D=2147483637),D}(arguments[0],u);v=g===0&&w===0?Number.POSITIVE_INFINITY:g===0||w===0?Math.max(g,w):Math.min(g,w);var A={};Object.defineProperty(A,"maxMessageSize",{get:function(){return v}}),this._sctp=A}var P,E;return b.apply(this,arguments)}}}function $(_){if(_.RTCPeerConnection&&"createDataChannel"in _.RTCPeerConnection.prototype){var m=_.RTCPeerConnection.prototype.createDataChannel;_.RTCPeerConnection.prototype.createDataChannel=function(){var l=m.apply(this,arguments);return b(l,this),l},i.wrapPeerConnectionEvent(_,"datachannel",function(l){return b(l.channel,l.target),l})}function b(l,v){var u=l.send;l.send=function(){var g=arguments[0],w=g.length||g.size||g.byteLength;if(l.readyState==="open"&&v.sctp&&w>v.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+v.sctp.maxMessageSize+" bytes)");return u.apply(l,arguments)}}}function h(_){if(_.RTCPeerConnection&&!("connectionState"in _.RTCPeerConnection.prototype)){var m=_.RTCPeerConnection.prototype;Object.defineProperty(m,"connectionState",{get:function(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(m,"onconnectionstatechange",{get:function(){return this._onconnectionstatechange||null},set:function(b){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),b&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=b)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(function(b){var l=m[b];m[b]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=function(v){var u=v.target;if(u._lastConnectionState!==u.connectionState){u._lastConnectionState=u.connectionState;var g=new Event("connectionstatechange",v);u.dispatchEvent(g)}return v},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),l.apply(this,arguments)}})}}function S(_){if(_.RTCPeerConnection){var m=i.detectBrowser(_);if(!(m.browser==="chrome"&&m.version>=71)){var b=_.RTCPeerConnection.prototype.setRemoteDescription;_.RTCPeerConnection.prototype.setRemoteDescription=function(l){return l&&l.sdp&&l.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1&&(l.sdp=l.sdp.split(`
`).filter(function(v){return v.trim()!=="a=extmap-allow-mixed"}).join(`
`)),b.apply(this,arguments)}}}}},{sdp:"YHvh","./utils":"iSxC"}],KtlG:[function(t,n,a){Object.defineProperty(a,"__esModule",{value:!0}),a.adapterFactory=$;var o=s(t("./utils")),i=s(t("./chrome/chrome_shim")),c=s(t("./edge/edge_shim")),f=s(t("./firefox/firefox_shim")),d=s(t("./safari/safari_shim")),p=s(t("./common_shim"));function y(){if(typeof WeakMap!="function")return null;var h=new WeakMap;return y=function(){return h},h}function s(h){if(h&&h.__esModule)return h;if(h===null||typeof h!="object"&&typeof h!="function")return{default:h};var S=y();if(S&&S.has(h))return S.get(h);var _={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in h)if(Object.prototype.hasOwnProperty.call(h,b)){var l=m?Object.getOwnPropertyDescriptor(h,b):null;l&&(l.get||l.set)?Object.defineProperty(_,b,l):_[b]=h[b]}return _.default=h,S&&S.set(h,_),_}function $(){var{window:h}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0},_=o.log,m=o.detectBrowser(h),b={browserDetails:m,commonShim:p,extractVersion:o.extractVersion,disableLog:o.disableLog,disableWarnings:o.disableWarnings};switch(m.browser){case"chrome":if(!i||!i.shimPeerConnection||!S.shimChrome)return _("Chrome shim is not included in this adapter release."),b;_("adapter.js shimming chrome."),b.browserShim=i,i.shimGetUserMedia(h),i.shimMediaStream(h),i.shimPeerConnection(h),i.shimOnTrack(h),i.shimAddTrackRemoveTrack(h),i.shimGetSendersWithDtmf(h),i.shimGetStats(h),i.shimSenderReceiverGetStats(h),i.fixNegotiationNeeded(h),p.shimRTCIceCandidate(h),p.shimConnectionState(h),p.shimMaxMessageSize(h),p.shimSendThrowTypeError(h),p.removeAllowExtmapMixed(h);break;case"firefox":if(!f||!f.shimPeerConnection||!S.shimFirefox)return _("Firefox shim is not included in this adapter release."),b;_("adapter.js shimming firefox."),b.browserShim=f,f.shimGetUserMedia(h),f.shimPeerConnection(h),f.shimOnTrack(h),f.shimRemoveStream(h),f.shimSenderGetStats(h),f.shimReceiverGetStats(h),f.shimRTCDataChannel(h),f.shimAddTransceiver(h),f.shimCreateOffer(h),f.shimCreateAnswer(h),p.shimRTCIceCandidate(h),p.shimConnectionState(h),p.shimMaxMessageSize(h),p.shimSendThrowTypeError(h);break;case"edge":if(!c||!c.shimPeerConnection||!S.shimEdge)return _("MS edge shim is not included in this adapter release."),b;_("adapter.js shimming edge."),b.browserShim=c,c.shimGetUserMedia(h),c.shimGetDisplayMedia(h),c.shimPeerConnection(h),c.shimReplaceTrack(h),p.shimMaxMessageSize(h),p.shimSendThrowTypeError(h);break;case"safari":if(!d||!S.shimSafari)return _("Safari shim is not included in this adapter release."),b;_("adapter.js shimming safari."),b.browserShim=d,d.shimRTCIceServerUrls(h),d.shimCreateOfferLegacy(h),d.shimCallbacksAPI(h),d.shimLocalStreamsAPI(h),d.shimRemoteStreamsAPI(h),d.shimTrackEventTransceiver(h),d.shimGetUserMedia(h),p.shimRTCIceCandidate(h),p.shimMaxMessageSize(h),p.shimSendThrowTypeError(h),p.removeAllowExtmapMixed(h);break;default:_("Unsupported browser!")}return b}},{"./utils":"iSxC","./chrome/chrome_shim":"uI5X","./edge/edge_shim":"XRic","./firefox/firefox_shim":"Fzdr","./safari/safari_shim":"t1lL","./common_shim":"GOQK"}],tI1X:[function(t,n,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=t("./adapter_factory.js"),i=(0,o.adapterFactory)({window}),c=i;a.default=c},{"./adapter_factory.js":"KtlG"}],sXtV:[function(t,n,a){var o=this&&this.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(a,"__esModule",{value:!0});var i=o(t("webrtc-adapter"));a.webRTCAdapter=i.default},{"webrtc-adapter":"tI1X"}],I31f:[function(t,n,a){Object.defineProperty(a,"__esModule",{value:!0});var o=t("./adapter");a.Supports=new(function(){function i(){this.isIOS=["iPad","iPhone","iPod"].includes(navigator.platform),this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}return i.prototype.isWebRTCSupported=function(){return typeof RTCPeerConnection!="undefined"},i.prototype.isBrowserSupported=function(){var c=this.getBrowser(),f=this.getVersion();return!!this.supportedBrowsers.includes(c)&&(c==="chrome"?f>=this.minChromeVersion:c==="firefox"?f>=this.minFirefoxVersion:c==="safari"&&!this.isIOS&&f>=this.minSafariVersion)},i.prototype.getBrowser=function(){return o.webRTCAdapter.browserDetails.browser},i.prototype.getVersion=function(){return o.webRTCAdapter.browserDetails.version||0},i.prototype.isUnifiedPlanSupported=function(){var c,f=this.getBrowser(),d=o.webRTCAdapter.browserDetails.version||0;if(f==="chrome"&&d<72)return!1;if(f==="firefox"&&d>=59)return!0;if(!(window.RTCRtpTransceiver&&"currentDirection"in RTCRtpTransceiver.prototype))return!1;var p=!1;try{(c=new RTCPeerConnection).addTransceiver("audio"),p=!0}catch(y){}finally{c&&c.close()}return p},i.prototype.toString=function(){return`Supports: 
    browser:`+this.getBrowser()+` 
    version:`+this.getVersion()+` 
    isIOS:`+this.isIOS+` 
    isWebRTCSupported:`+this.isWebRTCSupported()+` 
    isBrowserSupported:`+this.isBrowserSupported()+` 
    isUnifiedPlanSupported:`+this.isUnifiedPlanSupported()},i}())},{"./adapter":"sXtV"}],BHXf:[function(t,n,a){var o=this&&this.__importStar||function(d){if(d&&d.__esModule)return d;var p={};if(d!=null)for(var y in d)Object.hasOwnProperty.call(d,y)&&(p[y]=d[y]);return p.default=d,p};Object.defineProperty(a,"__esModule",{value:!0});var i=o(t("peerjs-js-binarypack")),c=t("./supports"),f={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"turn:0.peerjs.com:3478",username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"};a.util=new(function(){function d(){this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.chunkedMTU=16300,this.defaultConfig=f,this.browser=c.Supports.getBrowser(),this.browserVersion=c.Supports.getVersion(),this.supports=function(){var p,y={browser:c.Supports.isBrowserSupported(),webRTC:c.Supports.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!y.webRTC)return y;try{p=new RTCPeerConnection(f),y.audioVideo=!0;var s=void 0;try{s=p.createDataChannel("_PEERJSTEST",{ordered:!0}),y.data=!0,y.reliable=!!s.ordered;try{s.binaryType="blob",y.binaryBlob=!c.Supports.isIOS}catch($){}}catch($){}finally{s&&s.close()}}catch($){}finally{p&&p.close()}return y}(),this.pack=i.pack,this.unpack=i.unpack,this._dataCount=1}return d.prototype.noop=function(){},d.prototype.validateId=function(p){return!p||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(p)},d.prototype.chunk=function(p){for(var y=[],s=p.size,$=Math.ceil(s/a.util.chunkedMTU),h=0,S=0;S<s;){var _=Math.min(s,S+a.util.chunkedMTU),m=p.slice(S,_),b={__peerData:this._dataCount,n:h,data:m,total:$};y.push(b),S=_,h++}return this._dataCount++,y},d.prototype.blobToArrayBuffer=function(p,y){var s=new FileReader;return s.onload=function($){$.target&&y($.target.result)},s.readAsArrayBuffer(p),s},d.prototype.binaryStringToArrayBuffer=function(p){for(var y=new Uint8Array(p.length),s=0;s<p.length;s++)y[s]=255&p.charCodeAt(s);return y.buffer},d.prototype.randomToken=function(){return Math.random().toString(36).substr(2)},d.prototype.isSecure=function(){return location.protocol==="https:"},d}())},{"peerjs-js-binarypack":"kdPp","./supports":"I31f"}],JJlS:[function(t,n,a){var o=Object.prototype.hasOwnProperty,i="~";function c(){}function f(s,$,h){this.fn=s,this.context=$,this.once=h||!1}function d(s,$,h,S,_){if(typeof h!="function")throw new TypeError("The listener must be a function");var m=new f(h,S||s,_),b=i?i+$:$;return s._events[b]?s._events[b].fn?s._events[b]=[s._events[b],m]:s._events[b].push(m):(s._events[b]=m,s._eventsCount++),s}function p(s,$){--s._eventsCount==0?s._events=new c:delete s._events[$]}function y(){this._events=new c,this._eventsCount=0}Object.create&&(c.prototype=Object.create(null),new c().__proto__||(i=!1)),y.prototype.eventNames=function(){var s,$,h=[];if(this._eventsCount===0)return h;for($ in s=this._events)o.call(s,$)&&h.push(i?$.slice(1):$);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(s)):h},y.prototype.listeners=function(s){var $=i?i+s:s,h=this._events[$];if(!h)return[];if(h.fn)return[h.fn];for(var S=0,_=h.length,m=new Array(_);S<_;S++)m[S]=h[S].fn;return m},y.prototype.listenerCount=function(s){var $=i?i+s:s,h=this._events[$];return h?h.fn?1:h.length:0},y.prototype.emit=function(s,$,h,S,_,m){var b=i?i+s:s;if(!this._events[b])return!1;var l,v,u=this._events[b],g=arguments.length;if(u.fn){switch(u.once&&this.removeListener(s,u.fn,void 0,!0),g){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,$),!0;case 3:return u.fn.call(u.context,$,h),!0;case 4:return u.fn.call(u.context,$,h,S),!0;case 5:return u.fn.call(u.context,$,h,S,_),!0;case 6:return u.fn.call(u.context,$,h,S,_,m),!0}for(v=1,l=new Array(g-1);v<g;v++)l[v-1]=arguments[v];u.fn.apply(u.context,l)}else{var w,A=u.length;for(v=0;v<A;v++)switch(u[v].once&&this.removeListener(s,u[v].fn,void 0,!0),g){case 1:u[v].fn.call(u[v].context);break;case 2:u[v].fn.call(u[v].context,$);break;case 3:u[v].fn.call(u[v].context,$,h);break;case 4:u[v].fn.call(u[v].context,$,h,S);break;default:if(!l)for(w=1,l=new Array(g-1);w<g;w++)l[w-1]=arguments[w];u[v].fn.apply(u[v].context,l)}}return!0},y.prototype.on=function(s,$,h){return d(this,s,$,h,!1)},y.prototype.once=function(s,$,h){return d(this,s,$,h,!0)},y.prototype.removeListener=function(s,$,h,S){var _=i?i+s:s;if(!this._events[_])return this;if(!$)return p(this,_),this;var m=this._events[_];if(m.fn)m.fn!==$||S&&!m.once||h&&m.context!==h||p(this,_);else{for(var b=0,l=[],v=m.length;b<v;b++)(m[b].fn!==$||S&&!m[b].once||h&&m[b].context!==h)&&l.push(m[b]);l.length?this._events[_]=l.length===1?l[0]:l:p(this,_)}return this},y.prototype.removeAllListeners=function(s){var $;return s?($=i?i+s:s,this._events[$]&&p(this,$)):(this._events=new c,this._eventsCount=0),this},y.prototype.off=y.prototype.removeListener,y.prototype.addListener=y.prototype.on,y.prefixed=i,y.EventEmitter=y,typeof n!="undefined"&&(n.exports=y)},{}],WOs9:[function(t,n,a){var o=this&&this.__read||function(p,y){var s=typeof Symbol=="function"&&p[Symbol.iterator];if(!s)return p;var $,h,S=s.call(p),_=[];try{for(;(y===void 0||y-- >0)&&!($=S.next()).done;)_.push($.value)}catch(m){h={error:m}}finally{try{$&&!$.done&&(s=S.return)&&s.call(S)}finally{if(h)throw h.error}}return _},i=this&&this.__spread||function(){for(var p=[],y=0;y<arguments.length;y++)p=p.concat(o(arguments[y]));return p};Object.defineProperty(a,"__esModule",{value:!0});var c,f="PeerJS: ";(function(p){p[p.Disabled=0]="Disabled",p[p.Errors=1]="Errors",p[p.Warnings=2]="Warnings",p[p.All=3]="All"})(c=a.LogLevel||(a.LogLevel={}));var d=function(){function p(){this._logLevel=c.Disabled}return Object.defineProperty(p.prototype,"logLevel",{get:function(){return this._logLevel},set:function(y){this._logLevel=y},enumerable:!0,configurable:!0}),p.prototype.log=function(){for(var y=[],s=0;s<arguments.length;s++)y[s]=arguments[s];this._logLevel>=c.All&&this._print.apply(this,i([c.All],y))},p.prototype.warn=function(){for(var y=[],s=0;s<arguments.length;s++)y[s]=arguments[s];this._logLevel>=c.Warnings&&this._print.apply(this,i([c.Warnings],y))},p.prototype.error=function(){for(var y=[],s=0;s<arguments.length;s++)y[s]=arguments[s];this._logLevel>=c.Errors&&this._print.apply(this,i([c.Errors],y))},p.prototype.setLogFunction=function(y){this._print=y},p.prototype._print=function(y){for(var s=[],$=1;$<arguments.length;$++)s[$-1]=arguments[$];var h=i([f],s);for(var S in h)h[S]instanceof Error&&(h[S]="("+h[S].name+") "+h[S].message);y>=c.All?console.log.apply(console,i(h)):y>=c.Warnings?console.warn.apply(console,i(["WARNING"],h)):y>=c.Errors&&console.error.apply(console,i(["ERROR"],h))},p}();a.default=new d},{}],ZRYf:[function(t,n,a){Object.defineProperty(a,"__esModule",{value:!0}),function(o){o.Open="open",o.Stream="stream",o.Data="data",o.Close="close",o.Error="error",o.IceStateChanged="iceStateChanged"}(a.ConnectionEventType||(a.ConnectionEventType={})),function(o){o.Data="data",o.Media="media"}(a.ConnectionType||(a.ConnectionType={})),function(o){o.Open="open",o.Close="close",o.Connection="connection",o.Call="call",o.Disconnected="disconnected",o.Error="error"}(a.PeerEventType||(a.PeerEventType={})),function(o){o.BrowserIncompatible="browser-incompatible",o.Disconnected="disconnected",o.InvalidID="invalid-id",o.InvalidKey="invalid-key",o.Network="network",o.PeerUnavailable="peer-unavailable",o.SslUnavailable="ssl-unavailable",o.ServerError="server-error",o.SocketError="socket-error",o.SocketClosed="socket-closed",o.UnavailableID="unavailable-id",o.WebRTC="webrtc"}(a.PeerErrorType||(a.PeerErrorType={})),function(o){o.Binary="binary",o.BinaryUTF8="binary-utf8",o.JSON="json"}(a.SerializationType||(a.SerializationType={})),function(o){o.Message="message",o.Disconnected="disconnected",o.Error="error",o.Close="close"}(a.SocketEventType||(a.SocketEventType={})),function(o){o.Heartbeat="HEARTBEAT",o.Candidate="CANDIDATE",o.Offer="OFFER",o.Answer="ANSWER",o.Open="OPEN",o.Error="ERROR",o.IdTaken="ID-TAKEN",o.InvalidKey="INVALID-KEY",o.Leave="LEAVE",o.Expire="EXPIRE"}(a.ServerMessageType||(a.ServerMessageType={}))},{}],wJlv:[function(t,n,a){var o=this&&this.__extends||function(){var h=function(S,_){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,b){m.__proto__=b}||function(m,b){for(var l in b)b.hasOwnProperty(l)&&(m[l]=b[l])})(S,_)};return function(S,_){function m(){this.constructor=S}h(S,_),S.prototype=_===null?Object.create(_):(m.prototype=_.prototype,new m)}}(),i=this&&this.__read||function(h,S){var _=typeof Symbol=="function"&&h[Symbol.iterator];if(!_)return h;var m,b,l=_.call(h),v=[];try{for(;(S===void 0||S-- >0)&&!(m=l.next()).done;)v.push(m.value)}catch(u){b={error:u}}finally{try{m&&!m.done&&(_=l.return)&&_.call(l)}finally{if(b)throw b.error}}return v},c=this&&this.__spread||function(){for(var h=[],S=0;S<arguments.length;S++)h=h.concat(i(arguments[S]));return h},f=this&&this.__values||function(h){var S=typeof Symbol=="function"&&Symbol.iterator,_=S&&h[S],m=0;if(_)return _.call(h);if(h&&typeof h.length=="number")return{next:function(){return h&&m>=h.length&&(h=void 0),{value:h&&h[m++],done:!h}}};throw new TypeError(S?"Object is not iterable.":"Symbol.iterator is not defined.")},d=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(a,"__esModule",{value:!0});var p=t("eventemitter3"),y=d(t("./logger")),s=t("./enums"),$=function(h){function S(_,m,b,l,v,u){u===void 0&&(u=5e3);var g=h.call(this)||this;g.pingInterval=u,g._disconnected=!0,g._messagesQueue=[];var w=_?"wss://":"ws://";return g._baseUrl=w+m+":"+b+l+"peerjs?key="+v,g}return o(S,h),S.prototype.start=function(_,m){var b=this;this._id=_;var l=this._baseUrl+"&id="+_+"&token="+m;!this._socket&&this._disconnected&&(this._socket=new WebSocket(l),this._disconnected=!1,this._socket.onmessage=function(v){var u;try{u=JSON.parse(v.data),y.default.log("Server message received:",u)}catch(g){return void y.default.log("Invalid server message",v.data)}b.emit(s.SocketEventType.Message,u)},this._socket.onclose=function(v){b._disconnected||(y.default.log("Socket closed.",v),b._cleanup(),b._disconnected=!0,b.emit(s.SocketEventType.Disconnected))},this._socket.onopen=function(){b._disconnected||(b._sendQueuedMessages(),y.default.log("Socket open"),b._scheduleHeartbeat())})},S.prototype._scheduleHeartbeat=function(){var _=this;this._wsPingTimer=setTimeout(function(){_._sendHeartbeat()},this.pingInterval)},S.prototype._sendHeartbeat=function(){if(this._wsOpen()){var _=JSON.stringify({type:s.ServerMessageType.Heartbeat});this._socket.send(_),this._scheduleHeartbeat()}else y.default.log("Cannot send heartbeat, because socket closed")},S.prototype._wsOpen=function(){return!!this._socket&&this._socket.readyState===1},S.prototype._sendQueuedMessages=function(){var _,m,b=c(this._messagesQueue);this._messagesQueue=[];try{for(var l=f(b),v=l.next();!v.done;v=l.next()){var u=v.value;this.send(u)}}catch(g){_={error:g}}finally{try{v&&!v.done&&(m=l.return)&&m.call(l)}finally{if(_)throw _.error}}},S.prototype.send=function(_){if(!this._disconnected)if(this._id)if(_.type){if(this._wsOpen()){var m=JSON.stringify(_);this._socket.send(m)}}else this.emit(s.SocketEventType.Error,"Invalid message");else this._messagesQueue.push(_)},S.prototype.close=function(){this._disconnected||(this._cleanup(),this._disconnected=!0)},S.prototype._cleanup=function(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)},S}(p.EventEmitter);a.Socket=$},{eventemitter3:"JJlS","./logger":"WOs9","./enums":"ZRYf"}],HCdX:[function(t,n,a){var o=this&&this.__assign||function(){return(o=Object.assign||function($){for(var h,S=1,_=arguments.length;S<_;S++)for(var m in h=arguments[S])Object.prototype.hasOwnProperty.call(h,m)&&($[m]=h[m]);return $}).apply(this,arguments)},i=this&&this.__awaiter||function($,h,S,_){return new(S||(S=Promise))(function(m,b){function l(g){try{u(_.next(g))}catch(w){b(w)}}function v(g){try{u(_.throw(g))}catch(w){b(w)}}function u(g){var w;g.done?m(g.value):(w=g.value,w instanceof S?w:new S(function(A){A(w)})).then(l,v)}u((_=_.apply($,h||[])).next())})},c=this&&this.__generator||function($,h){var S,_,m,b,l={label:0,sent:function(){if(1&m[0])throw m[1];return m[1]},trys:[],ops:[]};return b={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function v(u){return function(g){return function(w){if(S)throw new TypeError("Generator is already executing.");for(;l;)try{if(S=1,_&&(m=2&w[0]?_.return:w[0]?_.throw||((m=_.return)&&m.call(_),0):_.next)&&!(m=m.call(_,w[1])).done)return m;switch(_=0,m&&(w=[2&w[0],m.value]),w[0]){case 0:case 1:m=w;break;case 4:return l.label++,{value:w[1],done:!1};case 5:l.label++,_=w[1],w=[0];continue;case 7:w=l.ops.pop(),l.trys.pop();continue;default:if(!(m=(m=l.trys).length>0&&m[m.length-1])&&(w[0]===6||w[0]===2)){l=0;continue}if(w[0]===3&&(!m||w[1]>m[0]&&w[1]<m[3])){l.label=w[1];break}if(w[0]===6&&l.label<m[1]){l.label=m[1],m=w;break}if(m&&l.label<m[2]){l.label=m[2],l.ops.push(w);break}m[2]&&l.ops.pop(),l.trys.pop();continue}w=h.call($,l)}catch(A){w=[6,A],_=0}finally{S=m=0}if(5&w[0])throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}([u,g])}}},f=this&&this.__importDefault||function($){return $&&$.__esModule?$:{default:$}};Object.defineProperty(a,"__esModule",{value:!0});var d=t("./util"),p=f(t("./logger")),y=t("./enums"),s=function(){function $(h){this.connection=h}return $.prototype.startConnection=function(h){var S=this._startPeerConnection();if(this.connection.peerConnection=S,this.connection.type===y.ConnectionType.Media&&h._stream&&this._addTracksToConnection(h._stream,S),h.originator){if(this.connection.type===y.ConnectionType.Data){var _=this.connection,m={ordered:!!h.reliable},b=S.createDataChannel(_.label,m);_.initialize(b)}this._makeOffer()}else this.handleSDP("OFFER",h.sdp)},$.prototype._startPeerConnection=function(){p.default.log("Creating RTCPeerConnection.");var h=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(h),h},$.prototype._setupListeners=function(h){var S=this,_=this.connection.peer,m=this.connection.connectionId,b=this.connection.type,l=this.connection.provider;p.default.log("Listening for ICE candidates."),h.onicecandidate=function(v){v.candidate&&v.candidate.candidate&&(p.default.log("Received ICE candidates for "+_+":",v.candidate),l.socket.send({type:y.ServerMessageType.Candidate,payload:{candidate:v.candidate,type:b,connectionId:m},dst:_}))},h.oniceconnectionstatechange=function(){switch(h.iceConnectionState){case"failed":p.default.log("iceConnectionState is failed, closing connections to "+_),S.connection.emit(y.ConnectionEventType.Error,new Error("Negotiation of connection to "+_+" failed.")),S.connection.close();break;case"closed":p.default.log("iceConnectionState is closed, closing connections to "+_),S.connection.emit(y.ConnectionEventType.Error,new Error("Connection to "+_+" closed.")),S.connection.close();break;case"disconnected":p.default.log("iceConnectionState changed to disconnected on the connection with "+_);break;case"completed":h.onicecandidate=d.util.noop}S.connection.emit(y.ConnectionEventType.IceStateChanged,h.iceConnectionState)},p.default.log("Listening for data channel"),h.ondatachannel=function(v){p.default.log("Received data channel");var u=v.channel;l.getConnection(_,m).initialize(u)},p.default.log("Listening for remote stream"),h.ontrack=function(v){p.default.log("Received remote stream");var u=v.streams[0],g=l.getConnection(_,m);if(g.type===y.ConnectionType.Media){var w=g;S._addStreamToMediaConnection(u,w)}}},$.prototype.cleanup=function(){p.default.log("Cleaning up PeerConnection to "+this.connection.peer);var h=this.connection.peerConnection;if(h){this.connection.peerConnection=null,h.onicecandidate=h.oniceconnectionstatechange=h.ondatachannel=h.ontrack=function(){};var S=h.signalingState!=="closed",_=!1;if(this.connection.type===y.ConnectionType.Data){var m=this.connection.dataChannel;m&&(_=!!m.readyState&&m.readyState!=="closed")}(S||_)&&h.close()}},$.prototype._makeOffer=function(){return i(this,void 0,Promise,function(){var h,S,_,m,b,l,v;return c(this,function(u){switch(u.label){case 0:h=this.connection.peerConnection,S=this.connection.provider,u.label=1;case 1:return u.trys.push([1,7,,8]),[4,h.createOffer(this.connection.options.constraints)];case 2:_=u.sent(),p.default.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(_.sdp=this.connection.options.sdpTransform(_.sdp)||_.sdp),u.label=3;case 3:return u.trys.push([3,5,,6]),[4,h.setLocalDescription(_)];case 4:return u.sent(),p.default.log("Set localDescription:",_,"for:"+this.connection.peer),m={sdp:_,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata,browser:d.util.browser},this.connection.type===y.ConnectionType.Data&&(b=this.connection,m=o(o({},m),{label:b.label,reliable:b.reliable,serialization:b.serialization})),S.socket.send({type:y.ServerMessageType.Offer,payload:m,dst:this.connection.peer}),[3,6];case 5:return(l=u.sent())!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(S.emitError(y.PeerErrorType.WebRTC,l),p.default.log("Failed to setLocalDescription, ",l)),[3,6];case 6:return[3,8];case 7:return v=u.sent(),S.emitError(y.PeerErrorType.WebRTC,v),p.default.log("Failed to createOffer, ",v),[3,8];case 8:return[2]}})})},$.prototype._makeAnswer=function(){return i(this,void 0,Promise,function(){var h,S,_,m,b;return c(this,function(l){switch(l.label){case 0:h=this.connection.peerConnection,S=this.connection.provider,l.label=1;case 1:return l.trys.push([1,7,,8]),[4,h.createAnswer()];case 2:_=l.sent(),p.default.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(_.sdp=this.connection.options.sdpTransform(_.sdp)||_.sdp),l.label=3;case 3:return l.trys.push([3,5,,6]),[4,h.setLocalDescription(_)];case 4:return l.sent(),p.default.log("Set localDescription:",_,"for:"+this.connection.peer),S.socket.send({type:y.ServerMessageType.Answer,payload:{sdp:_,type:this.connection.type,connectionId:this.connection.connectionId,browser:d.util.browser},dst:this.connection.peer}),[3,6];case 5:return m=l.sent(),S.emitError(y.PeerErrorType.WebRTC,m),p.default.log("Failed to setLocalDescription, ",m),[3,6];case 6:return[3,8];case 7:return b=l.sent(),S.emitError(y.PeerErrorType.WebRTC,b),p.default.log("Failed to create answer, ",b),[3,8];case 8:return[2]}})})},$.prototype.handleSDP=function(h,S){return i(this,void 0,Promise,function(){var _,m,b,l;return c(this,function(v){switch(v.label){case 0:S=new RTCSessionDescription(S),_=this.connection.peerConnection,m=this.connection.provider,p.default.log("Setting remote description",S),b=this,v.label=1;case 1:return v.trys.push([1,5,,6]),[4,_.setRemoteDescription(S)];case 2:return v.sent(),p.default.log("Set remoteDescription:"+h+" for:"+this.connection.peer),h!=="OFFER"?[3,4]:[4,b._makeAnswer()];case 3:v.sent(),v.label=4;case 4:return[3,6];case 5:return l=v.sent(),m.emitError(y.PeerErrorType.WebRTC,l),p.default.log("Failed to setRemoteDescription, ",l),[3,6];case 6:return[2]}})})},$.prototype.handleCandidate=function(h){return i(this,void 0,Promise,function(){var S,_,m,b,l,v;return c(this,function(u){switch(u.label){case 0:p.default.log("handleCandidate:",h),S=h.candidate,_=h.sdpMLineIndex,m=h.sdpMid,b=this.connection.peerConnection,l=this.connection.provider,u.label=1;case 1:return u.trys.push([1,3,,4]),[4,b.addIceCandidate(new RTCIceCandidate({sdpMid:m,sdpMLineIndex:_,candidate:S}))];case 2:return u.sent(),p.default.log("Added ICE candidate for:"+this.connection.peer),[3,4];case 3:return v=u.sent(),l.emitError(y.PeerErrorType.WebRTC,v),p.default.log("Failed to handleCandidate, ",v),[3,4];case 4:return[2]}})})},$.prototype._addTracksToConnection=function(h,S){if(p.default.log("add tracks from stream "+h.id+" to peer connection"),!S.addTrack)return p.default.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");h.getTracks().forEach(function(_){S.addTrack(_,h)})},$.prototype._addStreamToMediaConnection=function(h,S){p.default.log("add stream "+h.id+" to media connection "+S.connectionId),S.addStream(h)},$}();a.Negotiator=s},{"./util":"BHXf","./logger":"WOs9","./enums":"ZRYf"}],tQFK:[function(t,n,a){var o=this&&this.__extends||function(){var f=function(d,p){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,s){y.__proto__=s}||function(y,s){for(var $ in s)s.hasOwnProperty($)&&(y[$]=s[$])})(d,p)};return function(d,p){function y(){this.constructor=d}f(d,p),d.prototype=p===null?Object.create(p):(y.prototype=p.prototype,new y)}}();Object.defineProperty(a,"__esModule",{value:!0});var i=t("eventemitter3"),c=function(f){function d(p,y,s){var $=f.call(this)||this;return $.peer=p,$.provider=y,$.options=s,$._open=!1,$.metadata=s.metadata,$}return o(d,f),Object.defineProperty(d.prototype,"open",{get:function(){return this._open},enumerable:!0,configurable:!0}),d}(i.EventEmitter);a.BaseConnection=c},{eventemitter3:"JJlS"}],dbHP:[function(t,n,a){var o=this&&this.__extends||function(){var S=function(_,m){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,l){b.__proto__=l}||function(b,l){for(var v in l)l.hasOwnProperty(v)&&(b[v]=l[v])})(_,m)};return function(_,m){function b(){this.constructor=_}S(_,m),_.prototype=m===null?Object.create(m):(b.prototype=m.prototype,new b)}}(),i=this&&this.__assign||function(){return(i=Object.assign||function(S){for(var _,m=1,b=arguments.length;m<b;m++)for(var l in _=arguments[m])Object.prototype.hasOwnProperty.call(_,l)&&(S[l]=_[l]);return S}).apply(this,arguments)},c=this&&this.__values||function(S){var _=typeof Symbol=="function"&&Symbol.iterator,m=_&&S[_],b=0;if(m)return m.call(S);if(S&&typeof S.length=="number")return{next:function(){return S&&b>=S.length&&(S=void 0),{value:S&&S[b++],done:!S}}};throw new TypeError(_?"Object is not iterable.":"Symbol.iterator is not defined.")},f=this&&this.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(a,"__esModule",{value:!0});var d=t("./util"),p=f(t("./logger")),y=t("./negotiator"),s=t("./enums"),$=t("./baseconnection"),h=function(S){function _(m,b,l){var v=S.call(this,m,b,l)||this;return v._localStream=v.options._stream,v.connectionId=v.options.connectionId||_.ID_PREFIX+d.util.randomToken(),v._negotiator=new y.Negotiator(v),v._localStream&&v._negotiator.startConnection({_stream:v._localStream,originator:!0}),v}return o(_,S),Object.defineProperty(_.prototype,"type",{get:function(){return s.ConnectionType.Media},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"localStream",{get:function(){return this._localStream},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"remoteStream",{get:function(){return this._remoteStream},enumerable:!0,configurable:!0}),_.prototype.addStream=function(m){p.default.log("Receiving stream",m),this._remoteStream=m,S.prototype.emit.call(this,s.ConnectionEventType.Stream,m)},_.prototype.handleMessage=function(m){var b=m.type,l=m.payload;switch(m.type){case s.ServerMessageType.Answer:this._negotiator.handleSDP(b,l.sdp),this._open=!0;break;case s.ServerMessageType.Candidate:this._negotiator.handleCandidate(l.candidate);break;default:p.default.warn("Unrecognized message type:"+b+" from peer:"+this.peer)}},_.prototype.answer=function(m,b){var l,v;if(b===void 0&&(b={}),this._localStream)p.default.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");else{this._localStream=m,b&&b.sdpTransform&&(this.options.sdpTransform=b.sdpTransform),this._negotiator.startConnection(i(i({},this.options._payload),{_stream:m}));var u=this.provider._getMessages(this.connectionId);try{for(var g=c(u),w=g.next();!w.done;w=g.next()){var A=w.value;this.handleMessage(A)}}catch(P){l={error:P}}finally{try{w&&!w.done&&(v=g.return)&&v.call(g)}finally{if(l)throw l.error}}this._open=!0}},_.prototype.close=function(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,S.prototype.emit.call(this,s.ConnectionEventType.Close))},_.ID_PREFIX="mc_",_}($.BaseConnection);a.MediaConnection=h},{"./util":"BHXf","./logger":"WOs9","./negotiator":"HCdX","./enums":"ZRYf","./baseconnection":"tQFK"}],GGp6:[function(t,n,a){var o=this&&this.__extends||function(){var p=function(y,s){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function($,h){$.__proto__=h}||function($,h){for(var S in h)h.hasOwnProperty(S)&&($[S]=h[S])})(y,s)};return function(y,s){function $(){this.constructor=y}p(y,s),y.prototype=s===null?Object.create(s):($.prototype=s.prototype,new $)}}(),i=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(a,"__esModule",{value:!0});var c=t("eventemitter3"),f=i(t("./logger")),d=function(p){function y(){var s=p.call(this)||this;return s.fileReader=new FileReader,s._queue=[],s._processing=!1,s.fileReader.onload=function($){s._processing=!1,$.target&&s.emit("done",$.target.result),s.doNextTask()},s.fileReader.onerror=function($){f.default.error("EncodingQueue error:",$),s._processing=!1,s.destroy(),s.emit("error",$)},s}return o(y,p),Object.defineProperty(y.prototype,"queue",{get:function(){return this._queue},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"size",{get:function(){return this.queue.length},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"processing",{get:function(){return this._processing},enumerable:!0,configurable:!0}),y.prototype.enque=function(s){this.queue.push(s),this.processing||this.doNextTask()},y.prototype.destroy=function(){this.fileReader.abort(),this._queue=[]},y.prototype.doNextTask=function(){this.size!==0&&(this.processing||(this._processing=!0,this.fileReader.readAsArrayBuffer(this.queue.shift())))},y}(c.EventEmitter);a.EncodingQueue=d},{eventemitter3:"JJlS","./logger":"WOs9"}],GBTQ:[function(t,n,a){var o=this&&this.__extends||function(){var S=function(_,m){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,l){b.__proto__=l}||function(b,l){for(var v in l)l.hasOwnProperty(v)&&(b[v]=l[v])})(_,m)};return function(_,m){function b(){this.constructor=_}S(_,m),_.prototype=m===null?Object.create(m):(b.prototype=m.prototype,new b)}}(),i=this&&this.__values||function(S){var _=typeof Symbol=="function"&&Symbol.iterator,m=_&&S[_],b=0;if(m)return m.call(S);if(S&&typeof S.length=="number")return{next:function(){return S&&b>=S.length&&(S=void 0),{value:S&&S[b++],done:!S}}};throw new TypeError(_?"Object is not iterable.":"Symbol.iterator is not defined.")},c=this&&this.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(a,"__esModule",{value:!0});var f=t("./util"),d=c(t("./logger")),p=t("./negotiator"),y=t("./enums"),s=t("./baseconnection"),$=t("./encodingQueue"),h=function(S){function _(m,b,l){var v=S.call(this,m,b,l)||this;return v.stringify=JSON.stringify,v.parse=JSON.parse,v._buffer=[],v._bufferSize=0,v._buffering=!1,v._chunkedData={},v._encodingQueue=new $.EncodingQueue,v.connectionId=v.options.connectionId||_.ID_PREFIX+f.util.randomToken(),v.label=v.options.label||v.connectionId,v.serialization=v.options.serialization||y.SerializationType.Binary,v.reliable=!!v.options.reliable,v._encodingQueue.on("done",function(u){v._bufferedSend(u)}),v._encodingQueue.on("error",function(){d.default.error("DC#"+v.connectionId+": Error occured in encoding from blob to arraybuffer, close DC"),v.close()}),v._negotiator=new p.Negotiator(v),v._negotiator.startConnection(v.options._payload||{originator:!0}),v}return o(_,S),Object.defineProperty(_.prototype,"type",{get:function(){return y.ConnectionType.Data},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"dataChannel",{get:function(){return this._dc},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"bufferSize",{get:function(){return this._bufferSize},enumerable:!0,configurable:!0}),_.prototype.initialize=function(m){this._dc=m,this._configureDataChannel()},_.prototype._configureDataChannel=function(){var m=this;f.util.supports.binaryBlob&&!f.util.supports.reliable||(this.dataChannel.binaryType="arraybuffer"),this.dataChannel.onopen=function(){d.default.log("DC#"+m.connectionId+" dc connection success"),m._open=!0,m.emit(y.ConnectionEventType.Open)},this.dataChannel.onmessage=function(b){d.default.log("DC#"+m.connectionId+" dc onmessage:",b.data),m._handleDataMessage(b)},this.dataChannel.onclose=function(){d.default.log("DC#"+m.connectionId+" dc closed for:",m.peer),m.close()}},_.prototype._handleDataMessage=function(m){var b=this,l=m.data,v=l.constructor,u=l;if(this.serialization===y.SerializationType.Binary||this.serialization===y.SerializationType.BinaryUTF8){if(v===Blob)return void f.util.blobToArrayBuffer(l,function(w){var A=f.util.unpack(w);b.emit(y.ConnectionEventType.Data,A)});if(v===ArrayBuffer)u=f.util.unpack(l);else if(v===String){var g=f.util.binaryStringToArrayBuffer(l);u=f.util.unpack(g)}}else this.serialization===y.SerializationType.JSON&&(u=this.parse(l));u.__peerData?this._handleChunk(u):S.prototype.emit.call(this,y.ConnectionEventType.Data,u)},_.prototype._handleChunk=function(m){var b=m.__peerData,l=this._chunkedData[b]||{data:[],count:0,total:m.total};if(l.data[m.n]=m.data,l.count++,this._chunkedData[b]=l,l.total===l.count){delete this._chunkedData[b];var v=new Blob(l.data);this._handleDataMessage({data:v})}},_.prototype.close=function(){this._buffer=[],this._bufferSize=0,this._chunkedData={},this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this._dc=null),this._encodingQueue&&(this._encodingQueue.destroy(),this._encodingQueue.removeAllListeners(),this._encodingQueue=null),this.open&&(this._open=!1,S.prototype.emit.call(this,y.ConnectionEventType.Close))},_.prototype.send=function(m,b){if(this.open)if(this.serialization===y.SerializationType.JSON)this._bufferedSend(this.stringify(m));else if(this.serialization===y.SerializationType.Binary||this.serialization===y.SerializationType.BinaryUTF8){var l=f.util.pack(m);if(!b&&l.size>f.util.chunkedMTU)return void this._sendChunks(l);f.util.supports.binaryBlob?this._bufferedSend(l):this._encodingQueue.enque(l)}else this._bufferedSend(m);else S.prototype.emit.call(this,y.ConnectionEventType.Error,new Error("Connection is not open. You should listen for the `open` event before sending messages."))},_.prototype._bufferedSend=function(m){!this._buffering&&this._trySend(m)||(this._buffer.push(m),this._bufferSize=this._buffer.length)},_.prototype._trySend=function(m){var b=this;if(!this.open)return!1;if(this.dataChannel.bufferedAmount>_.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(function(){b._buffering=!1,b._tryBuffer()},50),!1;try{this.dataChannel.send(m)}catch(l){return d.default.error("DC#:"+this.connectionId+" Error when sending:",l),this._buffering=!0,this.close(),!1}return!0},_.prototype._tryBuffer=function(){if(this.open&&this._buffer.length!==0){var m=this._buffer[0];this._trySend(m)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}},_.prototype._sendChunks=function(m){var b,l,v=f.util.chunk(m);d.default.log("DC#"+this.connectionId+" Try to send "+v.length+" chunks...");try{for(var u=i(v),g=u.next();!g.done;g=u.next()){var w=g.value;this.send(w,!0)}}catch(A){b={error:A}}finally{try{g&&!g.done&&(l=u.return)&&l.call(u)}finally{if(b)throw b.error}}},_.prototype.handleMessage=function(m){var b=m.payload;switch(m.type){case y.ServerMessageType.Answer:this._negotiator.handleSDP(m.type,b.sdp);break;case y.ServerMessageType.Candidate:this._negotiator.handleCandidate(b.candidate);break;default:d.default.warn("Unrecognized message type:",m.type,"from peer:",this.peer)}},_.ID_PREFIX="dc_",_.MAX_BUFFERED_AMOUNT=8388608,_}(s.BaseConnection);a.DataConnection=h},{"./util":"BHXf","./logger":"WOs9","./negotiator":"HCdX","./enums":"ZRYf","./baseconnection":"tQFK","./encodingQueue":"GGp6"}],in7L:[function(t,n,a){var o=this&&this.__awaiter||function(y,s,$,h){return new($||($=Promise))(function(S,_){function m(v){try{l(h.next(v))}catch(u){_(u)}}function b(v){try{l(h.throw(v))}catch(u){_(u)}}function l(v){var u;v.done?S(v.value):(u=v.value,u instanceof $?u:new $(function(g){g(u)})).then(m,b)}l((h=h.apply(y,s||[])).next())})},i=this&&this.__generator||function(y,s){var $,h,S,_,m={label:0,sent:function(){if(1&S[0])throw S[1];return S[1]},trys:[],ops:[]};return _={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function b(l){return function(v){return function(u){if($)throw new TypeError("Generator is already executing.");for(;m;)try{if($=1,h&&(S=2&u[0]?h.return:u[0]?h.throw||((S=h.return)&&S.call(h),0):h.next)&&!(S=S.call(h,u[1])).done)return S;switch(h=0,S&&(u=[2&u[0],S.value]),u[0]){case 0:case 1:S=u;break;case 4:return m.label++,{value:u[1],done:!1};case 5:m.label++,h=u[1],u=[0];continue;case 7:u=m.ops.pop(),m.trys.pop();continue;default:if(!(S=(S=m.trys).length>0&&S[S.length-1])&&(u[0]===6||u[0]===2)){m=0;continue}if(u[0]===3&&(!S||u[1]>S[0]&&u[1]<S[3])){m.label=u[1];break}if(u[0]===6&&m.label<S[1]){m.label=S[1],S=u;break}if(S&&m.label<S[2]){m.label=S[2],m.ops.push(u);break}S[2]&&m.ops.pop(),m.trys.pop();continue}u=s.call(y,m)}catch(g){u=[6,g],h=0}finally{$=S=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([l,v])}}},c=this&&this.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(a,"__esModule",{value:!0});var f=t("./util"),d=c(t("./logger")),p=function(){function y(s){this._options=s}return y.prototype._buildUrl=function(s){var $=(this._options.secure?"https://":"http://")+this._options.host+":"+this._options.port+this._options.path+this._options.key+"/"+s;return $+="?ts="+new Date().getTime()+Math.random()},y.prototype.retrieveId=function(){return o(this,void 0,Promise,function(){var s,$,h,S;return i(this,function(_){switch(_.label){case 0:s=this._buildUrl("id"),_.label=1;case 1:return _.trys.push([1,3,,4]),[4,fetch(s)];case 2:if(($=_.sent()).status!==200)throw new Error("Error. Status:"+$.status);return[2,$.text()];case 3:throw h=_.sent(),d.default.error("Error retrieving ID",h),S="",this._options.path==="/"&&this._options.host!==f.util.CLOUD_HOST&&(S=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+S);case 4:return[2]}})})},y.prototype.listAllPeers=function(){return o(this,void 0,Promise,function(){var s,$,h,S;return i(this,function(_){switch(_.label){case 0:s=this._buildUrl("peers"),_.label=1;case 1:return _.trys.push([1,3,,4]),[4,fetch(s)];case 2:if(($=_.sent()).status!==200)throw $.status===401?(h="",h=this._options.host===f.util.CLOUD_HOST?"It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":"You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+h)):new Error("Error. Status:"+$.status);return[2,$.json()];case 3:throw S=_.sent(),d.default.error("Error retrieving list peers",S),new Error("Could not get list peers from the server."+S);case 4:return[2]}})})},y}();a.API=p},{"./util":"BHXf","./logger":"WOs9"}],Hxpd:[function(t,n,a){var o=this&&this.__extends||function(){var l=function(v,u){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,w){g.__proto__=w}||function(g,w){for(var A in w)w.hasOwnProperty(A)&&(g[A]=w[A])})(v,u)};return function(v,u){function g(){this.constructor=v}l(v,u),v.prototype=u===null?Object.create(u):(g.prototype=u.prototype,new g)}}(),i=this&&this.__assign||function(){return(i=Object.assign||function(l){for(var v,u=1,g=arguments.length;u<g;u++)for(var w in v=arguments[u])Object.prototype.hasOwnProperty.call(v,w)&&(l[w]=v[w]);return l}).apply(this,arguments)},c=this&&this.__values||function(l){var v=typeof Symbol=="function"&&Symbol.iterator,u=v&&l[v],g=0;if(u)return u.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&g>=l.length&&(l=void 0),{value:l&&l[g++],done:!l}}};throw new TypeError(v?"Object is not iterable.":"Symbol.iterator is not defined.")},f=this&&this.__read||function(l,v){var u=typeof Symbol=="function"&&l[Symbol.iterator];if(!u)return l;var g,w,A=u.call(l),P=[];try{for(;(v===void 0||v-- >0)&&!(g=A.next()).done;)P.push(g.value)}catch(E){w={error:E}}finally{try{g&&!g.done&&(u=A.return)&&u.call(A)}finally{if(w)throw w.error}}return P},d=this&&this.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(a,"__esModule",{value:!0});var p=t("eventemitter3"),y=t("./util"),s=d(t("./logger")),$=t("./socket"),h=t("./mediaconnection"),S=t("./dataconnection"),_=t("./enums"),m=t("./api"),b=function(l){function v(u,g){var w,A=l.call(this)||this;return A._id=null,A._lastServerId=null,A._destroyed=!1,A._disconnected=!1,A._open=!1,A._connections=new Map,A._lostMessages=new Map,u&&u.constructor==Object?g=u:u&&(w=u.toString()),g=i({debug:0,host:y.util.CLOUD_HOST,port:y.util.CLOUD_PORT,path:"/",key:v.DEFAULT_KEY,token:y.util.randomToken(),config:y.util.defaultConfig},g),A._options=g,A._options.host==="/"&&(A._options.host=window.location.hostname),A._options.path&&(A._options.path[0]!=="/"&&(A._options.path="/"+A._options.path),A._options.path[A._options.path.length-1]!=="/"&&(A._options.path+="/")),A._options.secure===void 0&&A._options.host!==y.util.CLOUD_HOST?A._options.secure=y.util.isSecure():A._options.host==y.util.CLOUD_HOST&&(A._options.secure=!0),A._options.logFunction&&s.default.setLogFunction(A._options.logFunction),s.default.logLevel=A._options.debug||0,A._api=new m.API(g),A._socket=A._createServerConnection(),y.util.supports.audioVideo||y.util.supports.data?w&&!y.util.validateId(w)?(A._delayedAbort(_.PeerErrorType.InvalidID,'ID "'+w+'" is invalid'),A):(w?A._initialize(w):A._api.retrieveId().then(function(P){return A._initialize(P)}).catch(function(P){return A._abort(_.PeerErrorType.ServerError,P)}),A):(A._delayedAbort(_.PeerErrorType.BrowserIncompatible,"The current browser does not support WebRTC"),A)}return o(v,l),Object.defineProperty(v.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"open",{get:function(){return this._open},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"socket",{get:function(){return this._socket},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"connections",{get:function(){var u,g,w=Object.create(null);try{for(var A=c(this._connections),P=A.next();!P.done;P=A.next()){var E=f(P.value,2),R=E[0],B=E[1];w[R]=B}}catch(D){u={error:D}}finally{try{P&&!P.done&&(g=A.return)&&g.call(A)}finally{if(u)throw u.error}}return w},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"disconnected",{get:function(){return this._disconnected},enumerable:!0,configurable:!0}),v.prototype._createServerConnection=function(){var u=this,g=new $.Socket(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return g.on(_.SocketEventType.Message,function(w){u._handleMessage(w)}),g.on(_.SocketEventType.Error,function(w){u._abort(_.PeerErrorType.SocketError,w)}),g.on(_.SocketEventType.Disconnected,function(){u.disconnected||(u.emitError(_.PeerErrorType.Network,"Lost connection to server."),u.disconnect())}),g.on(_.SocketEventType.Close,function(){u.disconnected||u._abort(_.PeerErrorType.SocketClosed,"Underlying socket is already closed.")}),g},v.prototype._initialize=function(u){this._id=u,this.socket.start(u,this._options.token)},v.prototype._handleMessage=function(u){var g,w,A=u.type,P=u.payload,E=u.src;switch(A){case _.ServerMessageType.Open:this._lastServerId=this.id,this._open=!0,this.emit(_.PeerEventType.Open,this.id);break;case _.ServerMessageType.Error:this._abort(_.PeerErrorType.ServerError,P.msg);break;case _.ServerMessageType.IdTaken:this._abort(_.PeerErrorType.UnavailableID,'ID "'+this.id+'" is taken');break;case _.ServerMessageType.InvalidKey:this._abort(_.PeerErrorType.InvalidKey,'API KEY "'+this._options.key+'" is invalid');break;case _.ServerMessageType.Leave:s.default.log("Received leave message from "+E),this._cleanupPeer(E),this._connections.delete(E);break;case _.ServerMessageType.Expire:this.emitError(_.PeerErrorType.PeerUnavailable,"Could not connect to peer "+E);break;case _.ServerMessageType.Offer:var R=P.connectionId;if((F=this.getConnection(E,R))&&(F.close(),s.default.warn("Offer received for existing Connection ID:"+R)),P.type===_.ConnectionType.Media)F=new h.MediaConnection(E,this,{connectionId:R,_payload:P,metadata:P.metadata}),this._addConnection(E,F),this.emit(_.PeerEventType.Call,F);else{if(P.type!==_.ConnectionType.Data)return void s.default.warn("Received malformed connection type:"+P.type);F=new S.DataConnection(E,this,{connectionId:R,_payload:P,metadata:P.metadata,label:P.label,serialization:P.serialization,reliable:P.reliable}),this._addConnection(E,F),this.emit(_.PeerEventType.Connection,F)}var B=this._getMessages(R);try{for(var D=c(B),O=D.next();!O.done;O=D.next()){var I=O.value;F.handleMessage(I)}}catch(W){g={error:W}}finally{try{O&&!O.done&&(w=D.return)&&w.call(D)}finally{if(g)throw g.error}}break;default:if(!P)return void s.default.warn("You received a malformed message from "+E+" of type "+A);var F;R=P.connectionId,(F=this.getConnection(E,R))&&F.peerConnection?F.handleMessage(u):R?this._storeMessage(R,u):s.default.warn("You received an unrecognized message:",u)}},v.prototype._storeMessage=function(u,g){this._lostMessages.has(u)||this._lostMessages.set(u,[]),this._lostMessages.get(u).push(g)},v.prototype._getMessages=function(u){var g=this._lostMessages.get(u);return g?(this._lostMessages.delete(u),g):[]},v.prototype.connect=function(u,g){if(g===void 0&&(g={}),this.disconnected)return s.default.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),void this.emitError(_.PeerErrorType.Disconnected,"Cannot connect to new Peer after disconnecting from server.");var w=new S.DataConnection(u,this,g);return this._addConnection(u,w),w},v.prototype.call=function(u,g,w){if(w===void 0&&(w={}),this.disconnected)return s.default.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),void this.emitError(_.PeerErrorType.Disconnected,"Cannot connect to new Peer after disconnecting from server.");if(g){w._stream=g;var A=new h.MediaConnection(u,this,w);return this._addConnection(u,A),A}s.default.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.")},v.prototype._addConnection=function(u,g){s.default.log("add connection "+g.type+":"+g.connectionId+" to peerId:"+u),this._connections.has(u)||this._connections.set(u,[]),this._connections.get(u).push(g)},v.prototype._removeConnection=function(u){var g=this._connections.get(u.peer);if(g){var w=g.indexOf(u);w!==-1&&g.splice(w,1)}this._lostMessages.delete(u.connectionId)},v.prototype.getConnection=function(u,g){var w,A,P=this._connections.get(u);if(!P)return null;try{for(var E=c(P),R=E.next();!R.done;R=E.next()){var B=R.value;if(B.connectionId===g)return B}}catch(D){w={error:D}}finally{try{R&&!R.done&&(A=E.return)&&A.call(E)}finally{if(w)throw w.error}}return null},v.prototype._delayedAbort=function(u,g){var w=this;setTimeout(function(){w._abort(u,g)},0)},v.prototype._abort=function(u,g){s.default.error("Aborting!"),this.emitError(u,g),this._lastServerId?this.disconnect():this.destroy()},v.prototype.emitError=function(u,g){var w;s.default.error("Error:",g),(w=typeof g=="string"?new Error(g):g).type=u,this.emit(_.PeerEventType.Error,w)},v.prototype.destroy=function(){this.destroyed||(s.default.log("Destroy peer with ID:"+this.id),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit(_.PeerEventType.Close))},v.prototype._cleanup=function(){var u,g;try{for(var w=c(this._connections.keys()),A=w.next();!A.done;A=w.next()){var P=A.value;this._cleanupPeer(P),this._connections.delete(P)}}catch(E){u={error:E}}finally{try{A&&!A.done&&(g=w.return)&&g.call(w)}finally{if(u)throw u.error}}this.socket.removeAllListeners()},v.prototype._cleanupPeer=function(u){var g,w,A=this._connections.get(u);if(A)try{for(var P=c(A),E=P.next();!E.done;E=P.next())E.value.close()}catch(R){g={error:R}}finally{try{E&&!E.done&&(w=P.return)&&w.call(P)}finally{if(g)throw g.error}}},v.prototype.disconnect=function(){if(!this.disconnected){var u=this.id;s.default.log("Disconnect peer with ID:"+u),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=u,this._id=null,this.emit(_.PeerEventType.Disconnected,u)}},v.prototype.reconnect=function(){if(this.disconnected&&!this.destroyed)s.default.log("Attempting reconnection to server with ID "+this._lastServerId),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(this.disconnected||this.open)throw new Error("Peer "+this.id+" cannot reconnect because it is not disconnected from the server!");s.default.error("In a hurry? We're still trying to make the initial connection!")}},v.prototype.listAllPeers=function(u){var g=this;u===void 0&&(u=function(w){}),this._api.listAllPeers().then(function(w){return u(w)}).catch(function(w){return g._abort(_.PeerErrorType.ServerError,w)})},v.DEFAULT_KEY="peerjs",v}(p.EventEmitter);a.Peer=b},{eventemitter3:"JJlS","./util":"BHXf","./logger":"WOs9","./socket":"wJlv","./mediaconnection":"dbHP","./dataconnection":"GBTQ","./enums":"ZRYf","./api":"in7L"}],iTK6:[function(t,n,a){Object.defineProperty(a,"__esModule",{value:!0});var o=t("./util"),i=t("./peer");a.peerjs={Peer:i.Peer,util:o.util},a.default=i.Peer,window.peerjs=a.peerjs,window.Peer=i.Peer},{"./util":"BHXf","./peer":"Hxpd"}]},{},["iTK6"])}),yy=_y(gy),Oi=yy;var Li=class{constructor(r=location.href){this.callbacks={join:Function.prototype,error:Function.prototype,receive:Function.prototype,leave:Function.prototype,send:Function.prototype},this.on=(...t)=>{switch(t[0]){case ve.send:break;case ve.join:this.callbacks.join=t[1];break;case ve.receive:this.callbacks.receive=t[1];break;case ve.error:this.callbacks.error=t[1];break;case ve.leave:this.callbacks.leave=t[1];break}},this.options=Sy(r)}},Ii=class extends Li{constructor(){super(...arguments);this.connect=r=>{let t=new Oi(r,this.options),n=new Map;this.callbacks.send=([a,o])=>{n.get(a)?.send(o)},t.on("error",a=>{n.clear(),this.callbacks.error(a.message)}),t.on("connection",a=>{a.on("open",()=>{n.has(a.label)?a.close():(n.set(a.label,a),this.callbacks.join(a.label),a.on("close",()=>{n.delete(a.label),this.callbacks.leave(a.label)}),a.on("data",o=>{this.callbacks.receive(a.label,o)}))})})},this.send=r=>{this.callbacks.send(r)}}},Yr=class extends Li{constructor(r=location.href,t="peerJsLabel"){super(r);this.initialReconnectTime=100,this.connectTimeOut=3e3,this.retryDelay=this.initialReconnectTime,this.maxRetryTimeOut=15e3,this.msgBuffer=[],this.buffering=n=>{this.msgBuffer.push(n)},this.callbacks={join:Function.prototype,error:Function.prototype,receive:Function.prototype,leave:Function.prototype,send:this.buffering},this.connect=(n,a=sessionStorage[this.saveKey])=>{let o=new Oi("",this.options);o.on("error",i=>{this.reconnect(n,o,o.connections[0],i.message)}),o.on("close",()=>{o.destroy()}),o.on("open",()=>{let i=o.connect(n,{serialization:"none",reliable:!0,label:a});sessionStorage[this.saveKey]=i.label;let c=setTimeout(()=>this.reconnect(n,o,i),this.connectTimeOut);i.on("open",()=>{clearTimeout(c),this.retryDelay=this.initialReconnectTime,this.msgBuffer.forEach(f=>i.send(f)),this.msgBuffer=[],this.callbacks.send=f=>i.send(f),this.callbacks.join()}),i.on("data",f=>{this.callbacks.receive(f)}),i.on("close",()=>{sessionStorage.removeItem(this.saveKey),this.reconnect(n,o,i),this.callbacks.leave()}),i.on("error",f=>{this.callbacks.error(f.message)})})},this.reconnect=(n,a,o,i)=>{this.callbacks.send=this.buffering,o?.close(),a.destroy(),i&&this.callbacks.error(i),setTimeout(()=>this.connect(n),this.retryDelay),this.retryDelay=Math.min(this.retryDelay*1.5,this.maxRetryTimeOut)},this.send=n=>{this.callbacks.send(n)},this.saveKey=t}},Sy=e=>{try{let r=new URL(e),t={host:r.hostname,path:r.pathname,secure:r.protocol==="https:"};return r.port!==""&&(t.port=+r.port),t}catch(r){return{}}};zi();Ui()&&Gi();var bt=xi,Cy="justgook-durak";if(location.search.startsWith("?server=")){let e=_f.Rpg.Server.init();Wi(e,{connection:new Ii(bt),gameChannel:Cy,tick:bf(10)})}var wy=dt.Rpg.Client.init({flags:{screen:{width:window.innerWidth,height:window.innerHeight},meta:{}},node:document.body.appendChild(document.createElement("div"))});fo(wy,{transport:new Yr(bt)});location.search.startsWith("?debug=")&&(document.body.classList.add("debug"),cn("game1",dt.Rpg.Client.init,new Yr(bt,"game1")),cn("game2",dt.Rpg.Client.init,new Yr(bt,"game2")),cn("game3",dt.Rpg.Client.init,new Yr(bt,"game3")),cn("game4",dt.Rpg.Client.init,new Yr(bt,"game4")));
